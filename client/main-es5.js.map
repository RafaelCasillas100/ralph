{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/app/admin/components/deposito/deposito.component.ts","webpack:///src/app/admin/components/deposito/deposito.component.html","webpack:///src/app/admin/components/estadisticas/estadisticas.component.ts","webpack:///src/app/admin/components/historialRes/historialRes.component.ts","webpack:///src/app/admin/components/historialRes/historialRes.component.html","webpack:///src/app/admin/components/inicioA/inicioA.component.ts","webpack:///src/app/admin/components/inicioA/inicioA.component.html","webpack:///src/app/admin/components/mensajesSMS/mensajesSMS.component.ts","webpack:///src/app/admin/components/mensajesSMS/mensajesSMS.component.html","webpack:///src/app/admin/components/pedidoA/pedidoA.component.ts","webpack:///src/app/admin/components/pedidoA/pedidoA.component.html","webpack:///src/app/admin/components/pedidoPrueba/pedidoPrueba.component.ts","webpack:///src/app/admin/components/pedidoPrueba/pedidoPrueba.component.html","webpack:///src/app/admin/components/registrarRest/registrarRest.component.ts","webpack:///src/app/admin/components/registrarRest/registrarRest.component.html","webpack:///src/app/admin/components/restaurantes/restaurantes.component.ts","webpack:///src/app/admin/components/restaurantes/restaurantes.component.html","webpack:///src/app/admin/components/usuarios/usuarios.component.ts","webpack:///src/app/admin/components/usuarios/usuarios.component.html","webpack:///src/app/admin/models/deposito.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/app.routing.ts","webpack:///src/app/components/cupones/cupones.component.ts","webpack:///src/app/components/cupones/cupones.component.html","webpack:///src/app/components/gracias/gracias.component.ts","webpack:///src/app/components/gracias/gracias.component.html","webpack:///src/app/components/inicio/inicio.component.ts","webpack:///src/app/components/inicio/inicio.component.html","webpack:///src/app/components/login/login.component.ts","webpack:///src/app/components/login/login.component.html","webpack:///src/app/components/mis-datos/misDatos.component.ts","webpack:///src/app/components/mis-datos/misDatos.component.html","webpack:///src/app/components/mis-pedidos/misPedidos.component.ts","webpack:///src/app/components/mis-pedidos/misPedidos.component.html","webpack:///src/app/components/nosotros/nosotros.component.ts","webpack:///src/app/components/nosotros/nosotros.component.html","webpack:///src/app/components/nuevaContra/nuevaContra.component.ts","webpack:///src/app/components/nuevaContra/nuevaContra.component.html","webpack:///src/app/components/pedido/pedido.component.ts","webpack:///src/app/components/pedido/pedido.component.html","webpack:///src/app/components/politicas/politicas.component.ts","webpack:///src/app/components/politicas/politicas.component.html","webpack:///src/app/components/premios/premios.component.ts","webpack:///src/app/components/producto/producto.component.ts","webpack:///src/app/components/producto/producto.component.html","webpack:///src/app/components/redireccionADS/redireccionADS.component.ts","webpack:///src/app/components/redireccionADS/redireccionADS.component.html","webpack:///src/app/components/redireccionLinks/redireccionLinks.component.ts","webpack:///src/app/components/redireccionLinks/redireccionLinks.component.html","webpack:///src/app/components/redireccionQR/redireccionQR.component.ts","webpack:///src/app/components/redireccionQR/redireccionQR.component.html","webpack:///src/app/components/register/register.component.ts","webpack:///src/app/components/register/register.component.html","webpack:///src/app/components/restaurante/restaurante.component.ts","webpack:///src/app/components/restaurante/restaurante.component.html","webpack:///src/app/components/verificacion/verificacion.component.ts","webpack:///src/app/components/verificacion/verificacion.component.html","webpack:///src/app/main-nav/main-nav.component.ts","webpack:///src/app/main-nav/main-nav.component.html","webpack:///src/app/models/cupon.ts","webpack:///src/app/models/notificacion.ts","webpack:///src/app/models/pedido.ts","webpack:///src/app/models/pedidoProducto.ts","webpack:///src/app/models/usuario.ts","webpack:///src/app/repartidor/inicioRe/inicioRe.component.ts","webpack:///src/app/repartidor/inicioRe/inicioRe.component.html","webpack:///src/app/repartidor/pedidoRe/pedidoRe.component.ts","webpack:///src/app/repartidor/pedidoRe/pedidoRe.component.html","webpack:///src/app/restaurantes/components/PerfilRestaurantR/PerfilRestaurantR.component.ts","webpack:///src/app/restaurantes/components/PerfilRestaurantR/PerfilRestaurantR.component.html","webpack:///src/app/restaurantes/components/creditoDebo/creditoDebo.component.ts","webpack:///src/app/restaurantes/components/creditoDebo/creditoDebo.component.html","webpack:///src/app/restaurantes/components/depositos/depositos.component.ts","webpack:///src/app/restaurantes/components/depositos/depositos.component.html","webpack:///src/app/restaurantes/components/detalleProd/detalleProd.component.ts","webpack:///src/app/restaurantes/components/detalleProd/detalleProd.component.html","webpack:///src/app/restaurantes/components/inicioR/inicioR.component.ts","webpack:///src/app/restaurantes/components/inicioR/inicioR.component.html","webpack:///src/app/restaurantes/components/misDatosR/misdatosR.component.ts","webpack:///src/app/restaurantes/components/misDatosR/misDatosR.component.html","webpack:///src/app/restaurantes/components/pedidoR/pedidoR.component.ts","webpack:///src/app/restaurantes/components/pedidoR/pedidoR.component.html","webpack:///src/app/restaurantes/components/productoR/productoR.component.ts","webpack:///src/app/restaurantes/components/productoR/productoR.component.html","webpack:///src/app/restaurantes/components/seccion/seccion.component.ts","webpack:///src/app/restaurantes/components/seccion/seccion.component.html","webpack:///src/app/restaurantes/components/ventas/ventas.component.ts","webpack:///src/app/restaurantes/components/ventas/ventas.component.html","webpack:///src/app/restaurantes/models/ingredientes.ts","webpack:///src/app/restaurantes/models/producto.ts","webpack:///src/app/restaurantes/models/restaurante.ts","webpack:///src/app/restaurantes/models/seccion.ts","webpack:///src/app/services/canActivate/admin.guard.ts","webpack:///src/app/services/canActivate/repartidor.guard.ts","webpack:///src/app/services/canActivate/restaurant.guard.ts","webpack:///src/app/services/canActivate/user.guard.ts","webpack:///src/app/services/cupon.service.ts","webpack:///src/app/services/global.ts","webpack:///src/app/services/municipio.service.ts","webpack:///src/app/services/pedido.service.ts","webpack:///src/app/services/producto.service.ts","webpack:///src/app/services/restaurante.service.ts","webpack:///src/app/services/stats.service.ts","webpack:///src/app/services/upload.service.ts","webpack:///src/app/services/usuario.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","map","webpackContext","webpackContextResolve","__webpack_require__","o","webpackContextKeys","Object","DepositoComponent","_route","_router","_usuarioService","_restauranteService","_location","url","token","getToken","identity","getIdentity","deposito","error","tipo","cobro","loadPage","params","subscribe","obtenerRestaurante","identityR","JSON","parse","localStorage","getItem","removeItem","back","n","response","restaurante","_id","console","log","errorMessage","status","form","credito","push","debe","ralphDebe","cantidad","crearDeposito","reset","status2","actualizarCredito","message","nota","fecha","resultado","resultado2","crearCobro","actualizarRestaurante","backClicked","cambiarTipo","selector","templateUrl","providers","EstadisticasComponent","HistorialResComponent","_pedidoService","pedidos","page","loading","restauranteId","obtenerPedidos","obtenerDepositos","obtenerCobros","pages","setItem","stringify","adding","total","arrayA","arrayB","concat","depositos","cobros","deposit","InicioAComponent","usuario","notificacion","obtenerPedidosUsuario","municipioId","municipio","actualizarUsuario","statusAdmin","imagen","horas","activarRestaurantes","clear","logout","actualizarAdmin","onScroll","MensajesSMSComponent","_cuponService","cupones","usuarios","restaurantes","usuariosSinCupon","usuariosConCupon","GrupoAusuarios","GrupoBusuarios","GrupoCusuarios","GrupoDusuarios","GrupoArestaurantes","GrupoBrestaurantes","GrupoCrestaurantes","GrupoDrestaurantes","select","n1","n2","grupo","obtenerUsuarios","todosLosUsuarios","forEach","element","m","indexOf","splice","rol","setTimeout","ordenarUsuarios","x","PedidoAComponent","obtenerPedido","pedidoProducto","pedidoId","pedido","usuarioId","actualizarPedido","eliminarPedido","cupon","com","comision","envio","res","res2","alert","window","location","href","tel","selBox","document","createElement","style","position","left","top","opacity","value","body","appendChild","focus","execCommand","removeChild","producto","PedidoPruebaComponent","obtenerRestaurantesAdmin","FBads","elemento","getElementById","checked","servicioDomicilio","pedidoMinimo","darDeAltaRestaurante","contenido","direccion","crearPedido","numero","nombre","fechaVencimiento","param","opcion","opcionesRestaurante","length","pop","servicioDom","title","Notification","requestPermission","permission","vapid","navigator","serviceWorker","getRegistration","reg","getPublicKey","key","pushManager","userVisibleOnly","applicationServerKey","toJSON","subscription","fetch","method","headers","arrayBuffer","Uint8Array","pedidoPrueba","RegistrarRestComponent","_municipiosService","obtenerMunicipios","municipios","registrarRestaurante","permiso","actualizarPermisosUsuario","visitas","onSubmit","RestaurantesComponent","_statsService","tipoRestaurantes","notificaciones","todasLasStats","mostrarEmpleados","obtenerNotificaciones","restaurantesActivos","todosEmpleados","filter","posicion","empleados","correo","getStats","stats","restaurantesPorActivar","modal","telefono","llamarUsuario","pushNotification","obtenerRestaurantes","UsuariosComponent","tipoUsuarios","obtenerCupones","obtenerTodosUsuarios","usuariosActivos","obtenerUsuariosPorActivar","todosLosUsuarios2","usuariosSinActivar","activarUsuario","prepararContra","buscarUsuario","eliminarUsuario","allStats","generarContrasena","Deposito","metodoPago","routes","AppRoutingModule","forRoot","imports","AppComponent","router","events","y","fbq","styleUrls","config","PROVIDER_ID","provider","provideConfig","AppModule","provide","useFactory","register","enabled","production","declarations","bootstrap","appRoutes","path","component","canActivate","appRoutingProviders","routing","CuponesComponent","checkModal","reload","localTime","unix","element2","actualizarCupon","nuevoCupon","cupon2","cuponExpirado","GraciasComponent","restauranteNombre","history","go","navigate","InicioComponent","_productoService","getIdentityR","restaurantes2","restaurantes3","restaurantesNew","restaurantesArray","productos","numberOfItems","categorias","pedirProductos","categoriaActual","noDisponibles","restauranteBadge","repartidorBadge","pedidosBadge","cuponesBadge","mun","obtenerCategorias","contarPedidos","checkURL","host","replace","pushState","promocion","texto2","stopped","minuto","segundo","temporizador","setInterval","stop","clearInterval","promoCupon","nuevaVisitaApp","nuevaVisita","visit","elements","num","Math","ceil","obtenerProductosRandom","elementos","elementos2","ordenarRestaurantes","items","peticion","categoria","nuevoClickCategoria","productoId","LoginComponent","signup","MisDatosComponent","_uploadService","imageCompress","obtenerUsuario","MisPedidosComponent","pedidosAnteriores","completedload","obtenerPedidosAnteriores","NosotrosComponent","NuevaContraComponent","usuario2","obtenerUsuario2","password","actualizarContra","PedidoComponent","compraMinima","supportNotification","obtenerPedidoLocal","domicilio","sacarValores","totalPedido","totalComision","object","pedidoNew","total2","cuponCompleto","cuponPosicion","nuevoPedido","cup","support","notif","boton","notificationRequest","PoliticasComponent","PremiosComponent","ProductoComponent","ingredientes","ingredientes2","seleccionados","ingPrecio","ingSelec","ingObli3","obtenerProducto","obtenerSeccion","acomodarIngredientes","seccion","objeto","minimo","maximo","ingredienteUnico","ing","includes","ingredienteMultiple","q","agregarIngrediente","elemento2","estado","undefined","modificarTotal","ingrediente","suma","ingObligatorios","ingObli","ingObli2","ingredientes3","ingComision","precio","tiempoEntrega","minus","plus","RedireccionADSComponent","promo","campania","charAt","tipoAnuncio","numeroAnuncio","nuevavisitaFB","RedireccionLinksComponent","restauranteID","productoID","checkRestID","restID","redireccion","replaceState","ua","userAgent","vendor","addEventListener","evt","RedireccionQRComponent","nuevaVisitaPublicidad","RegisterComponent","authService","texto","obtenerMunicipio","signIn","data","email","firstName","apellido","lastName","plataforma","_directives","model","codigoVerificacion","RestauranteComponent","obtenerSecciones","obtenerHorario","nuevaVisitaRestaurante","horario","dia","apertura","horarioApertura","horarioCierre","cierre","aperturaAM","cierreAM","aperturaMedia","cierreMedia","toString","slice","load","horarioApertura2","horarioCierre2","aperturaAM2","cierreAM2","aperturaMedia2","cierreMedia2","diasSemana","cerrado","secciones","obtenerProductos","seccionId","borrarPedido","VerificacionComponent","verificarTelefono","MainNavComponent","breakpointObserver","isHandset$","observe","Handset","pipe","result","matches","Cupon","Notificacion","Pedido","PedidoProducto","Usuario","confirm_password","InicioReComponent","obtenerPedidosRepartidor","PedidoReComponent","llamadas","PerfilRestaurantRComponent","obtenerProductosRestaurante","productoStatus","numeroDeLaFuncion","eliminarProducto","activarProducto","eliminarSeccion","producto_id","vacio","ejecutar","copyMessage","creditoDeboComponent","DepositosComponent","DetalleProdComponent","InicioRComponent","activarRestaurante","MisDatosRComponent","localCompressedURl","vecesProceso","fileToUpload","size","imageFile","convertFile","imgResultAfterCompress","makeFileRequest","fileInput","target","files","reader","FileReader","onload","localUrl","compressFile","readAsDataURL","image","orientation","sizeOfOriginalImage","byteCount","compresion","sizeOFCompressedImage","imageBlob","dataURItoBlob","split","File","type","dataURI","byteString","atob","ArrayBuffer","int8Array","i","charCodeAt","blob","Blob","PedidoRComponent","op","operacion","op1","operacion1","op2","operacion2","op3","operacion3","op4","operacion4","direction","ProductoRComponent","ingredientesExtras","ingr","aaaa","alerta","Number","isInteger","titulo","ingredient","ingredientesE","action1","action2","crearProducto","actualizarproducto","SeccionComponent","title2","crearSeccion","actualizarSeccion","ventasComponent","Ingredientes","Producto","descripcion","Restaurante","propietario","ubicacion","Seccion","AdminGuard","RepartidorGuard","RestaurantGuard","UserGuard","CuponService","_http","codigo","set","get","post","GLOBAL","MunicipiosService","PedidoService","who","notification","ProductoService","put","RestauranteService","depositoId","cobroId","StatsService","parametro","collection","UploadService","file","name","reject","formData","FormData","xhr","XMLHttpRequest","append","onreadystatechange","readyState","open","setRequestHeader","send","UsuarioService","gettoken","environment","bootstrapModule","err"],"mappings":"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AA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,sE,CAcA;AA4CA;AAUA;;;AAYA,QAAIC,MAAM,GAAG,IAAI,wEAAJ,CAAsB,CACjC;AACEvQ,QAAE,EAAE,2EAAoBwQ,WAD1B;AAEEC,cAAQ,EAAE,IAAI,0EAAJ,CAAwB,0EAAxB;AAFZ,KADiC,EAKjC;AACEzQ,QAAE,EAAE,6EAAsBwQ,WAD5B;AAEEC,cAAQ,EAAE,IAAI,4EAAJ,CAA0B,iBAA1B;AAFZ,KALiC,CAAtB,CAAb;;AAWO,aAASC,aAAT,GAAyB;AAC9B,aAAOH,MAAP;AACD;;QAoFYI,S;;;;;YAAAA,S;AAAS,kBAFR,4DAEQ;;;;yBAATA,S;AAAS,O;AAAA,iBAhBT,CACT,gEADS,EAET,yEAFS,EAGT,iFAHS,EAIT,0EAJS,EAKT,2EALS,EAMT,uFANS,EAOT,uFAPS,EAQT,6EARS,EAST;AACEC,eAAO,EAAE,wEADX;AAEEC,kBAAU,EAAEH;AAFd,OATS,C;AAaV,gBAhCQ,CACP,uEADO,EAEP,oEAFO,EAGP,0DAHO,EAIP,oDAJO,EAKP,qEALO,EAMP,4DANO,EAOP,4DAPO,EAQP,wEARO,EASP,6EAAoBI,QAApB,CAA6B,gBAA7B,EAA+C;AAAEC,eAAO,EAAE,uEAAYC;AAAvB,OAA/C,CATO,EAUP,6FAVO,EAWP,iEAXO,EAYP,2EAZO,EAaP,yEAbO,EAcP,2EAdO,EAeP,qEAfO,EAgBP,qEAhBO,EAiBP,wEAjBO,CAgCR;;;;0HAGUL,S,EAAS;AAAA,uBA9ElB,4DA8EkB,EA7ElB,iFA6EkB,EA5ElB,0FA4EkB,EA3ElB,sGA2EkB,EA1ElB,oFA0EkB,EAzElB,oGAyEkB,EAxElB,0GAwEkB,EAvElB,uFAuEkB,EAtElB,6FAsEkB,EArElB,0FAqEkB,EApElB,0GAoEkB,EAnElB,uFAmEkB,EAlElB,uFAkEkB,EAjElB,mGAiEkB,EAhElB,yGAgEkB,EA/DlB,4GA+DkB,EA9DlB,kHA8DkB,EA7DlB,kIA6DkB,EA5DlB,oGA4DkB,EA3DlB,oGA2DkB,EA1DlB,gHA0DkB,EAzDlB,iGAyDkB,EAxDlB,0GAwDkB,EAvDlB,gHAuDkB,EAtDlB,+GAsDkB,EArDlB,2FAqDkB,EApDlB,mGAoDkB,EAnDlB,0FAmDkB,EAlDlB,oFAkDkB,EAjDlB,iGAiDkB,EAhDlB,0FAgDkB,EA/ClB,0FA+CkB,EA9ClB,6FA8CkB,EA7ClB,4GA6CkB,EA5ClB,6FA4CkB,EA3ClB,yGA2CkB,EA1ClB,gGA0CkB,EAzClB,4GAyCkB,EAxClB,4GAwCkB,EAvClB,gGAuCkB,EAtClB,4GAsCkB,EArClB,8EAqCkB;AArCF,kBAGhB,uEAHgB,EAIhB,oEAJgB,EAKhB,0DALgB,EAKL,6DALK,EAOhB,qEAPgB,EAQhB,4DARgB,EAShB,4DATgB,EAUhB,wEAVgB,EAUI,4EAVJ,EAYhB,6FAZgB,EAahB,iEAbgB,EAchB,2EAdgB,EAehB,yEAfgB,EAgBhB,2EAhBgB,EAiBhB,qEAjBgB,EAkBhB,qEAlBgB,EAmBhB,wEAnBgB;AAqCE,O;AAlBD,K;;;;;sEAkBRA,S,EAAS;cAhFrB,sDAgFqB;eAhFZ;AACRM,sBAAY,EAAE,CACZ,4DADY,EAEZ,iFAFY,EAGZ,0FAHY,EAIZ,sGAJY,EAKZ,oFALY,EAMZ,oGANY,EAOZ,0GAPY,EAQZ,uFARY,EASZ,6FATY,EAUZ,0FAVY,EAWZ,0GAXY,EAYZ,uFAZY,EAaZ,uFAbY,EAcZ,mGAdY,EAeZ,yGAfY,EAgBZ,4GAhBY,EAiBZ,kHAjBY,EAkBZ,kIAlBY,EAmBZ,oGAnBY,EAoBZ,oGApBY,EAqBZ,gHArBY,EAsBZ,iGAtBY,EAuBZ,0GAvBY,EAwBZ,gHAxBY,EAyBZ,+GAzBY,EA0BZ,2FA1BY,EA2BZ,mGA3BY,EA4BZ,0FA5BY,EA6BZ,oFA7BY,EA8BZ,iGA9BY,EA+BZ,0FA/BY,EAgCZ,0FAhCY,EAiCZ,6FAjCY,EAkCZ,4GAlCY,EAmCZ,6FAnCY,EAoCZ,yGApCY,EAqCZ,gGArCY,EAsCZ,4GAtCY,EAuCZ,4GAvCY,EAwCZ,gGAxCY,EAyCZ,4GAzCY,EA0CZ,8EA1CY,CADN;AA6CRjB,iBAAO,EAAE,CACP,uEADO,EAEP,oEAFO,EAGP,0DAHO,EAIP,oDAJO,EAKP,qEALO,EAMP,4DANO,EAOP,4DAPO,EAQP,wEARO,EASP,6EAAoBc,QAApB,CAA6B,gBAA7B,EAA+C;AAAEC,mBAAO,EAAE,uEAAYC;AAAvB,WAA/C,CATO,EAUP,6FAVO,EAWP,iEAXO,EAYP,2EAZO,EAaP,yEAbO,EAcP,2EAdO,EAeP,qEAfO,EAgBP,qEAhBO,EAiBP,wEAjBO,CA7CD;AAgERjN,mBAAS,EAAE,CACT,gEADS,EAET,yEAFS,EAGT,iFAHS,EAIT,0EAJS,EAKT,2EALS,EAMT,uFANS,EAOT,uFAPS,EAQT,6EARS,EAST;AACE6M,mBAAO,EAAE,wEADX;AAEEC,sBAAU,EAAEH;AAFd,WATS,CAhEH;AA8ERQ,mBAAS,EAAE,CAAC,4DAAD;AA9EH,S;AAgFY,Q;;;;;;;;;;;;;;;;;;AChLtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,qD,CAEA;;;AAgDA,QAAMC,SAAS,GAAW,CACtB;AAACC,UAAI,EAAE,EAAP;AAAWC,eAAS,EAAE;AAAtB,KADsB,EAEtB;AAACD,UAAI,EAAE,eAAP;AAAwBC,eAAS,EAAE;AAAnC,KAFsB,EAGtB;AAACD,UAAI,EAAE,mCAAP;AAA4CC,eAAS,EAAE;AAAvD,KAHsB,EAItB;AAACD,UAAI,EAAE,iBAAP;AAA0BC,eAAS,EAAE;AAArC,KAJsB,EAKtB;AAACD,UAAI,EAAE,2BAAP;AAAoCC,eAAS,EAAE;AAA/C,KALsB,EAMtB;AAACD,UAAI,EAAE,OAAP;AAAgBC,eAAS,EAAE;AAA3B,KANsB,EAOtB;AAACD,UAAI,EAAE,UAAP;AAAmBC,eAAS,EAAE;AAA9B,KAPsB,EAQtB;AAACD,UAAI,EAAE,mBAAP;AAA4BC,eAAS,EAAE;AAAvC,KARsB,EAStB;AAACD,UAAI,EAAE,kBAAP;AAA2BC,eAAS,EAAE,0FAAtC;AAAyDC,iBAAW,EAAC,CAAC,6EAAD;AAArE,KATsB,EAUtB;AAACF,UAAI,EAAE,cAAP;AAAuBC,eAAS,EAAE,yFAAlC;AAAqDC,iBAAW,EAAC,CAAC,2EAAD;AAAjE,KAVsB,EAWtB;AAACF,UAAI,EAAE,aAAP;AAAsBC,eAAS,EAAE,gGAAjC;AAAsDC,iBAAW,EAAC,CAAC,2EAAD;AAAlE,KAXsB,EAYtB;AAACF,UAAI,EAAE,YAAP;AAAqBC,eAAS,EAAE,mFAAhC;AAAiDC,iBAAW,EAAC,CAAC,2EAAD;AAA7D,KAZsB,EAatB;AAACF,UAAI,EAAE,cAAP;AAAuBC,eAAS,EAAE,uFAAlC;AAAoDC,iBAAW,EAAC,CAAC,2EAAD;AAAhE,KAbsB,EActB;AAACF,UAAI,EAAE,SAAP;AAAkBC,eAAS,EAAE,uFAA7B;AAA+CC,iBAAW,EAAC,CAAC,2EAAD;AAA3D,KAdsB,EAetB;AAACF,UAAI,EAAE,SAAP;AAAkBC,eAAS,EAAE;AAA7B,KAfsB,EAgBtB;AAACD,UAAI,EAAE,kBAAP;AAA2BC,eAAS,EAAE;AAAtC,KAhBsB,EAiBtB;AAACD,UAAI,EAAE,UAAP;AAAmBC,eAAS,EAAE;AAA9B,KAjBsB,EAkBtB;AAACD,UAAI,EAAE,WAAP;AAAoBC,eAAS,EAAE;AAA/B,KAlBsB,EAmBtB;AAACD,UAAI,EAAE,gBAAP;AAAyBC,eAAS,EAAE;AAApC,KAnBsB,EAoBtB;AAACD,UAAI,EAAE,mBAAP;AAA4BC,eAAS,EAAE,0FAAvC;AAA0DC,iBAAW,EAAC,CAAC,uFAAD;AAAtE,KApBsB,EAqBtB;AAACF,UAAI,EAAE,uBAAP;AAAgCC,eAAS,EAAE,0FAA3C;AAA8DC,iBAAW,EAAC,CAAC,uFAAD;AAA1E,KArBsB,EAsBtB;AAACF,UAAI,EAAE,oBAAP;AAA6BC,eAAS,EAAE,oGAAxC;AAA0DC,iBAAW,EAAC,CAAC,uFAAD;AAAtE,KAtBsB,EAuBtB;AAACF,UAAI,EAAE,gCAAP;AAAyCC,eAAS,EAAE;AAApD,KAvBsB,EAwBtB;AAACD,UAAI,EAAE,uBAAP;AAAgCC,eAAS,EAAE,0GAA3C;AAA+DC,iBAAW,EAAC,CAAC,uFAAD;AAA3E,KAxBsB,EAyBtB;AAACF,UAAI,EAAE,oBAAP;AAA6BC,eAAS,EAAE,kIAAxC;AAAoEC,iBAAW,EAAC,CAAC,uFAAD;AAAhF,KAzBsB,EA0BtB;AAACF,UAAI,EAAE,0BAAP;AAAmCC,eAAS,EAAE,0GAA9C;AAAkEC,iBAAW,EAAC,CAAC,uFAAD;AAA9E,KA1BsB,EA2BtB;AAACF,UAAI,EAAE,yBAAP;AAAkCC,eAAS,EAAE,oGAA7C;AAA+DC,iBAAW,EAAC,CAAC,uFAAD;AAA3E,KA3BsB,EA4BtB;AAACF,UAAI,EAAE,oBAAP;AAA6BC,eAAS,EAAE,iGAAxC;AAAyDC,iBAAW,EAAC,CAAC,uFAAD;AAArE,KA5BsB,EA6BtB;AAACF,UAAI,EAAE,0BAAP;AAAmCC,eAAS,EAAE,gHAA9C;AAAoEC,iBAAW,EAAC,CAAC,uFAAD;AAAhF,KA7BsB,EA8BtB;AAACF,UAAI,EAAE,uBAAP;AAAgCC,eAAS,EAAE,0GAA3C;AAA+DC,iBAAW,EAAC,CAAC,uFAAD;AAA3E,KA9BsB,EA+BtB;AAACF,UAAI,EAAE,kCAAP;AAA2CC,eAAS,EAAE;AAAtD,KA/BsB,EAgCtB;AAACD,UAAI,EAAE,cAAP;AAAuBC,eAAS,EAAE,6FAAlC;AAAoDC,iBAAW,EAAC,CAAC,6EAAD;AAAhE,KAhCsB,EAiCtB;AAACF,UAAI,EAAE,6BAAP;AAAsCC,eAAS,EAAE,+GAAjD;AAAyEC,iBAAW,EAAC,CAAC,6EAAD;AAArF,KAjCsB,EAkCtB;AAACF,UAAI,EAAE,qBAAP;AAA8BC,eAAS,EAAE,4GAAzC;AAAgEC,iBAAW,EAAC,CAAC,6EAAD;AAA5E,KAlCsB,EAmCtB;AAACF,UAAI,EAAE,kBAAP;AAA2BC,eAAS,EAAE,6FAAtC;AAAwDC,iBAAW,EAAC,CAAC,6EAAD;AAApE,KAnCsB,EAoCtB;AAACF,UAAI,EAAE,mBAAP;AAA4BC,eAAS,EAAE,yGAAvC;AAA6DC,iBAAW,EAAC,CAAC,6EAAD;AAAzE,KApCsB,EAqCtB;AAACF,UAAI,EAAE,gBAAP;AAAyBC,eAAS,EAAE,gGAApC;AAAuDC,iBAAW,EAAC,CAAC,6EAAD;AAAnE,KArCsB,EAsCtB;AAACF,UAAI,EAAE,oBAAP;AAA6BC,eAAS,EAAE,4GAAxC;AAA+DC,iBAAW,EAAC,CAAC,6EAAD;AAA3E,KAtCsB,EAuCtB;AAACF,UAAI,EAAE,oBAAP;AAA6BC,eAAS,EAAE,4GAAxC;AAA+DC,iBAAW,EAAC,CAAC,6EAAD;AAA3E,KAvCsB,EAwCtB;AAACF,UAAI,EAAE,oBAAP;AAA6BC,eAAS,EAAE,gGAAxC;AAA2DC,iBAAW,EAAC,CAAC,6EAAD;AAAvE,KAxCsB,EAyCtB;AAACF,UAAI,EAAE,qBAAP;AAA8BC,eAAS,EAAE,4GAAzC;AAAgEC,iBAAW,EAAC,CAAC,6EAAD;AAA5E,KAzCsB,EA0CtB;AAACF,UAAI,EAAE,IAAP;AAAaC,eAAS,EAAE;AAAxB,KA1CsB,CAA1B;AA6CO,QAAME,mBAAmB,GAAU,EAAnC;;AACA,QAAMC,OAAO,GAAwB,6DAAazB,OAAb,CAAqBoB,SAArB,CAArC;;;;;;;;;;;;;;;;;ACjGP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;;;ACgBQ;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;AAIR;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;AAkBR;;AACI;;AACA;;AAAuB;;AAAiD;;AAExE;;AAAuB;;AAAsD;;AACjF;;;;;;AAEA;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;AAOA;;AACI;;AACI;;AAII;;AACI;;AACI;;AACJ;;AACA;;AACI;;AAAkD;;AAAK;;AACvD;;AAEA;;AACA;;AAAqC;;AAAQ;;;;;;;;AAA0F;;AAAU;;AAAK;;AAA4D;;AACtN;;AACJ;;AACA;;AAGJ;;AACJ;;AACJ;;;;;;;;AAfoB;;AAAA;;AAIA;;AAAA;;AAG6C;;AAAA;;AAAyG;;AAAA;;;;;;AAhB9K;;AACI;;AAwBJ;;;;;;AAxBS;;AAAA;;;;;;AAFb;;AACI;;AA0BA;;AACI;;AAA4C;;AAAmD;;AACnG;;AACJ;;;;;;AA7BS;;AAAA;;;;;;AA+BT;;AACI;;AACI;;AACJ;;AACJ;;;;QD3EKM,gB;AAYT,gCACYhR,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIY0F,aAJZ,EAKYoH,aALZ,EAMY5M,SANZ,EAM+B;AAAA;;AALnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAA0F,aAAA,GAAAA,aAAA;AACA,aAAAoH,aAAA,GAAAA,aAAA;AACA,aAAA5M,SAAA,GAAAA,SAAA;AAER,aAAKI,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKH,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAK0H,KAAL,GAAa,IAAI,mDAAJ,CAAU,IAAV,EAAe,IAAf,EAAoB,EAApB,EAAuB,IAAvB,EAA4B,IAA5B,EAAiC,IAAjC,EAAsC,IAAtC,CAAb;AACA,aAAKrE,OAAL,GAAe,IAAf;AACA,aAAK5B,MAAL,GAAc,IAAd;AACA,aAAK6D,OAAL,GAAe,EAAf;AACA,aAAKxB,KAAL,GAAa,CAAb;AACH;;;;mCAEO;AACJ,eAAKiK,cAAL;AACA,eAAK2C,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;sCAEa;AACV;AACA,eAAK9Q,SAAL,CAAeoB,IAAf;AACH;;;mCAEO;AACJ;AACH;;;yCAEa;AAAA;;AACV,eAAKoE,aAAL,CAAmB0I,cAAnB,CAAkC,KAAKhO,KAAvC,EAA8C,CAA9C,EAAiDU,SAAjD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,qBAAI,CAACkC,OAAL,GAAe,KAAf;AACA,qBAAI,CAACuN,SAAL,GAAiB,mCAAM,GAAGC,IAAT,EAAjB;;AAEA,kBAAG1P,QAAQ,CAACmE,OAAT,CAAiBgF,MAAjB,GAA0B,CAA7B,EAA+B;AAC3BnJ,wBAAQ,CAACmE,OAAT,CAAiBmB,OAAjB,CAAyB,UAAAC,OAAO,EAAI;AAChC,sBAAGA,OAAO,CAACpB,OAAR,CAAgBgF,MAAhB,IAA0B,CAA7B,EAA+B;AAC3B,2BAAI,CAAChF,OAAL,CAAa1D,IAAb,CAAkB8E,OAAlB;;AAEAA,2BAAO,CAACpB,OAAR,CAAgBmB,OAAhB,CAAwB,UAAAqK,QAAQ,EAAI;AAChC,6BAAI,CAAChN,KAAL,GAAagN,QAAQ,GAAG,OAAI,CAAChN,KAA7B;AACH,qBAFD;AAGH;;AAED,sBAAG4C,OAAO,CAACwD,gBAAR,GAA2B,OAAI,CAAC0G,SAAnC,EAA6C;AACzC,2BAAI,CAACG,eAAL,CAAqBrK,OAArB;AACH;AACJ,iBAZD;AAaH;AACJ;AACJ,WAtBL,EAuBI,UAAAtG,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,mBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,gBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WA9BL;AAgCH;;;mCAEUC,I,EAAI;AAAA;;AACX,cAAG,KAAKgG,KAAL,CAAWuC,MAAX,CAAkBK,MAAlB,IAA4B,CAA/B,EAAiC;AAC7B;AAEH,WAHD,MAGO,IAAG,KAAK5C,KAAL,CAAWuC,MAAX,CAAkBK,MAAlB,GAA2B,CAA9B,EAAgC;AACnC,iBAAK7I,MAAL,GAAc,OAAd;AACA,iBAAKrB,KAAL,GAAa,iBAAb;AACAsB,gBAAI,CAACO,KAAL;AACA;AACH,WALM,MAKA;AACH,iBAAKoD,aAAL,CAAmB2L,UAAnB,CAA8B,KAAKtJ,KAAL,CAAWuC,MAAzC,EAAiD,KAAKlK,KAAtD,EAA6DU,SAA7D,CACI,UAAAU,QAAQ,EAAI;AACR,kBAAGA,QAAH,EAAY;AACR,uBAAI,CAACf,KAAL,GAAae,QAAQ,CAACiB,OAAtB;AACAV,oBAAI,CAACO,KAAL;;AAEA,oBAAGd,QAAQ,CAACiB,OAAT,IAAoB,4BAAvB,EAAoD;AAChD,yBAAI,CAACX,MAAL,GAAc,SAAd;AACA,yBAAI,CAAC6D,OAAL,GAAe,EAAf;AACA,yBAAI,CAACxB,KAAL,GAAa,CAAb;;AACA,yBAAI,CAACiK,cAAL;AACH,iBALD,MAKO;AACH,yBAAI,CAACtM,MAAL,GAAc,OAAd;AACH;AACJ;AACJ,aAfL,EAgBI,UAAArB,KAAK,EAAI;AACL,kBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,qBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,kBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,uBAAI,CAACC,MAAL,GAAc,OAAd;AACA,uBAAI,CAACrB,KAAL,GAAaoB,YAAY,CAACpB,KAAb,CAAmBgC,OAAhC;AACH;AACJ,aAxBL;AA0BH;AACJ;;;wCAEesF,K,EAAK;AAAA;;AACjB,eAAKuJ,MAAL,GAAcvJ,KAAd;AACA,eAAKuJ,MAAL,CAAYxP,MAAZ,GAAqB,SAArB;AACA,cAAIuI,MAAM,GAAG,KAAKiH,MAAL,CAAY3L,OAAZ,CAAoBgF,MAAjC;;AAEA,cAAG,KAAKrK,QAAL,CAAc6G,GAAd,IAAqB,OAAxB,EAAgC;AAC5B,iBAAK2F,aAAL,CAAmByE,aAAnB,CAAiClH,MAAjC,EAAyCvJ,SAAzC;AACH;;AAED,eAAK4E,aAAL,CAAmB0L,eAAnB,CAAmC,KAAKhR,KAAxC,EAA+C,KAAKkR,MAApD,EAA4DxQ,SAA5D,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,qBAAI,CAAC4M,cAAL;AACH;AACJ,WALL,EAMI,UAAA3N,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,mBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,gBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAbL;AAeH;;;;;;;uBAnJQgP,gB,EAAgB,+H,EAAA,uH,EAAA,yI,EAAA,qI,EAAA,qI,EAAA,yH;AAAA,K;;;YAAhBA,gB;AAAgB,8B;AAAA,kFAHd,CAAC,oEAAD,EAAe,wEAAf,EAA+B,oEAA/B,CAGc,E;AAH8B,e;AAAA,a;AAAA,svC;AAAA;AAAA;ACd3D;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAA9N,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AAA4B;;AAAW;;AAC3C;;AACJ;;AACJ;;AAEA;;AAEA;;AACI;;AAMA;;AAoBA;;AAOA;;AAOA;;AA+BJ;;AACI;;AAKJ;;AACJ;;;;AA9E6C;;AAAA;;AAMJ;;AAAA;;AAoB5B;;AAAA;;AAOA;;AAAA;;AAOA;;AAAA;;AAgCA;;AAAA;;;;;;;;;;sEDvEA8N,gB,EAAgB;cAN5B,uDAM4B;eANlB;AACP5N,kBAAQ,EAAE,SADH;AAEPC,qBAAW,EAAE,0BAFN;AAGPC,mBAAS,EAAE,CAAC,oEAAD,EAAe,wEAAf,EAA+B,oEAA/B;AAHJ,S;AAMkB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEjB7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACIQ;;AAEI;;AAEA;;AAAiC;;AAAjC;;AAEA;;AAAiC;;AAAQ;;AAAmB;;AAAS;;AAAc;;AAAK;;AAAiB;;AAEzG;;AAAiC;;AAA2B;;AAAK;;AAAE;;AAAQ;;AAAqB;;AAAS;;AAAE;;AAAK;;AAAuB;;AAAI;;AAAyB;;AAEpK;;AAEA;;AAAiC;;AAAQ;;AAAe;;AAAS;;AAEjE;;AAEA;;AAAuB;;AAAsC;AAAA;;AAAA;;AAAA;AAAA;;AAAsB;;AAAQ;;AAA8B;;AAAS;;AAAI;;AAGtI;;AAEJ;;;;;;AAf6C;;AAAA;;AAEkC;;AAAA;;;;QDA1EoO,gB;AAIT,gCACY1R,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIYE,SAJZ,EAI+B;AAAA;;AAHnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAE,SAAA,GAAAA,SAAA;AAER,aAAKI,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACH;;;;mCAEO;AACJ,eAAKK,QAAL;AACH;;;mCAEO;AAAA;;AACJ,eAAKd,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,KAAD,CAAT,EAAiB;AACb,qBAAI,CAAC4Q,iBAAL,GAAyB5Q,MAAM,CAAC,KAAD,CAA/B;AACH;AACJ,WAJD;AAKH;;;oCAEQ;AAAA;;AACLyH,gBAAM,CAACoJ,OAAP,CAAeC,EAAf,CAAkB,CAAC,CAAnB;AACAvK,oBAAU,CAAC,YAAM;AACb,mBAAI,CAACrH,OAAL,CAAa6R,QAAb,CAAsB,CAAC,cAAD,CAAtB;AACH,WAFS,EAEP,EAFO,CAAV;AAGH;;;;;;;uBA9BQJ,gB,EAAgB,+H,EAAA,uH,EAAA,yI,EAAA,yH;AAAA,K;;;YAAhBA,gB;AAAgB,8B;AAAA,kFAHd,CAAC,wEAAD,CAGc,E;AAHE,c;AAAA,a;AAAA,4Z;AAAA;AAAA;ACT/B;;AACI;;AAEA;;AACI;;AAsBJ;;AACJ;;;;AAvBa;;AAAA;;;;;;;;;sEDQAA,gB,EAAgB;cAN5B,uDAM4B;eANlB;AACPtO,kBAAQ,EAAE,SADH;AAEPC,qBAAW,EAAE,0BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD;AAHJ,S;AAMkB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZ7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACWY;;AACI;;AACI;;AAA4B;AAAA;;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAAwB,SAAxB;;AAA0B;;AAC1D;;AACJ;;;;;;;;;;AAUQ;;AAAyG;;AAAoB;;;;;;AAAvH;;AAAmG;;AAAA;;;;;;AARjH;;AAMI;;AACI;;AACA;;AACJ;;AACJ;;;;;;AAHyC;;AAAA;;AACY;;AAAA;;;;;;AAY7C;;AAAyG;;AAAoB;;;;;;AAAvH;;AAAmG;;AAAA;;;;;;AARjH;;AAMI;;AACI;;AACA;;AACJ;;AACJ;;;;;;AAHyC;;AAAA;;AACY;;AAAA;;;;;;;;;;AAIrD;;AACI;;AACI;;AACJ;;AACJ;;;;AAFwC;;AAAA;;;;;;;;;;AAOhC;;AAAsG;;AAAmB;;;;;;AAAnH;;AAAgG;;AAAA;;;;;;AAH9G;;AACI;;AACI;;AACA;;AACJ;;AACJ;;;;;;AAHsC;;AAAA;;AACc;;AAAA;;;;;;AAQ5C;;AAAsD;;AAA6C;;;;;;AAA7C;;AAAA;;;;;;AACtD;;AAA+D;;AAA/D;;;;;;;;;;;;AAGA;;AAA+C;;AAAuD;AAAA;;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAAwB,SAAxB;;AAA0B;;AAAW;;AAAI;;;;AAAzE;;AAAA;;;;;;;;;;;;AACtE;;AAA+C;;AAAoD;AAAA;;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAAwB,SAAxB;;AAA0B;;AAAgB;;AAAI;;;;AAA3E;;AAAA;;;;;;;;;;;;AAItE;;AAA+C;;AAAmD;AAAA;;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAAwB,SAAxB;;AAA0B;;AAAW;;AAAI;;;;AAArE;;AAAA;;;;;;;;;;;;AACtE;;AAA+C;;AAAiD;AAAA;;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAAwB,SAAxB;;AAA0B;;AAAc;;AAAI;;;;AAAtE;;AAAA;;;;;;;;AAWtE;;AAA+C;;AAAkF;AAAA;;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAAwB,SAAxB;;AAA0B;;AAAa;;AAAI;;;;;;AAC5K;;;;;;AA4ChB;;AACI;;AAAuB;;AAAU;;AACrC;;;;;;AAD2B;;AAAA;;;;;;AAIvB;;AAA+C;;AAAiB;;AAAQ;;AAAc;;AAAS;;AAA2B;;;;;;AAC1H;;AAA+C;;AAAO;;AAAQ;;AAAc;;AAAU;;AAA6B;;;;;;AAK3G;;AAA0B;;AAAC;;;;;;AAC3B;;AAA2B;;AAAC;;;;;;AARxC;;AACI;;AACA;;AACA;;AACI;;AAAM;;AAAqB;;AAC3B;;AACA;;AACI;;AAAkC;;AAClC;;AAAmC;;AACvC;;AACJ;;AACA;;AAAuB;;AAAkE;;AAAQ;;AAAc;;AAAS;;AAAS;;AACrI;;;;;;AAXO;;AAAA;;AACA;;AAAA;;AAKW;;AAAA;;AAA4B;;AAAA;;AAC5B;;AAAA;;AAA6B;;AAAA;;AAGZ;;AAAA;;;;;;AAYnC;;AACI;;AACI;;AACI;;AAAqB;;AACzB;;AACJ;;AACJ;;;;;;AAHY;;AAAA;;;;;;;;AAQA;;AAAsH;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAClH;;AACJ;;;;;;AADI;;AAAA;;;;;;AAMhB;;AACI;;AACJ;;;;;;AAEA;;AACI;;AACA;;AAAuB;;AAA4C;;AACnE;;AAAuB;;AAAyC;;AACpE;;;;;;AAEA;;AACI;;AACA;;AAAuB;;AAA4C;;AACnE;;AAAuB;;AAAsE;;AACjG;;;;;;AAD2B;;AAAA;;;;;;AAG3B;;AACI;;AACI;;AACJ;;AACJ;;;;;;;;;;AAOgB;;AACI;;AAAoB;;AAAO;;AAC3B;;AACJ;;;;;;AAH0C;;AAEtC;;AAAA;;;;;;AAEJ;;AACI;;AAAoB;;AAAO;;AAC3B;;AACJ;;;;;;AAH4C;;AAExC;;AAAA;;;;;;AAcgB;;AAA2C;;AAAyC;;;;;;AAAzC;;AAAA;;;;;;AAC3C;;AAA0C;;AAAa;;;;AAAb;;AAAA;;;;;;AAIlD;;;;;;;;AAA8G;;;;;;AAC9G;;;;;;;;AAA+G;;;;;;AAXvH;;AACI;;AACI;;AACI;;AACI;;AACA;;AACA;;AACJ;;AACJ;;AAEA;;AACA;;AAEA;;AACI;;AAA8D;;AAAmB;;AACjF;;AAAqE;;AAAyB;;AAClG;;AACJ;;AACJ;;;;;;AAbsB;;AAAA;;AACA;;AAAA;;AAIT;;AAAA;;AACA;;AAAA;;AAG6D;;AAAA;;AACO;;AAAA;;;;;;;;AAhBrF;;AAA8D;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC1D;;AAmBJ;;;;;;;;AAnB2B;;AAAA;;;;;;AA0BP;;AAA2C;;AAAyC;;;;;;AAAzC;;AAAA;;;;;;AAC3C;;AAA0C;;AAAa;;;;AAAb;;AAAA;;;;;;AAIlD;;;;;;;;AAA8G;;;;;;AAC9G;;;;;;;;AAA+G;;;;;;AAXvH;;AACI;;AACI;;AACI;;AACI;;AACA;;AACA;;AACJ;;AACJ;;AAEA;;AACA;;AAEA;;AACI;;AAA8D;;AAAmB;;AACjF;;AAAqE;;AAAyB;;AAClG;;AACJ;;AACJ;;;;;;AAbsB;;AAAA;;AACA;;AAAA;;AAIT;;AAAA;;AACA;;AAAA;;AAG6D;;AAAA;;AACO;;AAAA;;;;;;AAhBrF;;AACI;;AAmBJ;;;;;;;;AAnB2B;;AAAA;;;;;;AA0BP;;AAA2C;;AAAyC;;;;;;AAAzC;;AAAA;;;;;;AAC3C;;AAA0C;;AAAa;;;;AAAb;;AAAA;;;;;;AAIlD;;;;;;;;AAA8G;;;;;;AAC9G;;;;;;;;AAA+G;;;;;;AAXvH;;AACI;;AACI;;AACI;;AACI;;AACA;;AACA;;AACJ;;AACJ;;AAEA;;AACA;;AAEA;;AACI;;AAA8D;;AAAmB;;AACjF;;AAAqE;;AAAyB;;AAClG;;AACJ;;AACJ;;;;;;AAbsB;;AAAA;;AACA;;AAAA;;AAIT;;AAAA;;AACA;;AAAA;;AAG6D;;AAAA;;AACO;;AAAA;;;;;;AAhBrF;;AACI;;AAmBJ;;;;;;;;AAnB2B;;AAAA;;;;;;AA7C/B;;AAEI;;AAqBA;;AAqBA;;AAqBJ;;;;;;;;AA/DO;;AAAA;;AAqBA;;AAAA;;AAqBA;;AAAA;;;;;;AA5Df;;AACI;;AACI;;AACI;;AACA;;AAIA;;AAIJ;;AACJ;;AAEA;;AACI;;AAkEJ;;AACA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAA6E;;AACzG;;AACA;;AACI;;AAA2H;;AAAY;;AACvI;;AAAoH;;AAAc;;AACtI;;AACJ;;AACA;;AACJ;;AACJ;;;;;;;;AA7F2H;;AAAA;;AAAlE;;AAC1C;;AAAA;;AAIA;;AAAA;;AAQF;;AAAA;;AA0EiG;;AAAA;;AACJ;;AAAA;;;;;;;;AA5F9G;;AAA6H;AAAA;;AAAA;;AAAA;AAAA;;AACzH;;AAiGJ;;;;;;AAlGkE,8FAA4B,wBAA5B,EAA4B,EAA5B;;AACzD;;AAAA;;;;;;;;AAwGO;;AAAG;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACC;;AACJ;;;;;;AADI;;AAAA;;;;;;;;AAIJ;;AAAG;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACC;;AACJ;;;;;;AADI;;AAAA;;;;;;AAoDR;;AAA0D;;AAAgB;;;;;;AAAhB;;AAAA;;;;;;AAF9D;;AACI;;AACA;;AACJ;;;;;;AAH4B;;AAElB;;AAAA;;;;;;AAIN;;AAA0D;;AAAgB;;;;;;AAAhB;;AAAA;;;;;;AAF9D;;AACI;;AACA;;AACJ;;;;;;AADU;;AAAA;;;;;;AAIN;;AACI;;AAAoB;;AACxB;;;;;;AADI;;AAAA;;;;;;AAaJ;;AAA0D;;AAAgB;;;;;;AAAhB;;AAAA;;;;;;AAF9D;;AACI;;AACA;;AACJ;;;;;;AAH4B;;AAElB;;AAAA;;;;;;AAIN;;AAA0D;;AAAgB;;;;;;AAAhB;;AAAA;;;;;;AAF9D;;AACI;;AACA;;AACJ;;;;;;AADU;;AAAA;;;;;;;;QDxWTyO,e;AAoCT,+BACY/R,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIYC,mBAJZ,EAKY6R,gBALZ,EAMYzF,kBANZ,EAOY9I,cAPZ,EAQYuJ,aARZ,EASYpH,aATZ,EASuC;AAAA;;AAR3B,aAAA5F,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAC,mBAAA,GAAAA,mBAAA;AACA,aAAA6R,gBAAA,GAAAA,gBAAA;AACA,aAAAzF,kBAAA,GAAAA,kBAAA;AACA,aAAA9I,cAAA,GAAAA,cAAA;AACA,aAAAuJ,aAAA,GAAAA,aAAA;AACA,aAAApH,aAAA,GAAAA,aAAA;AAER,aAAKpF,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKS,SAAL,GAAiB,KAAKhB,eAAL,CAAqB+R,YAArB,EAAjB;AACA,aAAK3R,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKF,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAK0F,YAAL,GAAoB,EAApB;AACA,aAAKmM,aAAL,GAAqB,EAArB;AACA,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAKC,eAAL,GAAuB,EAAvB;AACA,aAAKC,iBAAL,GAAyB,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,EAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,CAAzB;AACA,aAAKC,SAAL,GAAiB,EAAjB;AACA,aAAKC,aAAL,GAAqB,CAArB;AACA,aAAK3O,OAAL,GAAe,IAAf;AACA,aAAK6I,UAAL,GAAkB,EAAlB;AACA,aAAK+F,UAAL,GAAkB,CAAC,EAAD,EAAI,EAAJ,CAAlB;AACA,aAAKC,cAAL,GAAsB,CAAtB;AACA,aAAKC,eAAL,GAAuB,YAAvB;AACA,aAAKC,aAAL,GAAqB,KAArB;AACA,aAAKC,gBAAL,GAAwB,CAAxB;AACA,aAAKC,eAAL,GAAuB,CAAvB;AACA,aAAKC,YAAL,GAAoB,CAApB;AACA,aAAKC,YAAL,GAAoB,CAApB;AACA,aAAK/Q,MAAL,GAAc,IAAd;AACA,aAAKgR,GAAL,GAAW,SAAX;AACA,aAAK1Q,QAAL,GAAgB,CAAhB;AACH;;;;mCAGO;AACJ,eAAKxB,QAAL;AACA,eAAK0L,iBAAL;AACA,eAAKyG,iBAAL;AACA,eAAKC,aAAL;AACA,eAAKjC,UAAL;AACA,eAAKkC,QAAL;AACH;;;mCAEO;AACJ,cAAG3K,MAAM,CAACC,QAAP,CAAgB2K,IAAhB,IAAwB,cAA3B,EAA0C;AACtC5K,kBAAM,CAACC,QAAP,CAAgB4K,OAAhB,CAAwB,kBAAxB;AACH,WAHG,CAIJ;AACA;AACA;AACA;AACA;;AACH;;;qCAES;AACN;AACA,cAAG,oCAAC,CAAC,wBAAD,CAAD,CAA4BxI,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;;AAED,cAAG,CAAC,KAAK1Q,QAAT,EAAkB;AACdgI,kBAAM,CAACoJ,OAAP,CAAe0B,SAAf,CAAyB,IAAzB,EAA+B,EAA/B,EAAmC,GAAnC;AACH;AACJ;;;mCAEO;AACJ,eAAKC,SAAL,GAAiBpS,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAjB;;AACA,cAAG,KAAKiS,SAAL,IAAkB,KAAKA,SAAL,CAAe,CAAf,KAAqB,OAA1C,EAAkD;AAC9C,iBAAKP,GAAL,GAAW,OAAX;AACH;;AAED,cAAG,KAAKO,SAAR,EAAkB;AACd,iBAAKC,MAAL,GAAc,wCAAd;AACAnS,wBAAY,CAACE,UAAb,CAAwB,WAAxB;AACH,WATG,CAWJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AACH;;;qCAES;AAAA;;AACN,eAAKkS,OAAL,GAAe,KAAf;AACA,eAAKF,SAAL,GAAiBpS,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAjB;AACA,eAAKoS,MAAL,GAAc,KAAKH,SAAL,CAAe,CAAf,CAAd;AACA,eAAKI,OAAL,GAAe,KAAKJ,SAAL,CAAe,CAAf,CAAf;AAEA,cAAIK,YAAY,GAAGC,WAAW,CAAC,YAAM;AACjC,gBAAIC,IAAI,GAAG3S,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX;;AACA,gBAAGwS,IAAI,IAAI,IAAX,EAAgB;AACZC,2BAAa,CAACH,YAAD,CAAb;AACA,qBAAI,CAACH,OAAL,GAAe,IAAf;AACA,qBAAI,CAACF,SAAL,CAAe,CAAf,IAAoB,CAApB;AACA,qBAAI,CAACA,SAAL,CAAe,CAAf,IAAoB,CAApB;AACA,qBAAI,CAACA,SAAL,CAAe,CAAf,IAAoB,CAApB;;AACA,qBAAI,CAACvG,aAAL,CAAmBgH,UAAnB,CAA8B,CAA9B,EAAiChT,SAAjC;;AACAK,0BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,OAAI,CAACoP,SAApB,CAAlC;AACH;;AAED,gBAAG,OAAI,CAACG,MAAL,IAAe,CAAf,IAAoB,OAAI,CAACC,OAAL,IAAgB,CAAvC,EAAyC;AACrC,qBAAI,CAACF,OAAL,GAAe,IAAf;AACAM,2BAAa,CAACH,YAAD,CAAb;AACA,qBAAI,CAACL,SAAL,CAAe,CAAf,IAAoB,CAApB;;AACA,qBAAI,CAACvG,aAAL,CAAmBgH,UAAnB,CAA8B,CAA9B,EAAiChT,SAAjC;;AACAK,0BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,OAAI,CAACoP,SAApB,CAAlC;AACH,aAND,MAMO;AACH,qBAAI,CAACI,OAAL,IAAgB,CAAhB;AACA,qBAAI,CAACJ,SAAL,CAAe,CAAf,IAAoB,OAAI,CAACG,MAAzB;AACA,qBAAI,CAACH,SAAL,CAAe,CAAf,IAAoB,OAAI,CAACI,OAAzB;AAEAtS,0BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,OAAI,CAACoP,SAApB,CAAlC;;AAEA,kBAAG,OAAI,CAACI,OAAL,IAAgB,CAAC,CAApB,EAAsB;AAClB,uBAAI,CAACD,MAAL,IAAe,CAAf;AACA,uBAAI,CAACC,OAAL,GAAe,EAAf;AACH;AACJ;AACJ,WA9B6B,EA8B3B,IA9B2B,CAA9B;AA+BH;;;4CAEgB;AAAA;;AACb,eAAKpH,kBAAL,CAAwBC,iBAAxB,GAA4CxL,SAA5C,CACI,UAAAU,QAAQ,EAAI;AACR,mBAAI,CAAC+K,UAAL,GAAkB/K,QAAQ,CAAC+K,UAA3B;;AAEA,gBAAG,OAAI,CAACjM,QAAL,IAAiB,IAAjB,IAAyB,OAAI,CAACA,QAAL,CAAc6G,GAAd,IAAqB,OAAjD,EAAyD;AACrD,qBAAI,CAACoF,UAAL,CAAgBrF,MAAhB,CAAuB,CAAvB,EAA0B,CAA1B;AACH;;AAED,gBAAG,OAAI,CAAC5G,QAAL,IAAiB,IAAjB,IAAyB,OAAI,CAACA,QAAL,CAAcyE,SAAd,IAA2B,0BAAvD,EAAkF;AAE9E,qBAAI,CAACwH,UAAL,CAAgBzF,OAAhB,CAAwB,UAAAgM,GAAG,EAAI;AAC3B,oBAAGA,GAAG,CAACxI,MAAJ,IAAc,OAAI,CAACwI,GAAtB,EAA0B;AACtB,yBAAI,CAAC/N,SAAL,GAAiB+N,GAAjB;;AACA,yBAAI,CAAC7E,mBAAL,CAAyB,OAAI,CAAClJ,SAAL,CAAerD,GAAxC;;AACA,yBAAI,CAACqS,cAAL,CAAoB,OAAI,CAAChP,SAAL,CAAerD,GAAnC,EAAwC,CAAxC,EAA2C,CAA3C;AACH;AACJ,eAND;AAOH,aATD,MASO;AACH,qBAAI,CAACoR,GAAL,GAAW,OAAI,CAACxS,QAAL,CAAcyE,SAAzB;;AAEA,qBAAI,CAACwH,UAAL,CAAgBzF,OAAhB,CAAwB,UAAAgM,GAAG,EAAI;AAC3B,oBAAGA,GAAG,CAACpR,GAAJ,IAAW,OAAI,CAACoR,GAAnB,EAAuB;AACnB,yBAAI,CAAC/N,SAAL,GAAiB+N,GAAjB;;AACA,yBAAI,CAAC7E,mBAAL,CAAyB,OAAI,CAAClJ,SAAL,CAAerD,GAAxC;;AACA,yBAAI,CAACqS,cAAL,CAAoB,OAAI,CAAChP,SAAL,CAAerD,GAAnC,EAAwC,OAAI,CAACpB,QAAL,CAAcoB,GAAtD,EAA2D,OAAI,CAACpB,QAAL,CAAc6G,GAAzE;AACH;AACJ,eAND;AAOH;AACJ,WA5BL,EA6BI,UAAA1G,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;AACH,WAhCL;AAkCH;;;uCAEcqE,W,EAAa8C,S,EAAWT,G,EAAG;AACtC,eAAKwF,OAAL,GAAe1L,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAf;AACA,cAAI6P,SAAS,GAAG,mCAAM,GAAGC,IAAT,EAAhB;;AAEA,cAAG,KAAKvE,OAAR,EAAgB;AACZ;AAEA,gBAAGsE,SAAS,GAAG,KAAKtE,OAAL,CAAa,CAAb,CAAZ,IAA+B,KAAlC,EAAwC;AACpC,mBAAKG,aAAL,CAAmBkH,WAAnB,CAA+B7M,GAA/B,EAAoCrG,SAApC;;AACA,mBAAK6L,OAAL,CAAa,CAAb,IAAkBsE,SAAlB;AACA9P,0BAAY,CAAC6C,OAAb,CAAqB,SAArB,EAAgC/C,IAAI,CAACgD,SAAL,CAAe,KAAK0I,OAApB,CAAhC;AACH;;AAED,gBAAGsE,SAAS,GAAG,KAAKtE,OAAL,CAAa,CAAb,CAAZ,IAA+B,IAAlC,EAAuC;AACnC,mBAAKG,aAAL,CAAmBiH,cAAnB,CAAkCjP,WAAlC,EAA+C8C,SAA/C,EAA0DT,GAA1D,EAA+DrG,SAA/D;;AACA,mBAAK6L,OAAL,CAAa,CAAb,IAAkBsE,SAAlB;AACA9P,0BAAY,CAAC6C,OAAb,CAAqB,SAArB,EAAgC/C,IAAI,CAACgD,SAAL,CAAe,KAAK0I,OAApB,CAAhC;AACH;AAEJ,WAfD,MAeO;AACH,iBAAKG,aAAL,CAAmBkH,WAAnB,CAA+B7M,GAA/B,EAAoCrG,SAApC;;AACA,iBAAKgM,aAAL,CAAmBiH,cAAnB,CAAkCjP,WAAlC,EAA+C8C,SAA/C,EAA0DT,GAA1D,EAA+DrG,SAA/D;;AACA,gBAAImT,KAAK,GAAG,EAAZ;AACAA,iBAAK,CAAC,CAAD,CAAL,GAAWhD,SAAX;AACAgD,iBAAK,CAAC,CAAD,CAAL,GAAWhD,SAAX;AACA9P,wBAAY,CAAC6C,OAAb,CAAqB,SAArB,EAAgC/C,IAAI,CAACgD,SAAL,CAAegQ,KAAf,CAAhC;AACH;AAEJ;;;4CAEgB;AAAA;;AACb,eAAK5H,kBAAL,CAAwB0G,iBAAxB,GAA4CjS,SAA5C,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,kBAAID,CAAC,GAAG,CAAR;AACA,kBAAI2S,QAAQ,GAAG,CAAf;AAEA1S,sBAAQ,CAAC8Q,UAAT,CAAoBxL,OAApB,CAA4B,UAAAC,OAAO,EAAI;AACnC,uBAAI,CAACuL,UAAL,CAAgB/Q,CAAhB,EAAmBU,IAAnB,CAAwB8E,OAAxB;;AACAmN,wBAAQ,GAAGA,QAAQ,GAAG,CAAtB;;AAEA,oBAAGA,QAAQ,IAAI,EAAf,EAAkB;AACd3S,mBAAC,GAAGA,CAAC,GAAG,CAAR;AACH;AACJ,eAPD;AAQH;AACJ,WAfL,EAgBI,UAAAd,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB,CACpB;AACH;AACJ,WAvBL;AAyBH;;;iDAEwBkD,S,EAAS;AAC9B,cAAGA,SAAS,CAACrD,GAAV,IAAiB,KAAKqD,SAAL,CAAerD,GAAnC,EAAuC;AACnC;AACH,WAFD,MAEO;AACH,iBAAKgC,OAAL,GAAe,IAAf;AACA,iBAAKqB,SAAL,GAAiBA,SAAjB,CAFG,CAGH;;AACA,iBAAKqN,SAAL,GAAiB,EAAjB;AACA,iBAAKvM,YAAL,GAAoB,EAApB;AACA,iBAAKmM,aAAL,GAAqB,EAArB;AACA,iBAAKC,aAAL,GAAqB,EAArB;AACA,iBAAKE,iBAAL,GAAyB,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,EAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,CAAzB;AACA,iBAAKI,cAAL,GAAsB,CAAtB;AACA,iBAAKC,eAAL,GAAuB,YAAvB;AACA,iBAAKC,aAAL,GAAqB,KAArB;AACA,iBAAKxE,mBAAL,CAAyB,KAAKlJ,SAAL,CAAerD,GAAxC;AACH;AACJ;;;wCAEY;AAAA;;AACT,cAAG,KAAKpB,QAAL,IAAiB,IAApB,EAAyB;AACrB,iBAAKiD,cAAL,CAAoByP,aAApB,CAAkC,KAAK5S,KAAvC,EAA8C,KAAKE,QAAL,CAAcoB,GAA5D,EAAiE,CAAjE,EAAqEZ,SAArE,CACI,UAAAU,QAAQ,EAAI;AACR,kBAAGA,QAAH,EAAY;AACR,uBAAI,CAACoR,YAAL,GAAoBpR,QAAQ,CAAC2C,KAA7B;AACH;AACJ,aALL,EAMI,UAAA1D,KAAK,EAAI;AACL,kBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,kBAAGoB,YAAY,IAAI,IAAnB,EAAwB,CACpB;AACH;AACJ,aAbL;;AAgBA,iBAAK6D,aAAL,CAAmB0I,cAAnB,CAAkC,KAAKhO,KAAvC,EAA8C,CAA9C,EAAiDU,SAAjD,CACI,UAAAU,QAAQ,EAAI;AACR,kBAAGA,QAAH,EAAY;AACRA,wBAAQ,CAACmE,OAAT,CAAiBmB,OAAjB,CAAyB,UAAAC,OAAO,EAAI;AAChC,yBAAI,CAAC8L,YAAL,GAAoB,OAAI,CAACA,YAAL,GAAoB9L,OAAO,CAACpB,OAAR,CAAgBgF,MAAxD;AAEA5D,yBAAO,CAACpB,OAAR,CAAgBmB,OAAhB,CAAwB,UAAAqK,QAAQ,EAAI;AAChC,2BAAI,CAAC/O,QAAL,GAAgB+O,QAAQ,GAAG,OAAI,CAAC/O,QAAhC;AACH,mBAFD;AAGH,iBAND;AAOH;AACJ,aAXL,EAYI,UAAA3B,KAAK,EAAI;AACL,kBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,qBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,kBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,uBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,aAnBL;AAqBH;;AAED,cAAG,KAAKd,SAAL,IAAkB,IAArB,EAA0B;AACtB,iBAAKuC,cAAL,CAAoByP,aAApB,CAAkC,KAAK5S,KAAvC,EAA8C,KAAKY,SAAL,CAAeU,GAA7D,EAAkE,CAAlE,EAAsEZ,SAAtE,CACI,UAAAU,QAAQ,EAAI;AACR,kBAAGA,QAAH,EAAY;AACR,uBAAI,CAACkR,gBAAL,GAAwBlR,QAAQ,CAAC2C,KAAjC;AACH;AACJ,aALL,EAMI,UAAA1D,KAAK,EAAI;AACL,kBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,kBAAGoB,YAAY,IAAI,IAAnB,EAAwB,CACpB;AACH;AACJ,aAbL;AAeH;AACJ;;;mCAEO;AAAA;;AACJ,cAAIN,CAAC,GAAG,KAAKgR,cAAb;;AAEA,cAAG,KAAKC,eAAL,IAAwB,YAA3B,EAAwC;AACpC;AACH,WAFD,MAEO;AACH;AACA,gBAAI2B,GAAG,GAAGC,IAAI,CAACC,IAAL,CAAU,KAAKxO,YAAL,CAAkB8E,MAAlB,GAA2B,KAAK0H,aAA1C,IAA2D,CAArE;;AAEA,gBAAG,KAAKE,cAAL,GAAsB4B,GAAzB,EAA6B;AACzB,mBAAK5B,cAAL,GAAsB,KAAKA,cAAL,GAAsB,CAA5C;AAEA,mBAAKJ,iBAAL,CAAuB5Q,CAAvB,EAA0BuF,OAA1B,CAAkC,UAAAC,OAAO,EAAI;AACzC,uBAAI,CAACkL,aAAL,CAAmBhQ,IAAnB,CAAwB8E,OAAxB;;AACA,uBAAI,CAACuN,sBAAL,CAA4BvN,OAAO,CAACrF,GAApC;AACH,eAHD;AAIH;;AAED,gBAAIH,CAAC,GAAC,CAAH,IAAS4S,GAAZ,EAAgB;AACZ5S,eAAC,GAAGA,CAAC,GAAG,CAAR;AACA,mBAAK4Q,iBAAL,CAAuB5Q,CAAvB,EAA0BuF,OAA1B,CAAkC,UAAAC,OAAO,EAAI;AACzC,uBAAI,CAACkL,aAAL,CAAmBhQ,IAAnB,CAAwB8E,OAAxB;;AACA,uBAAI,CAACuN,sBAAL,CAA4BvN,OAAO,CAACrF,GAApC;AACH,eAHD;AAIH;AACJ;AACJ;;;4CAEmBoD,W,EAAW;AAAA;;AAC3B,eAAK7E,mBAAL,CAAyBgO,mBAAzB,CAA6CnJ,WAA7C,EAA0D,CAA1D,EAA6DhE,SAA7D,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACqE,YAAZ,EAAyB;AACrB,qBAAI,CAACnC,OAAL,GAAe,KAAf;AACA,kBAAIS,KAAK,GAAG3C,QAAQ,CAACqE,YAAT,CAAsB8E,MAAlC;AACA,kBAAI4J,SAAS,GAAG,CAAhB;AACA,kBAAIC,UAAU,GAAG,CAAjB;AAEAhT,sBAAQ,CAACqE,YAAT,CAAsBiB,OAAtB,CAA8B,UAAAC,OAAO,EAAI;AACrC,oBAAGA,OAAO,CAACjF,MAAR,IAAkB,QAArB,EAA8B;AAC1B,yBAAI,CAAC+D,YAAL,CAAkB5D,IAAlB,CAAuB8E,OAAvB;AACH;;AACDwN,yBAAS,GAAGA,SAAS,GAAG,CAAxB;;AAEA,oBAAGA,SAAS,IAAIpQ,KAAhB,EAAsB;AAClB3C,0BAAQ,CAACqE,YAAT,CAAsBiB,OAAtB,CAA8B,UAAAC,OAAO,EAAI;AACrC,wBAAGA,OAAO,CAACjF,MAAR,IAAkB,UAArB,EAAgC;AAC5B,6BAAI,CAAC+D,YAAL,CAAkB5D,IAAlB,CAAuB8E,OAAvB;AACH;;AACDyN,8BAAU,GAAGA,UAAU,GAAG,CAA1B;;AAEA,wBAAGA,UAAU,IAAIrQ,KAAjB,EAAuB;AACnB,6BAAI,CAAC6N,aAAL,GAAqB,OAAI,CAACnM,YAA1B;;AACA,6BAAI,CAAC4O,mBAAL;AACH;AACJ,mBAVD;AAWH;AACJ,eAnBD;AAoBH;AACJ,WA7BL,EA8BI,UAAAhU,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WArCL;AAuCH;;;8CAEkB;AAAA;;AACf,cAAIP,CAAC,GAAG,CAAR;AACA,cAAI2S,QAAQ,GAAG,CAAf;AACA,cAAIQ,KAAK,GAAG,KAAKrC,aAAjB;AAEA,eAAKxM,YAAL,CAAkBiB,OAAlB,CAA0B,UAAAC,OAAO,EAAI;AACjC,mBAAI,CAACoL,iBAAL,CAAuB5Q,CAAvB,EAA0BU,IAA1B,CAA+B8E,OAA/B;;AACAmN,oBAAQ,GAAGA,QAAQ,GAAG,CAAtB;;AAEA,gBAAGA,QAAQ,IAAIQ,KAAf,EAAqB;AACjBA,mBAAK,GAAGA,KAAK,GAAG,OAAI,CAACrC,aAArB;AACA9Q,eAAC,GAAGA,CAAC,GAAG,CAAR;AACH;AACJ,WARD;AAUA,eAAKiE,QAAL;AACH,S,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;+CAEuB7B,a,EAAa;AAAA;;AAChC,eAAKgR,QAAL,GAAgBhR,aAAa,GAAG,QAAhC;;AACA,eAAKmO,gBAAL,CAAsBwC,sBAAtB,CAA6C,KAAKK,QAAlD,EAA4D7T,SAA5D,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAAC4Q,SAAZ,EAAsB;AAClB5Q,sBAAQ,CAAC4Q,SAAT,CAAmBtL,OAAnB,CAA2B,UAAAC,OAAO,EAAI;AAClC,uBAAI,CAACqL,SAAL,CAAenQ,IAAf,CAAoB8E,OAApB;AACH,eAFD;AAGH;AACJ,WAPL,EAQI,UAAAtG,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAfL;AAiBH;;;kDAEyB8S,S,EAAS;AAAA;;AAC/B,cAAGA,SAAS,CAACtK,MAAV,IAAoB,KAAKkI,eAAzB,IAA4C,KAAKR,aAAL,CAAmBrH,MAAnB,IAA6B,CAA5E,EAA8E;AAC1E;AACH,WAFD,MAEO;AACH,iBAAKjH,OAAL,GAAe,IAAf;AACA,iBAAK+O,aAAL,GAAqB,KAArB;AACA,iBAAKD,eAAL,GAAuBoC,SAAS,CAACtK,MAAjC;AACA,iBAAK8H,SAAL,GAAiB,EAAjB;AACA,iBAAKH,aAAL,GAAqB,EAArB;AACA,iBAAKC,eAAL,GAAuB,EAAvB;AACA,gBAAI3Q,CAAC,GAAG,CAAR;;AACA,gBAAG,CAAC,KAAKjB,QAAN,IAAkB,KAAKA,QAAL,CAAc6G,GAAd,IAAqB,OAA1C,EAAkD;AAC9C,mBAAK2F,aAAL,CAAmB+H,mBAAnB,CAAuCD,SAAS,CAAClT,GAAjD,EAAsDZ,SAAtD;AACH;;AAED,iBAAKkR,aAAL,CAAmBlL,OAAnB,CAA2B,UAAAC,OAAO,EAAI;AAClC,qBAAI,CAAC4N,QAAL,GAAgB5N,OAAO,CAACrF,GAAR,GAAc,GAAd,GAAoBkT,SAAS,CAAClT,GAA9B,GAAoC,MAApD;;AACA,qBAAI,CAACoQ,gBAAL,CAAsBwC,sBAAtB,CAA6C,OAAI,CAACK,QAAlD,EAA4D7T,SAA5D,CACI,UAAAU,QAAQ,EAAI;AACRD,iBAAC,GAAGA,CAAC,GAAC,CAAN;;AACA,oBAAGC,QAAQ,CAAC4Q,SAAT,CAAmBzH,MAAtB,EAA6B;AACzB,yBAAI,CAACuH,eAAL,CAAqBjQ,IAArB,CAA0B8E,OAA1B;;AACAvF,0BAAQ,CAAC4Q,SAAT,CAAmBtL,OAAnB,CAA2B,UAAAC,OAAO,EAAI;AAClC,2BAAI,CAACqL,SAAL,CAAenQ,IAAf,CAAoB8E,OAApB;AACH,mBAFD;AAGH;;AACD,oBAAG,OAAI,CAACiL,aAAL,CAAmBrH,MAAnB,IAA6BpJ,CAAhC,EAAkC;AAC9B,yBAAI,CAACmC,OAAL,GAAe,KAAf;;AACA,sBAAG,OAAI,CAACwO,eAAL,CAAqBvH,MAArB,IAA+B,CAAlC,EAAoC;AAChC,2BAAI,CAAC8H,aAAL,GAAqB,IAArB;AACH;;AACD,yBAAI,CAACR,aAAL,GAAqB,OAAI,CAACC,eAA1B;AACH;AACJ,eAhBL;AAkBH,aApBD;AAqBH;AACJ;;;sCAEavO,a,EAAemR,U,EAAU;AACnCxM,gBAAM,CAACoJ,OAAP,CAAe0B,SAAf,CAAyB,IAAzB,EAA+B,EAA/B,EAAmC,iBAAiBzP,aAApD;;AACA,eAAK5D,OAAL,CAAa6R,QAAb,CAAsB,CAAC,YAAD,EAAekD,UAAf,CAAtB;AACH;;;iCAEK;AACF3T,sBAAY,CAACE,UAAb,CAAwB,QAAxB;AACAF,sBAAY,CAACE,UAAb,CAAwB,OAAxB;AACAF,sBAAY,CAACE,UAAb,CAAwB,UAAxB;AACAF,sBAAY,CAACE,UAAb,CAAwB,WAAxB;AACAF,sBAAY,CAACE,UAAb,CAAwB,OAAxB;AACA,eAAKf,QAAL,GAAgB,IAAhB;AACA,eAAKF,KAAL,GAAa,IAAb;AACH;;;;;;;uBAnjBQyR,e,EAAe,gI,EAAA,wH,EAAA,yI,EAAA,iJ,EAAA,2I,EAAA,8I,EAAA,uI,EAAA,qI,EAAA,qI;AAAA,K;;;YAAfA,e;AAAe,6B;AAAA,kFAHb,CAAC,wEAAD,EAAiB,gFAAjB,EAAqC,0EAArC,EAAsD,6EAAtD,EAAyE,sEAAzE,EAAwF,oEAAxF,EAAsG,oEAAtG,CAGa,E;AAHsG,gB;AAAA,c;AAAA,woN;AAAA;AAAA;;;ACjBlI;;AACI;;AACI;;AACI;;AACI;;AACJ;;AAMA;;AAMA;;AAYA;;AAYA;;AAMA;;AAMJ;;AAEA;;AACI;;AACI;;AACI;;AACA;;AACJ;;AACA;;AACI;;AACA;;AACA;;AAGA;;AACA;;AACA;;AAGA;;AAAsB;;AAAoD;AAAA;;AAAA;;AAAA,mBAAS,YAAT;AAAwB,WAAxB;;AAA0B;;AAAqB;;AAAI;;AAC7H;;AAAsB;;AAAoD;AAAA;;AAAA;;AAAA,mBAAS,YAAT;AAAwB,WAAxB;;AAA0B;;AAAoB;;AAAI;;AAC5H;;AACA;;AAAsB;;AAAoD;AAAA;;AAAA;;AAAA,mBAAS,YAAT;AAAwB,WAAxB;;AAA0B;;AAAe;;AAAI;;AACvH;;AACA;;AAAsB;;AAAoD;AAAA;;AAAA;;AAAA,mBAAS,YAAT;AAAwB,WAAxB;;AAA0B;;AAAoB;;AAAI;;AAC5H;;AACA;;AACA;;AACA;;AAA4B;;AAAiC;AAAA;;AAAA;;AAAA,mBAAS,YAAT;AAAwB,WAAxB;;AAA0B;;AAAc;;AAAI;;AAC7G;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAAe;;AAC3C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAAoH;AAAA,mBAAS,IAAAvM,MAAA,EAAT;AAAiB,WAAjB;;AAAmB;;AAAE;;AAC7I;;AACJ;;AACA;;AACJ;;AAEA;;AAEA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAoD;;AAChF;;AACA;;AACI;;AAA0F;;AAAO;;AACrG;;AACJ;;AACJ;;AACJ;;AAUA;;AAIA;;AAuBA;;AAQA;;AACI;;AACI;;AACI;;AAGJ;;AACJ;;AACJ;;AAEA;;AAIA;;AAMA;;AAMA;;AAMA;;AAoGA;;AAEI;;AACI;;AACI;;AACI;;AAGJ;;AACA;;AACI;;AAGA;;AAAiE;;AAAQ;;AAC7E;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAoD;;AAChF;;AACA;;AACI;;AAA0F;;AAAO;;AACrG;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAqC;;AACjE;;AACA;;AACI;;AAA0F;;AAAO;;AACrG;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAqE;;AACjG;;AACA;;AACI;;AAA2H;;AAAY;;AACvI;;AAAoH;;AAAc;;AACtI;;AACJ;;AACJ;;AACJ;;AAGJ;;AACI;;AACI;;AAIA;;AAKA;;AACI;;AAGJ;;AASA;;AAIA;;AAOJ;;AACJ;;AACJ;;;;AAxXiB;;AAAA;;AAMA;;AAAA;;AAYA;;AAAA;;AAYA;;AAAA;;AAMA;;AAAA;;AAWM;;AAAA;;AACA;;AAAA;;AAGA;;AAAA;;AACA;;AAAA;;AAIA;;AAAA;;AACA;;AAAA;;AAO0C;;AAAA;;AAI1C;;AAAA;;AACC;;AAAA;;AAekF;;AAAA;;AA6B/B;;AAAA;;AAIA;;AAAA;;AAuBlE;;AAAA;;AAWU;;AAAA;;AAOiB;;AAAA;;AAIR;;AAAA;;AAMA;;AAAA;;AAMnB;;AAAA;;AAMA;;AAAA;;AAyG6D;;AAAA;;AAKA;;AAAA;;AAyCgD;;AAAA;;AACJ;;AAAA;;AASnG;;AAAA;;AAIA;;AAAA;;AAMI;;AAAA;;AAYJ;;AAAA;;AAIA;;AAAA;;;;;;;;;sEDtWFuM,e,EAAe;cAN3B,uDAM2B;eANjB;AACP3O,kBAAQ,EAAE,QADH;AAEPC,qBAAW,EAAE,yBAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,gFAAjB,EAAqC,0EAArC,EAAsD,6EAAtD,EAAyE,sEAAzE,EAAwF,oEAAxF,EAAsG,oEAAtG;AAHJ,S;AAMiB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEpB5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACQY;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAaI;;AACI;;AACJ;;;;;;;;QDVP2R,c;AAST,8BACYjV,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIYC,mBAJZ,EAImD;AAAA;;AAHvC,aAAAH,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAC,mBAAA,GAAAA,mBAAA;AAER,aAAK6K,KAAL,GAAa,cAAb;AACA,aAAKrK,KAAL,GAAa,IAAb;AACA,aAAKkE,OAAL,GAAe,IAAI,uDAAJ,CAAY,EAAZ,EAAe,EAAf,EAAkB,EAAlB,EAAqB,EAArB,EAAwB,EAAxB,EAA2B,EAA3B,EAA8B,EAA9B,EAAiC,EAAjC,EAAoC,EAApC,EAAuC,EAAvC,EAA0C,EAA1C,EAA6C,EAA7C,EAAgD,EAAhD,EAAmD,EAAnD,EAAsD,EAAtD,CAAf;AACH;;;;mCAEO;AACJ,eAAKoM,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;mCAEO;AAAA;;AACJ,eAAKhR,eAAL,CAAqBgV,MAArB,CAA4B,KAAKrQ,OAAjC,EAA0C7D,SAA1C,CACI,UAAAU,QAAQ,EAAI;AACR;AACA,mBAAI,CAAClB,QAAL,GAAgBkB,QAAQ,CAACmD,OAAzB;;AACA,gBAAG,CAAC,OAAI,CAACrE,QAAN,IAAkB,CAAC,OAAI,CAACA,QAAL,CAAcoB,GAApC,EAAwC;AACpC,qBAAI,CAACI,MAAL,GAAc,OAAd;AACA,qBAAI,CAACrB,KAAL,GAAae,QAAQ,CAACiB,OAAtB;AACH,aAHD,MAGO;AACHtB,0BAAY,CAAC6C,OAAb,CAAqB,UAArB,EAAiC/C,IAAI,CAACgD,SAAL,CAAe,OAAI,CAAC3D,QAApB,CAAjC;;AACI,qBAAI,CAACD,QAAL;AACP;AACJ,WAXL,EAYI,UAAAI,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;;AACA,kBAAGD,YAAY,CAACpB,KAAb,CAAmBgC,OAAtB,EAA8B;AAC1B,uBAAI,CAAChC,KAAL,GAAaoB,YAAY,CAACpB,KAAb,CAAmBgC,OAAhC;AACH,eAFD,MAEO;AACH,uBAAI,CAAChC,KAAL,GAAa,sBAAb;AACH;AACJ;AACJ,WAvBL;AAyBH;;;mCAEO;AAAA;;AACJ,eAAKT,eAAL,CAAqBgV,MAArB,CAA4B,KAAKrQ,OAAjC,EAA0C,MAA1C,EAAkD7D,SAAlD,CACI,UAAAU,QAAQ,EAAI;AACR,mBAAI,CAACpB,KAAL,GAAaoB,QAAQ,CAACpB,KAAtB;;AACA,gBAAG,OAAI,CAACA,KAAL,CAAWuK,MAAX,IAAqB,CAAxB,EAA0B;AACtB,qBAAI,CAAC7I,MAAL,GAAc,OAAd;AACH,aAFD,MAEO,IAAG,OAAI,CAACxB,QAAL,CAAcmB,WAAd,IAA6B,OAAI,CAACnB,QAAL,CAAcmB,WAAd,IAA6B,IAA7D,EAAkE;AACrEN,0BAAY,CAAC6C,OAAb,CAAqB,OAArB,EAA8B,OAAI,CAAC5D,KAAnC;;AACA,qBAAI,CAAC2R,YAAL;AACH,aAHM,MAGA;AACH5Q,0BAAY,CAAC6C,OAAb,CAAqB,OAArB,EAA8B,OAAI,CAAC5D,KAAnC;;AACA,qBAAI,CAACL,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AACH;AACJ,WAZL,EAaI,UAAAnR,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WApBL;AAsBH;;;uCAEW;AAAA;;AACR,eAAK7B,mBAAL,CAAyBc,kBAAzB,CAA4C,KAAKT,QAAL,CAAcmB,WAA1D,EAAuEX,SAAvE,CACI,UAAAU,QAAQ,EAAI;AACR,mBAAI,CAACR,SAAL,GAAiBQ,QAAQ,CAACC,WAA1B;;AACA,gBAAG,CAAC,OAAI,CAACT,SAAN,IAAmB,CAAC,OAAI,CAACA,SAAL,CAAeU,GAAtC,EAA0C;AACtC,qBAAI,CAACI,MAAL,GAAc,OAAd;AACH,aAFD,MAEO;AACHX,0BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,OAAI,CAACjD,SAApB,CAAlC;;AACI,qBAAI,CAACjB,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AACP;AACJ,WATL,EAUI,UAAAnR,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAjBL;AAmBH;;;;;;;uBAvGQiT,c,EAAc,+H,EAAA,uH,EAAA,yI,EAAA,iJ;AAAA,K;;;YAAdA,c;AAAc,4B;AAAA,kFAHZ,CAAC,wEAAD,EAAiB,gFAAjB,CAGY,E;AAHwB,e;AAAA,a;AAAA,03B;AAAA;AAAA;ACXnD;;AACI;;AAAK;;AACD;;AACI;;AACJ;;AAEJ;;AACI;;AACI;;AAKA;;AAA6C;AAAA,mBAAY,IAAAnI,QAAA,EAAZ;AAAsB,WAAtB;;AACzC;;AACI;;AAAO;;AAAiB;;AACxB;;AAAuE;AAAA;AAAA;;AAAvE;;AACJ;;AAEA;;AACI;;AAAO;;AAAU;;AACjB;;AAA8E;AAAA;AAAA;;AAA9E;;AACA;;AAGJ;;AAEA;;AACI;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAAuB;;AACvB;;AAAgC;;AAAU;;AAC9C;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;AAhCwD;;AAAA;;AAQmC;;AAAA;;AAKO;;AAAA;;AACxE;;AAAA;;AAMwE;;AAAA;;AAO3E;;AAAA;;;;;;;;;sEDrBVmI,c,EAAc;cAN1B,uDAM0B;eANhB;AACP7R,kBAAQ,EAAE,OADH;AAEPC,qBAAW,EAAE,wBAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,gFAAjB;AAHJ,S;AAMgB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEd3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AC+CoB;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;AAQJ;;AACI;;AACJ;;;;;;AAEA;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;;;AAhEhB;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AAEA;;AAAgD;AAAA;;AAAA;;AAAA;AAAA;;AAoB5C;;AAEA;;AACI;;AAAO;;AAAM;;AACb;;AAAsE;AAAA;;AAAA;;AAAA;AAAA;;AAAtE;;AACA;;AAGJ;;AAEA;;AACI;;AAAO;;AAAQ;;AACf;;AAA0E;AAAA;;AAAA;;AAAA;AAAA;;AAA1E;;AACA;;AAGJ;;AAEA;;AACI;;AAAO;;AAAQ;;AACf;;AAAyE;AAAA;;AAAA;;AAAA;AAAA;;AAAzE;;AACA;;AAGJ;;AAOA;;AAIA;;AAIA;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;;;;;AAxCsF;;AAAA;;AAChE;;AAAA;;AAOoE;;AAAA;;AACpE;;AAAA;;AAOmE;;AAAA;;AACnE;;AAAA;;AAUmC;;AAAA;;AAID;;AAAA;;;;QD9D/C6R,iB;AAqBT,iCACYnV,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIYkV,cAJZ,EAKYC,aALZ,EAMYjV,SANZ,EAM+B;AAAA;;AALnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAkV,cAAA,GAAAA,cAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAjV,SAAA,GAAAA,SAAA;AAER,aAAKI,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKH,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb,CAH2B,CAI3B;AACA;AACA;AACA;AACA;AACH;;;;mCAGO;AACJ,eAAKO,QAAL;AACH;;;sCAGa;AACV,eAAKV,SAAL,CAAeoB,IAAf;AACH;;;mCAGO;AAAA;;AACJ,eAAKxB,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,IAAD,CAAT,EAAgB;AACZ,qBAAI,CAACuU,cAAL,CAAoBvU,MAAM,CAAC,IAAD,CAA1B;AACH;AACJ,WAJD;AAKH;;;uCAGc+G,S,EAAS;AAAA;;AACpB,eAAK5H,eAAL,CAAqBoV,cAArB,CAAoCxN,SAApC,EAA+C9G,SAA/C,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,qBAAI,CAACmD,OAAL,GAAenD,QAAQ,CAACmD,OAAxB;AACH;AACJ,WALL,EAMI,UAAAlE,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAbL;AAeH;;;mCAGO;AAAA;;AACJ,eAAK9B,eAAL,CAAqBgF,iBAArB,CAAuC,KAAKL,OAA5C,EAAqD7D,SAArD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAG,CAACA,QAAJ,EAAa;AACT,qBAAI,CAACM,MAAL,GAAc,OAAd;AACA,qBAAI,CAACrB,KAAL,GAAae,QAAQ,CAACiB,OAAtB,CAFS,CAIb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,aAfD,MAeO;AACH,qBAAI,CAACX,MAAL,GAAc,SAAd,CADG,CAEH;AACA;AACH;AACJ,WAtBL,EAuBI,UAAArB,KAAK,EAAG;AACJ,gBAAIoB,YAAY,GAASpB,KAAzB,CADI,CAEJ;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;;AACA,kBAAGD,YAAY,CAACpB,KAAb,CAAmBgC,OAAtB,EAA8B;AAC1B,uBAAI,CAAChC,KAAL,GAAaoB,YAAY,CAACpB,KAAb,CAAmBgC,OAAhC;AACH,eAFD,MAEO;AACH,uBAAI,CAAChC,KAAL,GAAa,sBAAb;AACH;AACJ;AACR,WAnCD;AAoCH;;;;;;;uBAlHQwU,iB,EAAiB,+H,EAAA,uH,EAAA,yI,EAAA,uI,EAAA,2I,EAAA,yH;AAAA,K;;;YAAjBA,iB;AAAiB,+B;AAAA,kFAHf,CAAC,sEAAD,EAAgB,wEAAhB,CAGe,E;AAHgB,c;AAAA,a;AAAA,qvC;AAAA;AAAA;ACZ9C;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAAjS,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AAEA;;AAyEJ;;;;AAzE2B;;AAAA;;;;;;;;;sEDCdiS,iB,EAAiB;cAN7B,uDAM6B;eANnB;AACP/R,kBAAQ,EAAE,UADH;AAEPC,qBAAW,EAAE,2BAFN;AAGPC,mBAAS,EAAE,CAAC,sEAAD,EAAgB,wEAAhB;AAHJ,S;AAMmB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEf9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;;;ACgBQ;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAEA;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAEA;;AACI;;AACA;;AAAuB;;AAAgD;;AACvE;;AAAuB;;AAA4B;;AACvD;;;;;;AAgBoB;;AAAsE;;AAAQ;;;;;;AAC9E;;AAAqE;;AAAS;;;;;;AAC9E;;AAA0E;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AAC1E;;AAAyE;;AAAsD;;;;;;AAAtD;;AAAA;;;;;;AAG7E;;AACI;;AACA;;AAA4B;;AAAiB;;AACjD;;;;;;AADgC;;AAAA;;;;;;AAEhC;;AACI;;AACA;;AAA4B;;AAAc;;AAC9C;;;;;;AACA;;AACI;;AACA;;AAAiC;;AAAiB;;AACtD;;;;;;AADqC;;AAAA;;;;;;;;;;AA7BjD;;AACI;;AACI;;AAEI;;AACI;;AACI;;AACJ;;AACA;;AAA6B;;AAA6B;;AAC9D;;AAEA;;AACI;;AAAwC;;AAA2B;;AACnE;;AACA;;AACA;;AACA;;AACJ;;AAEA;;AAIA;;AAIA;;AAIJ;;AACJ;;AACJ;;;;;;;;AAhC6C;;AAAA;;AAKpB;;AAAA;;AAEoB;;AAAA;;AAIW;;AAAA;;AACrC;;AAAA;;AACA;;AAAA;;AACiD;;AAAA;;AACA;;AAAA;;AAG3B;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;;;;;AAS7C;;;;;;AAQA;;AACI;;AACA;;AAAuB;;AAAgD;;AACvE;;AAAuB;;AAAkC;;AAC7D;;;;;;AAqBoB;;AAAsE;;AAAQ;;;;;;AAC9E;;AAAqE;;AAAS;;;;;;AAC9E;;AAA0E;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AAC1E;;AAAyE;;AAAsD;;;;;;AAAtD;;AAAA;;;;;;AAG7E;;AACI;;AACA;;AAA4B;;AAAiB;;AACjD;;;;;;AADgC;;AAAA;;;;;;AAEhC;;AACI;;AACA;;AAA4B;;AAAiB;;AACjD;;;;;;AADgC;;AAAA;;;;;;AA9B5C;;AACI;;AACI;;AACI;;AACI;;AACI;;;;;;;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACJ;;AACA;;AAA6B;;AAA6B;;AAC9D;;AAEA;;AACI;;AAAwC;;AAA2B;;AACnE;;AACA;;AACA;;AACA;;AACJ;;AAEA;;AAIA;;AAIJ;;AACJ;;AACJ;;;;;;;;AAjC6C;;AAAA;;AAIzB;;AAAA;;AAMK;;AAAA;;AAEoB;;AAAA;;AAIW;;AAAA;;AACrC;;AAAA;;AACA;;AAAA;;AACiD;;AAAA;;AACA;;AAAA;;AAG3B;;AAAA;;AAIA;;AAAA;;;;;;AAS7C;;AACI;;AACI;;AACJ;;AACJ;;;;QDhHKiS,mB;AAcT,mCACYtV,OADZ,EAEYC,eAFZ,EAGYuD,cAHZ,EAIYtD,mBAJZ,EAKYC,SALZ,EAK+B;AAAA;;AAJnB,aAAAH,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAuD,cAAA,GAAAA,cAAA;AACA,aAAAtD,mBAAA,GAAAA,mBAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AAER,aAAKC,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAKC,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKC,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKiD,OAAL,GAAe,EAAf;AACA,aAAK8R,iBAAL,GAAyB,EAAzB;AACA,aAAK7R,IAAL,GAAY,CAAZ;AACA,aAAKC,OAAL,GAAe,IAAf;AACA,aAAK6R,aAAL,GAAqB,KAArB;AACA,aAAKzT,MAAL,GAAc,IAAd;AACH;;;;mCAEO;AACJ,eAAK8B,cAAL;AACA,eAAK4R,wBAAL,CAA8B,KAAK/R,IAAnC;AACA,eAAKsN,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;sCAEa;AACV,eAAK9Q,SAAL,CAAeoB,IAAf,GADU,CAEV;;AACH;;;yCAEa;AAAA;;AACV,eAAKiC,cAAL,CAAoBsB,qBAApB,CAA0C,KAAKzE,KAA/C,EAAsD,KAAKE,QAAL,CAAcoB,GAApE,EAAyE,CAAzE,EAA4E,CAA5E,EAA+EZ,SAA/E,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAG,CAACA,QAAJ,EAAa;AACT,qBAAI,CAACM,MAAL,GAAc,OAAd;AACH,aAFD,MAEO;AACH,qBAAI,CAAC0B,OAAL,GAAehC,QAAQ,CAACgC,OAAxB;AACH;AACJ,WAPL,EAQI,UAAA/C,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAfL;AAiBH;;;mCAEO;AACJ,eAAK2B,IAAL,IAAa,CAAb;;AAEA,cAAG,KAAKA,IAAL,IAAa,KAAKM,KAAL,GAAW,CAA3B,EAA6B;AACzB,iBAAKL,OAAL,GAAe,KAAf;AACH,WAFD,MAEO;AACH,iBAAKA,OAAL,GAAe,IAAf;AACA,iBAAK8R,wBAAL,CAA8B,KAAK/R,IAAnC,EAAyC,IAAzC;AACH;AACJ;;;iDAGwBA,I,EAAoB;AAAA;;AAAA,cAAdS,MAAc,uEAAL,KAAK;;AACzC,eAAKX,cAAL,CAAoBsB,qBAApB,CAA0C,KAAKzE,KAA/C,EAAsD,KAAKE,QAAL,CAAcoB,GAApE,EAAyE+B,IAAzE,EAA+E,CAA/E,EAAkF3C,SAAlF,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAG,CAACA,QAAJ,EAAa;AACT,qBAAO,OAAI,CAACM,MAAL,GAAc,OAArB;AACH;;AACD,mBAAI,CAACyT,aAAL,GAAqB,IAArB;AACA,mBAAI,CAACxR,KAAL,GAAavC,QAAQ,CAACuC,KAAtB;;AAEA,gBAAG,CAACG,MAAJ,EAAW;AACP,qBAAI,CAACoR,iBAAL,GAAyB9T,QAAQ,CAACgC,OAAlC;AACA,qBAAI,CAACE,OAAL,GAAe,KAAf;AACH,aAHD,MAGO;AACH,kBAAIU,MAAM,GAAG,OAAI,CAACkR,iBAAlB;AACA,kBAAIjR,MAAM,GAAG7C,QAAQ,CAACgC,OAAtB;AACA,qBAAI,CAAC8R,iBAAL,GAAyBlR,MAAM,CAACE,MAAP,CAAcD,MAAd,CAAzB;AACA,qBAAI,CAACX,OAAL,GAAe,KAAf;AACH;AAEJ,WAlBL,EAmBI,UAAAjD,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WA1BL;AA4BH;;;;;;;uBA9GQuT,mB,EAAmB,uH,EAAA,yI,EAAA,uI,EAAA,iJ,EAAA,yH;AAAA,K;;;YAAnBA,mB;AAAmB,iC;AAAA,kFAHjB,CAAC,wEAAD,EAAiB,sEAAjB,EAAgC,gFAAhC,CAGiB,E;AAHkC,e;AAAA,c;AAAA,4mE;AAAA;AAAA;ACZlE;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAArS,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AAA4B;;AAAW;;AAC3C;;AACJ;;AACJ;;AAEA;;AAEA;;AACI;;AAMA;;AAMA;;AAMA;;AACI;;AAkCJ;;AAEA;;AAEA;;AACI;;AACI;;AACJ;;AACJ;;AAEA;;AAMA;;AAA4F;AAAA,mBAAY,IAAAwC,QAAA,EAAZ;AAAsB,WAAtB;;AACxF;;AAmCJ;;AACJ;;AACI;;AAKJ;;AACJ;;;;AAjH6C;;AAAA;;AAMC;;AAAA;;AAMjC;;AAAA;;AAOI;;AAAA;;AAoCkC;;AAAA;;AAQtC;;AAAA;;AAM4B;;AAAA,gGAA4B,wBAA5B,EAA4B,EAA5B;;AACxB;;AAAA;;AAqCJ;;AAAA;;;;;;;;;;sED5GA6P,mB,EAAmB;cAN/B,uDAM+B;eANrB;AACPnS,kBAAQ,EAAE,YADH;AAEPC,qBAAW,EAAE,6BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,sEAAjB,EAAgC,gFAAhC;AAHJ,S;AAMqB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEfhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;QAWaqS,iB;AAET,iCACY3V,MADZ,EAEYC,OAFZ,EAGYG,SAHZ,EAG+B;AAAA;;AAFnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAG,SAAA,GAAAA,SAAA;AAGX;;;;mCAEO,CACP;;;sCAEa;AACV;AACA,eAAKA,SAAL,CAAeoB,IAAf;AACH;;;;;;;uBAhBQmU,iB,EAAiB,+H,EAAA,uH,EAAA,yH;AAAA,K;;;YAAjBA,iB;AAAiB,+B;AAAA,kFAHf,EAGe,E;AAHb,e;AAAA,a;AAAA,qkB;AAAA;AAAA;ACRjB;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAAzS,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AAEA;;AACI;;AAEI;;AACI;;AACJ;;AAEA;;AAEA;;AAAgC;;AAAQ;;AAAe;;AAAS;;AAEhE;;AAA6B;;AAA2W;;AAExY;;AACA;;AAA6B;;AAA2T;;AAExV;;AACA;;AAA6B;;AAAqL;;AAElN;;AACA;;AAA8B;;AAA+K;;AAE7M;;AACA;;AAA6B;;AAA0D;;AAEvF;;AAEA;;AAA4B;;AAAa;;AAAiC;;AAAsB;;AAAI;;AAAC;;AAEzG;;AACA;;AACJ;;AACJ;;;;AALwD;;AAAA;;;;;;;;;sED9B3CyS,iB,EAAiB;cAN7B,uDAM6B;eANnB;AACPvS,kBAAQ,EAAE,UADH;AAEPC,qBAAW,EAAE,2BAFN;AAGPC,mBAAS,EAAE;AAHJ,S;AAMmB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;AEX9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACUI;;AACI;;AAAuB;;AAAmB;;AAA2C;;AAAO;;AAChG;;;;;;AAD8C;;AAAA;;;;;;AAW9B;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;AAGJ;;AACI;;AACJ;;;;;;AAEA;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;QD7BPsS,oB;AAMT,oCACY5V,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAG2C;AAAA;;AAF/B,aAAAF,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AAER,aAAK2V,QAAL,GAAgB,IAAI,uDAAJ,CAAY,IAAZ,EAAiB,IAAjB,EAAsB,IAAtB,EAA2B,IAA3B,EAAgC,IAAhC,EAAqC,IAArC,EAA0C,IAA1C,EAA+C,IAA/C,EAAoD,IAApD,EAAyD,IAAzD,EAA8D,IAA9D,EAAmE,IAAnE,EAAwE,IAAxE,EAA6E,IAA7E,EAAkF,IAAlF,CAAhB;AACH;;;;mCAEO;AACJ,eAAK/U,QAAL;AACH;;;mCAGO;AAAA;;AACJ,eAAKd,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,IAAD,CAAT,EAAgB;AACZ,qBAAI,CAACuU,cAAL,CAAoBvU,MAAM,CAAC,IAAD,CAA1B;AACH;AACJ,WAJD;AAKH;;;uCAGc+G,S,EAAS;AAAA;;AACpB,eAAK5H,eAAL,CAAqB4V,eAArB,CAAqChO,SAArC,EAAgD9G,SAAhD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,qBAAI,CAACmD,OAAL,GAAenD,QAAQ,CAACmD,OAAxB;;AAEA,kBAAG,OAAI,CAACA,OAAL,CAAakR,QAAb,IAAyB,yBAA5B,EAAsD;AAClD,uBAAO,OAAI,CAAClR,OAAL,CAAakR,QAApB;;AACA,uBAAI,CAAC9V,OAAL,CAAa6R,QAAb,CAAsB,CAAC,QAAD,CAAtB;AACH;AACJ;AACJ,WAVL,EAWI,UAAAnR,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAlBL;AAoBH;;;iCAGQC,I,EAAI;AAAA;;AACT,cAAG,KAAK4C,OAAL,CAAakR,QAAb,IAAyB,yBAA5B,EAAsD;AAClD,iBAAK/T,MAAL,GAAc,OAAd;AACA,iBAAKrB,KAAL,GAAa,iDAAb;AACA;AAEH,WALD,MAKO,IAAG,KAAKkV,QAAL,CAAcE,QAAd,CAAuBlL,MAAvB,GAAgC,CAAnC,EAAqC;AACxC,iBAAK7I,MAAL,GAAc,OAAd;AACA,iBAAKrB,KAAL,GAAa,6CAAb;AACA;AAEH,WALM,MAKA,IAAG,KAAKkV,QAAL,CAAcE,QAAd,IAA0B,KAAKF,QAAL,CAAcrL,MAA3C,EAAkD;AACrD,iBAAKxI,MAAL,GAAc,OAAd;AACA,iBAAKrB,KAAL,GAAa,gCAAb;AACA;AACH;;AAED,eAAKkE,OAAL,CAAakR,QAAb,GAAwB,KAAKF,QAAL,CAAcE,QAAtC;;AAEA,eAAK7V,eAAL,CAAqB8V,gBAArB,CAAsC,KAAKnR,OAA3C,EAAoD7D,SAApD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,qBAAI,CAACM,MAAL,GAAc,SAAd;AACAC,kBAAI,CAACO,KAAL;;AACA,qBAAI,CAACvC,OAAL,CAAa6R,QAAb,CAAsB,CAAC,QAAD,CAAtB;AACH;AACJ,WAPL,EAQI,UAAAnR,KAAK,EAAG;AACJ,gBAAIoB,YAAY,GAASpB,KAAzB,CADI,CAEJ;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;;AACA,kBAAGD,YAAY,CAACpB,KAAb,CAAmBgC,OAAtB,EAA8B;AAC1B,uBAAI,CAAChC,KAAL,GAAaoB,YAAY,CAACpB,KAAb,CAAmBgC,OAAhC;AACH,eAFD,MAEO;AACH,uBAAI,CAAChC,KAAL,GAAa,sBAAb;AACH;AACJ;AACR,WApBD;AAqBH;;;;;;;uBA5FQiV,oB,EAAoB,+H,EAAA,uH,EAAA,yI;AAAA,K;;;YAApBA,oB;AAAoB,kC;AAAA,kFAHlB,EAGkB,E;AAHhB,e;AAAA,a;AAAA,8lC;AAAA;AAAA;;;ACRjB;;AACI;;AACI;;AACI;;AACI;;AAA4B;;AAAkB;;AAClD;;AACJ;;AACJ;;AACA;;AAEA;;AAIA;;AACI;;AAEI;;AAA+C;AAAA;;AAAA;;AAAA,mBAAY,IAAA9I,QAAA,KAAZ;AAAiC,WAAjC;;AAE5C;;AACK;;AAAO;;AAAgB;;AACvB;;AAAuD;AAAA;AAAA;;AAAvD;;AACA;;AAGL;;AAEA;;AACK;;AAAO;;AAA0B;;AACjC;;AAAmD;AAAA;AAAA;;AAAnD;;AACA;;AAGL;;AAEC;;AAIA;;AAIA;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACD;;AACH;;;;;;;;;;AAxCkD;;AAAA;;AAWyB;;AAAA;;AACjD;;AAAA;;AAO6C;;AAAA;;AAC7C;;AAAA;;AAKmC;;AAAA;;AAID;;AAAA;;AAKgD;;AAAA;;;;;;;;;sEDjC/F8I,oB,EAAoB;cANhC,uDAMgC;eANtB;AACPxS,kBAAQ,EAAE,aADH;AAEPC,qBAAW,EAAE,8BAFN;AAGPC,mBAAS,EAAE;AAHJ,S;AAMsB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;AEXjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACeQ;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;AAKJ;;AACI;;AAAuB;;AAAyE;;AAAmB;;AAAsB;;AAAO;;AACpJ;;;;;;AADgC;;AAAA;;AAAuF;;AAAA;;;;;;AAGvH;;AACI;;AAAuB;;AAAyE;;AAAmB;;AAAsB;;AAAO;;AACpJ;;;;;;AADgC;;AAAA;;AAAuF;;AAAA;;;;;;AAGvH;;AACI;;AAAuB;;AAAyE;;AAAmB;;AAAsB;;AAAO;;AACpJ;;;;;;AADgC;;AAAA;;AAAuF;;AAAA;;;;;;AAV3H;;AACI;;AAIA;;AAIA;;AAGJ;;;;;;AAXkD;;AAAA;;AAII;;AAAA;;AAIC;;AAAA;;;;;;AAsB/B;;AACI;;AAA6C;;AAAqB;;AACtE;;;;;;AADiD;;AAAA;;;;;;AALzD;;AACI;;AACA;;AACI;;AAAuB;;AAAS;;AAChC;;AAGJ;;AACJ;;;;;;AAJa;;AAAA;;;;;;AAOiD;;AAAkC;;AAAsC;;;;;;AAAtC;;AAAA;;;;;;AAExF;;;;;;;;AAzBpB;;AACI;;AACI;;AACI;;AACI;;AAAyC;;AAAwC;;AACrF;;AACA;;AACI;;AAAkC;;AAA2B;;AAC7D;;AAAY;;AAA2B;;AACvC;;AAAuD;;AAA8B;;AACzF;;AAEA;;AAUA;;AACI;;AAA0D;;AAA+E;;AACzI;;AAAgE;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC5D;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAmB;;AAC/C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAA0F;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAE;;AAC7H;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;AAvCyD;;AAAA;;AAGP;;AAAA;;AACtB;;AAAA;;AAC2C;;AAAA;;AAGpB;;AAAA;;AAW6B;;AAAA;;AAEzD;;AAAA;;;;;;AA1B3B;;AACI;;AA4CJ;;;;;;AA5CS;;AAAA;;;;;;AAoDL;;AACI;;AAAoD;;AAAQ;;AAAS;;AAAyC;;AAA+B;;AAAO;;AAAS;;AAEjK;;;;;;AAFkH;;AAAA;;;;;;AAGlH;;AACI;;AAAoD;;AAAM;;AAAyC;;AAA8B;;AAAQ;;AAC7I;;;;;;AADuG;;AAAA;;;;;;AAGnG;;;;;;AACA;;AACI;;AAAM;;AAA2B;;AAGrC;;;;;;AAHU;;AAAA;;;;;;AAHd;;AACI;;AACA;;AAKA;;AAA2D;;AAAM;;AAAoC;;AAAuC;;AAAQ;;AACxJ;;;;;;AAPO;;AAAA;;AACA;;AAAA;;AAKkG;;AAAA;;;;;;AAGrG;;;;;;AACA;;AAAkE;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;AAFtE;;AACI;;AACA;;AACA;;AAA2D;;AAAM;;AAAoC;;AAAuC;;AAAQ;;AACxJ;;;;;;AAHO;;AAAA;;AACA;;AAAA;;AACkG;;AAAA;;;;;;AAIrG;;AAAsJ;;AAA6G;;AAAsC;;AAAU;;AAAS;;;;;;AAC5T;;AAAoI;;AAAmB;;;;;;AAF3J;;AACI;;AACA;;AACJ;;;;;;AAFO;;AAAA;;AACA;;AAAA;;;;;;AAiBP;;AACI;;AACA;;AACA;;AAAgB;;AAA+B;;AAC/C;;AAAmM;;AAAyC;;AAAa;;AAC7P;;;;;;;;AAlDJ;;AACI;;AACI;;AAAoD;;AAAe;;AAAwC;;AAAqB;;AAAQ;;AAC5I;;AACA;;AAIA;;AAGA;;AASA;;AAMA;;AAKA;;AACI;;AAAuB;;AAAoB;;AAC3C;;AAA4E;AAAA;;AAAA;;AAAA;AAAA;;AAA5E;;AACJ;;AAWA;;AAUJ;;;;;;AArDmH;;AAAA;;AAE9F;;AAAA;;AAIK;;AAAA;;AAGL;;AAAA;;AASK;;AAAA;;AAMjB;;AAAA;;AAO2E;;AAAA;;AAY3E;;AAAA;;;;;;AAgBL;;AAAoF;;AAA4G;;AAAiC;;AAAgB;;AAAS;;;;;;AAC1P;;AAAuH;;AAA4G;;AAAiC;;AAAgB;;AAAS;;;;;;AAC7R;;AAAwJ;;AAA4G;;AAAiC;;AAAgB;;AAAS;;;;;;AAC9T;;AAAiL;;AAA0G;;AAAiC;;AAAgB;;AAAS;;;;;;AACrV;;AAA+L;;AAA4G;;AAAiC;;AAAgB;;AAAS;;;;;;AALzW;;AACI;;AACA;;AACA;;AACA;;AACA;;AACJ;;;;;;AALO;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AA0BK;;AACI;;AAAwB;;AAAoE;;AAChG;;;;;;AAD4B;;AAAA;;;;;;;;AAE5B;;AACI;;AAAqE;AAAA;;AAAA;;AAAA;AAAA;;AAA6C;;AAAqB;;AAE3I;;;;;;AAgCZ;;AAA2E;;AAAuG;;AAAwC;;AAAwB;;AAAS;;;;;;;;AAqCvO;;AACI;;AACI;;AAA+F;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAA2B;;AAAqB;;AAAa;;AAAS;;AACzM;;AACJ;;;;;;;;AAFuI;;AAAA;;AAAgD;;AAAA;;;;;;AAH3L;;AACI;;AAKJ;;;;;;AALS;;AAAA;;;;;;AAJb;;AACI;;AAA6B;;AAAW;;AAExC;;AAOJ;;;;;;AAPS;;AAAA;;;;;;;;AAkBT;;AACI;;AAAqE;AAAA;;AAAA;;AAAA;AAAA;;AAA6C;;AAAqB;;AAE3I;;;;QDxPP2S,e;AA0BT,+BACYjW,MADZ,EAEYC,OAFZ,EAGY+R,gBAHZ,EAIY9R,eAJZ,EAKYC,mBALZ,EAMYsD,cANZ,EAOYmC,aAPZ,EAQYoH,aARZ,EASY5M,SATZ,EAS+B;AAAA;;AARnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAA+R,gBAAA,GAAAA,gBAAA;AACA,aAAA9R,eAAA,GAAAA,eAAA;AACA,aAAAC,mBAAA,GAAAA,mBAAA;AACA,aAAAsD,cAAA,GAAAA,cAAA;AACA,aAAAmC,aAAA,GAAAA,aAAA;AACA,aAAAoH,aAAA,GAAAA,aAAA;AACA,aAAA5M,SAAA,GAAAA,SAAA;AAER,aAAKC,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAKG,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKH,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAK8D,KAAL,GAAa,IAAb;AACA,aAAKrC,MAAL,GAAc,IAAd;AACA,aAAKmG,QAAL,GAAgB,IAAhB;AACA,aAAKa,QAAL,GAAgB,IAAhB;AACA,aAAKf,KAAL,GAAa,CAAb;AACA,aAAKpC,OAAL,GAAe,EAAf;AACA,aAAKqQ,YAAL,GAAoB,CAApB;AACA,aAAKvV,KAAL,GAAa,uBAAb,CAZ2B,CAa3B;AACH;;;;mCAEO;AACJ,eAAKG,QAAL;AACA,eAAKqV,mBAAL;AACA,eAAK7H,cAAL;AACA,eAAK2C,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;mCAEO;AAAA;;AACJ,eAAKlR,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,IAAD,CAAT,EAAgB;AACZ,qBAAI,CAACiU,UAAL,GAAkBjU,MAAM,CAAC,IAAD,CAAxB;;AACA,kBAAG,OAAI,CAACiU,UAAL,IAAmB,CAAtB,EAAwB;AACpB,uBAAI,CAACtN,aAAL,CAAmB,OAAI,CAACsN,UAAxB;AACH,eAFD,MAEO;AACH,uBAAI,CAACoB,kBAAL;AACH;AACJ;AACJ,WATD;AAUH;;;sCAEa;AACV,eAAKhW,SAAL,CAAeoB,IAAf;AACH;;;6CAEiB;AACd,cAAIqG,MAAM,GAAG1G,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAAb;;AAEA,cAAG,CAACuG,MAAJ,EAAW;AACP,iBAAKA,MAAL,GAAc,IAAd;AACA,iBAAK7F,MAAL,GAAc,OAAd;;AACA,iBAAK/B,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AACH;;AAED,cAAGjK,MAAM,IAAI,WAAV,IAAyBA,MAAM,IAAI,IAAtC,EAA2C;AACvC,iBAAKA,MAAL,GAAcA,MAAd;AACA,iBAAK5G,kBAAL,CAAwB,KAAK4G,MAAL,CAAYlG,WAApC;;AACA,gBAAG,KAAKnB,QAAL,CAAc6V,SAAjB,EAA2B;AACvB,mBAAKxO,MAAL,CAAYwC,SAAZ,GAAwB,KAAK7J,QAAL,CAAc6V,SAAtC;AACH;AACJ,WAND,MAMO;AACH,iBAAKxO,MAAL,GAAc,IAAd;AACA,iBAAK7F,MAAL,GAAc,OAAd;;AACA,iBAAK/B,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AACH;AACJ;;;sCAEavS,E,EAAE;AAAA;;AACZ,eAAKkE,cAAL,CAAoBiE,aAApB,CAAkC,KAAKpH,KAAvC,EAA8Cf,EAA9C,EAAkD,CAAlD,EAAsDyB,SAAtD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,qBAAI,CAACmG,MAAL,GAAcnG,QAAQ,CAACmG,MAAvB;;AAEA,kBAAG,OAAI,CAACA,MAAL,CAAYI,KAAZ,IAAqB,IAAxB,EAA6B;AACzB,uBAAI,CAACA,KAAL,GAAa,OAAI,CAACJ,MAAL,CAAYI,KAAzB;AACH;;AAED,qBAAI,CAACtG,WAAL,GAAmBD,QAAQ,CAACmG,MAAT,CAAgBlG,WAAnC;AACA,qBAAI,CAACyG,KAAL,GAAa,OAAI,CAACP,MAAL,CAAYO,KAAzB;AACA,qBAAI,CAAC/D,KAAL,GAAa,OAAI,CAACwD,MAAL,CAAYxD,KAAzB;AACH;AACJ,WAbL,EAcI,UAAA1D,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WArBL;AAuBH;;;2CAEkBzC,E,EAAE;AAAA;;AACjB,eAAKY,mBAAL,CAAyBc,kBAAzB,CAA4C1B,EAA5C,EAAgDyB,SAAhD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACC,WAAZ,EAAwB;AACpB,qBAAI,CAACA,WAAL,GAAmBD,QAAQ,CAACC,WAA5B;;AACA,qBAAI,CAAC2U,YAAL,GAFoB,CAIpB;AACA;AACA;AACA;AACA;AACA;;AACH;AACJ,WAbL,EAcI,UAAA3V,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WArBL;AAuBH;;;uCAEW;AAAA;;AACR,cAAIuU,WAAW,GAAG,CAAlB;AACA,cAAIC,aAAa,GAAG,CAApB;AACA,cAAI/U,CAAC,GAAG,CAAR;AACA,eAAKoG,MAAL,CAAYuC,SAAZ,CAAsBpD,OAAtB,CAA8B,UAAAC,OAAO,EAAI;AACrCsP,uBAAW,GAAGtP,OAAO,CAAC5C,KAAR,GAAgBkS,WAA9B;AACAC,yBAAa,GAAIvP,OAAO,CAACkB,QAAR,GAAiB,GAAlB,GAA0BqO,aAA1C;AACA/U,aAAC,GAAGA,CAAC,GAAG,CAAR;;AAEA,gBAAG,OAAI,CAACoG,MAAL,CAAYuC,SAAZ,CAAsBS,MAAtB,IAAgCpJ,CAAnC,EAAqC;AACjC,qBAAI,CAAC4C,KAAL,GAAakS,WAAb;AACA,qBAAI,CAACpO,QAAL,GAAgBqO,aAAa,GAAC,GAA9B;;AAEA,kBAAG,OAAI,CAAC7U,WAAL,CAAiByG,KAAjB,CAAuB,CAAvB,KAA6B,CAA7B,IAAkC,CAAC,OAAI,CAACzG,WAAL,CAAiByG,KAAjB,CAAuB,CAAvB,CAAtC,EAAgE;AAC5D,uBAAI,CAACA,KAAL,GAAa,OAAI,CAACzG,WAAL,CAAiByG,KAAjB,CAAuB,CAAvB,CAAb;AACH,eAFD,MAEO,IAAG,OAAI,CAAC/D,KAAL,IAAc,OAAI,CAAC1C,WAAL,CAAiByG,KAAjB,CAAuB,CAAvB,CAAjB,EAA2C;AAC9C,uBAAI,CAACA,KAAL,GAAa,OAAI,CAACzG,WAAL,CAAiByG,KAAjB,CAAuB,CAAvB,CAAb;AAEH,eAHM,MAGA,IAAG,OAAI,CAAC/D,KAAL,GAAa,OAAI,CAAC1C,WAAL,CAAiByG,KAAjB,CAAuB,CAAvB,CAAhB,EAA0C;AAC7C,uBAAI,CAACA,KAAL,GAAa,OAAI,CAACzG,WAAL,CAAiByG,KAAjB,CAAuB,CAAvB,CAAb;AACH,eAXgC,CAajC;AACA;;AACH;AACJ,WArBD;AAsBH;;;iCAEQqO,M,EAAM;AACX,eAAKC,SAAL,GAAiB,KAAK7O,MAAtB;AACA,eAAKmB,QAAL,GAAiB,KAAK0N,SAAL,CAAetM,SAAf,CAAyBjD,OAAzB,CAAiCsP,MAAjC,CAAjB;AACH;;;2CAEe;AACZ,eAAKC,SAAL,CAAetM,SAAf,CAAyBhD,MAAzB,CAAgC,KAAK4B,QAArC,EAA+C,CAA/C;;AACA,cAAG,KAAK0N,SAAL,CAAetM,SAAf,CAAyBS,MAAzB,IAAmC,CAAtC,EAAwC;AACpCxJ,wBAAY,CAACE,UAAb,CAAwB,QAAxB;AACAF,wBAAY,CAACE,UAAb,CAAwB,OAAxB;;AACA,iBAAKtB,OAAL,CAAa6R,QAAb,CAAsB,CAAC,aAAD,EAAgB,KAAKjK,MAAL,CAAYlG,WAA5B,CAAtB;AACH,WAJD,MAIO;AACH,gBAAI0C,KAAK,GAAGlD,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAZ;AACA,iBAAKqV,MAAL,GAActS,KAAK,GAAG,CAAtB;AACA,iBAAKwD,MAAL,CAAYI,KAAZ,GAAoB,IAApB;AACA,iBAAKA,KAAL,GAAa,CAAb;AACA,iBAAKiO,YAAL,GAAoB,CAApB;AACA7U,wBAAY,CAAC6C,OAAb,CAAqB,QAArB,EAA+B/C,IAAI,CAACgD,SAAL,CAAe,KAAKuS,SAApB,CAA/B;AACArV,wBAAY,CAAC6C,OAAb,CAAqB,OAArB,EAA8B/C,IAAI,CAACgD,SAAL,CAAe,KAAKwS,MAApB,CAA9B;AACA,iBAAKP,kBAAL;AACH;;AACD,eAAKpN,QAAL,GAAgB,IAAhB;AACH;;;sCAEU;AAAA;;AACP;AAEA,eAAKnB,MAAL,CAAYO,KAAZ,GAAoB,KAAKA,KAAzB;AACA,eAAKP,MAAL,CAAYM,QAAZ,GAAuB,KAAKA,QAA5B;AACA,eAAKN,MAAL,CAAYxD,KAAZ,GAAoB,KAAKA,KAAzB;AAEA,eAAK7D,QAAL,CAAc6V,SAAd,GAA0B,KAAKxO,MAAL,CAAYwC,SAAtC;AACAhJ,sBAAY,CAAC6C,OAAb,CAAqB,UAArB,EAAiC/C,IAAI,CAACgD,SAAL,CAAe,KAAK3D,QAApB,CAAjC;;AAEA,eAAKiD,cAAL,CAAoB6G,WAApB,CAAgC,KAAKhK,KAArC,EAA4C,KAAKuH,MAAjD,EAAyD7G,SAAzD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AAER,kBAAG,OAAI,CAACuG,KAAL,IAAc,CAAjB,EAAmB;AACf,uBAAI,CAAC2O,aAAL,CAAmB/Q,OAAnB,CAA2BuB,MAA3B,CAAkC,OAAI,CAACyP,aAAvC,EAAsD,CAAtD;;AACA,uBAAI,CAACvF,eAAL;AACH;;AAED,kBAAG,OAAI,CAACrJ,KAAL,IAAc,CAAjB,EAAmB;AACf,oBAAIsC,MAAM,GAAG,CAAb;AAEH,eAHD,MAGO,IAAG,OAAI,CAACtC,KAAL,IAAc,EAAjB,EAAoB;AACvB,oBAAIsC,MAAM,GAAG,CAAb;AAEH,eAHM,MAGA,IAAG,OAAI,CAACtC,KAAL,IAAc,EAAjB,EAAoB;AACvB,oBAAIsC,MAAM,GAAG,CAAb;AAEH,eAHM,MAGA,IAAG,OAAI,CAACtC,KAAL,IAAc,EAAjB,EAAoB;AACvB,oBAAIsC,MAAM,GAAG,CAAb;AAEH,eAHM,MAGA,IAAG,OAAI,CAACtC,KAAL,IAAc,EAAjB,EAAoB;AACvB,oBAAIsC,MAAM,GAAG,CAAb;AACH;;AAED,qBAAI,CAACyC,aAAL,CAAmB8J,WAAnB,CAA+BvM,MAA/B,EAAuCvJ,SAAvC;;AAEA,qBAAI,CAACf,OAAL,CAAa6R,QAAb,CAAsB,CAAC,UAAD,EAAa,OAAI,CAACnQ,WAAL,CAAiB6I,MAA9B,CAAtB;;AACAnJ,0BAAY,CAACE,UAAb,CAAwB,QAAxB;AACAF,0BAAY,CAACE,UAAb,CAAwB,OAAxB;AACA,qBAAI,CAACsG,MAAL,GAAc,IAAd;AACH;AACJ,WAhCL,EAiCI,UAAAlH,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;;AACA,gBAAGoB,YAAY,CAACpB,KAAb,CAAmBgC,OAAtB,EAA8B;AAC1B,qBAAI,CAAChC,KAAL,GAAaoB,YAAY,CAACpB,KAAb,CAAmBgC,OAAhC;AACH;;AAED,gBAAGZ,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WA1CL;AA4CH;;;yCAEgB4F,Q,EAAU5F,M,EAAM;AAAA;;AAC7B,eAAKyB,cAAL,CAAoBsE,gBAApB,CAAqC,KAAKzH,KAA1C,EAAiDsH,QAAjD,EAA2D,CAA3D,EAA8D5F,MAA9D,EAAsEhB,SAAtE,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,qBAAI,CAACzB,OAAL,CAAa6R,QAAb,CAAsB,CAAC,cAAD,CAAtB;AACH;AACJ,WALL,EAMI,UAAAnR,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAbL;AAeH;;;yCAEa;AAAA;;AACV,eAAK4D,aAAL,CAAmB0I,cAAnB,CAAkC,KAAKhO,KAAvC,EAA8C,CAA9C,EAAiDU,SAAjD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AAER,kBAAGA,QAAQ,CAACmE,OAAT,CAAiBgF,MAAjB,GAA0B,CAA7B,EAA+B;AAC3BnJ,wBAAQ,CAACmE,OAAT,CAAiBmB,OAAjB,CAAyB,UAAAC,OAAO,EAAI;AAChC,sBAAGA,OAAO,CAACpB,OAAR,CAAgBgF,MAAhB,IAA0B,CAA7B,EAA+B;AAC3B,2BAAI,CAAChF,OAAL,CAAa1D,IAAb,CAAkB8E,OAAlB;AACH;AACJ,iBAJD;AAKH;AACJ;AACJ,WAZL,EAaI,UAAAtG,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,mBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,gBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WApBL;AAsBH;;;kCAESiG,K,EAAO8O,G,EAAG;AAChB,eAAK9O,KAAL,GAAa8O,GAAb;AACA,eAAKlP,MAAL,CAAYI,KAAZ,GAAoB,KAAKA,KAAzB;AAEA,cAAIxG,CAAC,GAAI,KAAKoE,OAAL,CAAasB,OAAb,CAAqBc,KAArB,CAAT;AACA,eAAK2O,aAAL,GAAqB,KAAK/Q,OAAL,CAAapE,CAAb,CAArB;AACA,eAAKoV,aAAL,GAAsB,KAAKhR,OAAL,CAAapE,CAAb,EAAgBoE,OAAhB,CAAwBsB,OAAxB,CAAgC,KAAKc,KAArC,CAAtB;AACA,eAAKiO,YAAL,GAAoB,KAAKU,aAAL,CAAmBV,YAAvC;AACH;;;0CAEc;AAAA;;AACX,eAAKtQ,aAAL,CAAmB0L,eAAnB,CAAmC,KAAKhR,KAAxC,EAA+C,KAAKsW,aAApD,EAAmE5V,SAAnE,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACuG,KAAT,CAAepC,OAAf,CAAuBgF,MAAvB,IAAiC,CAApC,EAAsC;AAClC,kBAAG,OAAI,CAACrK,QAAL,CAAc6G,GAAd,IAAqB,OAAxB,EAAgC;AAC5B,uBAAI,CAAC2F,aAAL,CAAmByE,aAAnB,CAAiC,CAAjC,EAAoCzQ,SAApC;AACH;AACJ;AACJ,WAPL,EAQI,UAAAL,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,mBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,gBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAfL;AAiBH;;;iCAEQ2G,G,EAAG;AACRH,gBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,2CAA2CC,GAA3C,GAAiD,4CAAjD,GAAgG,KAAKhH,WAAL,CAAiB6I,MAAxI;AACH;;;iCAEQ7B,G,EAAG;AACRH,gBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,SAASC,GAAhC;AACH;;;8CAEkB;AACf,cAAG,CAACH,MAAM,CAACyC,YAAX,EAAwB;AACpB,iBAAK+L,OAAL,GAAe,KAAf;AACA,iBAAKC,KAAL,GAAa,KAAb;AACA,iBAAKC,KAAL,GAAa,IAAb;AACH,WAJD,MAIO;AACH,iBAAKF,OAAL,GAAe,IAAf;;AACA,gBAAI/L,YAAY,CAACE,UAAb,IAA2B,SAA/B,EAAyC;AACrC,mBAAK8L,KAAL,GAAa,KAAb;AACA,mBAAKC,KAAL,GAAa,KAAb;AACH,aAHD,MAGO;AACH,mBAAKD,KAAL,GAAa,IAAb;AACA,mBAAKC,KAAL,GAAa,IAAb;AACH;AACJ;AACJ;;;8CAEkB;AAAA;;AACf,eAAK5M,WAAL;AACAW,sBAAY,CAACC,iBAAb,CAAgC,UAASC,UAAT,EAAmB;AAC/C,gBAAIA,UAAU,IAAI,SAAlB,EAA4B;AACxBtJ,qBAAO,CAACC,GAAR,CAAY,SAAZ;AACH;AACJ,WAJD,EAIG9C,IAJH,CAIQ,UAAAC,CAAC,EAAI;AACT,mBAAI,CAACmM,KAAL;;AACA,mBAAI,CAAC6L,KAAL,GAAa,IAAb;AACA,mBAAI,CAACC,KAAL,GAAa,IAAb;AACH,WARD;AASH;;;gCAEI;AAAA;;AACD,cAAG7L,SAAS,CAACC,aAAb,EAA2B;AACvB,gBAAMhL,KAAK,GAAG,KAAKA,KAAnB;AACA+K,qBAAS,CAACC,aAAV,CAAwBC,eAAxB,GAA0CvM,IAA1C,CAA+C,UAAAwM,GAAG,EAAI;AAElD,qBAAI,CAACC,YAAL,GAAoBzM,IAApB,CAA0B,UAAS0M,GAAT,EAAY;AAClCF,mBAAG,CAACG,WAAJ,CAAgB3K,SAAhB,CAA0B;AACtB4K,iCAAe,EAAE,IADK;AAEtBC,sCAAoB,EAAEH;AAFA,iBAA1B,EAGG1M,IAHH,CAGQ,UAAAqJ,GAAG;AAAA,yBAAIA,GAAG,CAACyD,MAAJ,EAAJ;AAAA,iBAHX,EAIC9M,IAJD,CAIM,UAAA+M,YAAY,EAAI;AAClBC,uBAAK,CAAC,wDAAO3L,GAAP,GAAa,WAAd,EAA2B;AAC5B4L,0BAAM,EAAE,MADoB;AAE5BC,2BAAO,EAAE;AAAE,sCAAgB,kBAAlB;AAAsC,uCAAiB5L;AAAvD,qBAFmB;AAG5B+I,wBAAI,EAAElI,IAAI,CAACgD,SAAL,CAAe4H,YAAf;AAHsB,mBAA3B,CAAL,UAKOlK,OAAO,CAACC,GALf;AAMH,iBAXD;AAYH,eAbD;AAcH,aAhBD;AAiBH,WAnBD,MAmBO,CACH;AACH;AACJ;;;uCAEW;AACR,cAAMxB,KAAK,GAAG,KAAKA,KAAnB;AACA,iBAAO0L,KAAK,CAAC,KAAK3L,GAAL,GAAW,KAAZ,EAAmB;AAC3B6L,mBAAO,EAAE;AAAE,+BAAiB5L;AAAnB;AADkB,WAAnB,CAAL,CAGNtB,IAHM,CAGD,UAAAqJ,GAAG;AAAA,mBAAIA,GAAG,CAAC8D,WAAJ,EAAJ;AAAA,WAHF,EAIP;AAJO,WAKNnN,IALM,CAKD,UAAA0M,GAAG;AAAA,mBAAI,IAAIU,UAAJ,CAAeV,GAAf,CAAJ;AAAA,WALF,CAAP;AAMH;;;;;;;uBAvZQuK,e,EAAe,+H,EAAA,uH,EAAA,2I,EAAA,yI,EAAA,iJ,EAAA,uI,EAAA,qI,EAAA,qI,EAAA,0H;AAAA,K;;;YAAfA,e;AAAe,6B;AAAA,kFAHb,CAAC,0EAAD,EAAkB,gFAAlB,EAAsC,wEAAtC,EAAsD,sEAAtD,EAAqE,oEAArE,EAAmF,oEAAnF,CAGa,E;AAHmF,e;AAAA,c;AAAA,quK;AAAA;AAAA;ACnB/G;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAA/S,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AAA4B;;AAAS;;AACzC;;AACJ;;AACJ;;AACA;;AAEA;;AACI;;AAMA;;AAcA;;AA+CA;;AAEA;;AAyDA;;AAGA;;AAcA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAkB;;AAC9C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAA0F;AAAA,mBAAS,IAAAoH,WAAA,EAAT;AAAsB,WAAtB;;AAAwB;;AAAE;;AACxH;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AAGA;;AAIJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAgC;;AAC5D;;AACA;;AACI;;AAA0F;;AAAO;;AACrG;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAA6C;;AACzE;;AACA;;AACI;;AAAoF;AAAA,mBAAS,IAAAA,WAAA,EAAT;AAAsB,WAAtB;;AAAwB;;AAAE;;AAC9G;;AAA+F;AAAA,mBAAS,IAAA6M,mBAAA,EAAT;AAA8B,WAA9B;;AAAgC;;AAAE;;AACrI;;AACJ;;AACJ;;AACJ;;AAEA;;AAGA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAmB;;AAC/C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAA0F;AAAA,mBAAS,IAAApP,gBAAA,iBAA6B,CAA7B,CAAT;AAAwC,WAAxC;;AAA0C;;AAAE;;AAC1I;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAkB;;AAC9C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAA0F;AAAA,mBAAS,IAAAA,gBAAA,iBAA6B,CAA7B,CAAT;AAAwC,WAAxC;;AAA0C;;AAAE;;AAC1I;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AAWJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAgE;;AAC5F;;AACA;;AAIJ;;AACJ;;AACJ;;AAEA;;AACJ;;AACJ;;;;AAtQ6C;;AAAA;;AAMhC;;AAAA;;AAca;;AAAA;;AAiDb;;AAAA;;AA4DA;;AAAA;;AA+BiC;;AAAA;;AAGA;;AAAA;;AAmCnC;;AAAA;;AAiCmC;;AAAA;;AAmBE;;AAAA;;AAEF;;AAAA;;;;;;;;;sEDrPjCkO,e,EAAe;cAN3B,uDAM2B;eANjB;AACP7S,kBAAQ,EAAE,QADH;AAEPC,qBAAW,EAAE,yBAFN;AAGPC,mBAAS,EAAE,CAAC,0EAAD,EAAkB,gFAAlB,EAAsC,wEAAtC,EAAsD,sEAAtD,EAAqE,oEAArE,EAAmF,oEAAnF;AAHJ,S;AAMiB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEtB5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAWa8T,kB;AAET,kCACYhX,SADZ,EAC+B;AAAA;;AAAnB,aAAAA,SAAA,GAAAA,SAAA;AAEX;;;;mCAEO,CACP;;;sCAEa;AACV,eAAKA,SAAL,CAAeoB,IAAf;AACH;;;;;;;uBAZQ4V,kB,EAAkB,yH;AAAA,K;;;YAAlBA,kB;AAAkB,gC;AAAA,kFAHhB,EAGgB,E;AAHd,e;AAAA,a;AAAA,mb;AAAA;AAAA;ACRjB;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAAlU,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AAEA;;AACI;;AAEI;;AAA4B;;AAAQ;;AAAsB;;AAAS;;AACnE;;AAAwB;;AAA2pB;;AAEnrB;;AACA;;AAAsC;;AAAQ;;AAA2B;;AAAS;;AAClF;;AAAwB;;AAAiE;;AACzF;;AAAwB;;AAAoJ;;AAC5K;;AAAwB;;AAAsM;;AAC9N;;AAAwB;;AAA8I;;AAEtK;;AACA;;AAAsC;;AAAQ;;AAA8B;;AAAS;;AACrF;;AAAwB;;AAAgsC;;AACxtC;;AAAwB;;AAA6rB;;AACrtB;;AAAwB;;AAAia;;AAEzb;;AACA;;AAAsC;;AAAQ;;AAAsB;;AAAS;;AAC7E;;AAAwB;;AAAqW;;AAC7X;;AAAwB;;AAAirB;;AAEzsB;;AACA;;AAAsC;;AAAQ;;AAAc;;AAAS;;AACrE;;AAAwB;;AAAmc;;AAC3d;;AAAwB;;AAAk1B;;AAE12B;;AACA;;AAAsC;;AAAQ;;AAA8B;;AAAS;;AACrF;;AAAwB;;AAAyN;;AACjP;;AAAwB;;AAAkgB;;AAE1hB;;AACA;;AAAsC;;AAAQ;;AAAkB;;AAAS;;AACzE;;AAAwB;;AAA0lC;;AAElnC;;AACA;;AAAsC;;AAAQ;;AAAkC;;AAAS;;AACzF;;AAAwB;;AAAy4B;;AACj6B;;AAAwB;;AAAwW;;AAEhY;;AACA;;AAAsC;;AAAQ;;AAAsB;;AAAS;;AAC7E;;AAAwB;;AAA2W;;AAEnY;;AACA;;AAAsC;;AAAQ;;AAAqC;;AAAS;;AAC5F;;AAAwB;;AAAoZ;;AAE5a;;AACA;;AAAsC;;AAAQ;;AAAmC;;AAAS;;AAC1F;;AAAwB;;AAAkO;;AAC9P;;AACJ;;AACA;;AACJ;;;;;;;;sED5DakU,kB,EAAkB;cAN9B,uDAM8B;eANpB;AACPhU,kBAAQ,EAAE,WADH;AAEPC,qBAAW,EAAE,4BAFN;AAGPC,mBAAS,EAAE;AAHJ,S;AAMoB,Q;;;;;;;;;;;;;;;;;;;;;;AEX/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAUa+T,gB;AAET;AAAA;AAEC;;;;mCAEO;AACJxV,iBAAO,CAACC,GAAR,CAAY,2BAAZ;AACH;;;;;;;uBARQuV,gB;AAAgB,K;;;YAAhBA,gB;AAAgB,8B;AAAA,kFAHd,EAGc,E;AAHZ,c;AAAA,a;AAAA,8D;AAAA;;;;;sEAGJA,gB,EAAgB;cAN5B,uDAM4B;eANlB;AACPjU,kBAAQ,EAAE,SADH;AAEPC,qBAAW,EAAE,0BAFN;AAGPC,mBAAS,EAAE;AAHJ,S;AAMkB,Q;;;;;;;;;;;;;;;;;;;;ACV7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACWY;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;AAGP;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;AAGP;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;;;AAGP;;AAEI;;AAAgC;AAAA;;AAAA;;AAAA;AAAA;;AAC5B;;AACA;;AAAqC;;AAAS;;AAClD;;AACJ;;;;;;AAF6C;;AAAA;;;;;;;;AAzBjD;;AACI;;AAA4B;AAAA;;AAAA;;AAAA;AAAA;;AACxB;;AACJ;;AAEA;;AACI;;AACJ;;AAEA;;AAIA;;AAIA;;AAIA;;AAOJ;;;;;;AAtBa;;AAAA;;AAGgC;;AAAA;;AAII;;AAAA;;AAIC;;AAAA;;AAIzC;;AAAA;;;;;;AAUb;;AACI;;AACJ;;;;;;AAQgB;;;;;;AAAsD;;;;;;AACtD;;;;;;AAAsE;;;;;;AAkBtE;;AAA2C;;AAAoC;;;;;;AAApC;;AAAA;;;;;;AAC3C;;AAA0C;;AAAa;;;;AAAb;;AAAA;;;;;;AAY9C;;AAAuF;;AAA0C;;;;;;AAA1C;;AAAA;;;;;;AACvF;;AAAuF;;AAA6B;;;;;;AAA7B;;AAAA;;;;;;AAK/E;;AAA0D;;AAAkB;;;;;;AAAnC;;AAAiB;;AAAA;;;;;;;;AAJlE;;AACI;;AACI;;AAAmF;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAnF;;AACA;;AAA2D;;AAAU;;AACrE;;AACJ;;AACJ;;;;;;AAJ4D;;AAAA;;AACV;;AAAA;;AAAiB;;AAAA;;AACpD;;AAAA;;;;;;AATnB;;AACI;;AACA;;AAAwC;;AAAsB;;AAC9D;;AACA;;AACA;;AAOJ;;;;;;AAV4C;;AAAA;;AACe;;AAAA;;AACA;;AAAA;;AAClD;;AAAA;;;;;;AARb;;AACI;;AAA0C;;AAAmB;;AAE7D;;AAaJ;;;;;;AAbS;;AAAA;;;;;;;;AAjCb;;AACI;;AACI;;AACI;;AACI;;AACA;;AACJ;;AACJ;;AAEA;;AACI;;AAAmD;;AAAmB;;AAC1E;;AACA;;AACI;;AACI;;AAAqD;;AAAwB;;AACjF;;AACJ;;AAEA;;AAEA;;AACI;;AACA;;AACI;;AACA;;AACJ;;AACA;;AAAuD;;AAAoC;;AAC/F;;AACJ;;AAEA;;AAkBA;;AACI;;AAAgB;;AAAK;;AAAyB;;AAAU;;AAAO;;AAC/D;;AAAyD;AAAA;;AAAA;;AAAA;AAAA;;AAA0G;;AACvK;;AACJ;;;;;;AAhDqB;;AAAA;;AACA;;AAAA;;AAK0C;;AAAA;;AAIM;;AAAA;;AAS/C;;AAAA;;AACA;;AAAA;;AAE6C;;AAAA;;AAI1D;;AAAA;;AAoBwD;;AAAA;;;;;;AAIjE;;AACI;;AACI;;AACJ;;AACJ;;;;;;;;AAuBY;;AACI;;AAA8F;AAAA;;AAAA;;AAAA,qCAAqB,CAArB;AAAsB,SAAtB;;AAAyB;;AAAY;;AACnI;;AAA0F;AAAA;;AAAA;;AAAA,qCAAqB,CAArB;AAAsB,SAAtB;;AAAyB;;AAAgB;;AAGvI;;;;;;AAgDI;;AAEI;;AAAM;;AAAgD;;AACtD;;AAAmB;;AAAO;;AAC9B;;;;;;AAFU;;AAAA;;;;;;AAGV;;AACI;;AAAM;;AAAgD;;AACtD;;AAAmB;;AAAO;;AAC9B;;;;;;AAFU;;AAAA;;;;;;AAGV;;AACI;;AAAM;;AAAgD;;AACtD;;AAAmB;;AAAO;;AAC9B;;;;;;AAFU;;AAAA;;;;;;AAXd;;AACI;;AAKA;;AAIA;;AAIJ;;;;;;AAbY;;AAAA;;AAKA;;AAAA;;AAIA;;AAAA;;;;;;AAKZ;;AACI;;AACI;;AAAM;;AAAgD;;AACtD;;AAAmB;;AAAO;;AAC9B;;AACJ;;;;;;AAHc;;AAAA;;;;;;AAlBlB;;AACI;;AAeA;;AAMJ;;;;;;AArB0B;;AAAA;;AAeA;;AAAA;;;;;;;;;;;;QDzKzBgU,iB;AAyBT,iCACYtX,MADZ,EAEYC,OAFZ,EAGY+R,gBAHZ,EAIY9R,eAJZ,EAKYC,mBALZ,EAMY6M,aANZ,EAOY5M,SAPZ,EAO+B;AAAA;;AANnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAA+R,gBAAA,GAAAA,gBAAA;AACA,aAAA9R,eAAA,GAAAA,eAAA;AACA,aAAAC,mBAAA,GAAAA,mBAAA;AACA,aAAA6M,aAAA,GAAAA,aAAA;AACA,aAAA5M,SAAA,GAAAA,SAAA;AAER,aAAKC,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAKG,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKH,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAK+B,QAAL,GAAgB,CAAhB;AACA,aAAKN,MAAL,GAAc,IAAd;AACA,aAAK4B,OAAL,GAAe,IAAf;AACA,aAAK+D,cAAL,GAAsB,IAAI,qEAAJ,CAAmB,IAAnB,EAAwB,CAAxB,EAA2B,EAA3B,EAA+B,EAA/B,EAAmC,CAAnC,EAAsC,IAAtC,EAA2C,IAA3C,EAAiD,IAAjD,CAAtB;AACA,aAAK4P,YAAL,GAAoB,EAApB;AACA,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAKC,SAAL,GAAiB,CAAjB;AACA,aAAKC,QAAL,GAAgB,EAAhB;AACA,aAAKC,QAAL,GAAgB,IAAhB;AACH;;;;mCAEO;AACJ,eAAK9W,QAAL;AACA,eAAKmQ,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;mCAEO;AAAA;;AACJ,eAAKlR,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,IAAD,CAAT,EAAgB;AACZ,qBAAI,CAACiU,UAAL,GAAkBjU,MAAM,CAAC,IAAD,CAAxB;;AACA,qBAAI,CAAC8W,eAAL,CAAqB,OAAI,CAAC7C,UAA1B;AACH;AACJ,WALD;AAMH;;;6CAEiB;AACd,cAAInN,MAAM,GAAG1G,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAAb;AACA,cAAI+C,KAAK,GAAGlD,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAZ;;AAEA,cAAG,CAACuG,MAAJ,EAAW;AACP,iBAAKA,MAAL,GAAc,IAAd;AACA,iBAAKxD,KAAL,GAAa,IAAb;AACH;;AAED,cAAGwD,MAAM,IAAI,WAAV,IAAyBA,MAAM,IAAI,IAAtC,EAA2C;AACvC,iBAAKA,MAAL,GAAcA,MAAd;AACA,iBAAKxD,KAAL,GAAaA,KAAb;;AACA,gBAAG,KAAKwD,MAAL,CAAYlG,WAAZ,IAA2B,KAAKA,WAAL,CAAiBC,GAA/C,EAAmD;AAC/CP,0BAAY,CAACE,UAAb,CAAwB,QAAxB;AACAF,0BAAY,CAACE,UAAb,CAAwB,OAAxB;AACA,mBAAKsG,MAAL,GAAc,IAAd;AACH;AACJ,WARD,MAQO;AACH,iBAAKA,MAAL,GAAc,IAAd;AACA,iBAAKxD,KAAL,GAAa,IAAb;AACH;AACJ;;;sCAEa;AACV;AACA;AACA;AACA,eAAKjE,SAAL,CAAeoB,IAAf;AACH;;;wCAEejC,E,EAAE;AAAA;;AACd,eAAKyS,gBAAL,CAAsB6F,eAAtB,CAAsCtY,EAAtC,EAA0CyB,SAA1C,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,qBAAI,CAACgI,QAAL,GAAgBhI,QAAQ,CAACgI,QAAzB;;AACA,qBAAI,CAACzI,kBAAL,CAAwB,OAAI,CAACyI,QAAL,CAAc/H,WAAtC;;AACA,qBAAI,CAACmW,cAAL;;AACA,qBAAI,CAAClU,OAAL,GAAe,KAAf;;AAEA,kBAAG,OAAI,CAAC8F,QAAL,CAAc6N,YAAd,CAA2B,CAA3B,CAAH,EAAiC;AAC7B,uBAAI,CAACQ,oBAAL;AACH;AACJ;AACJ,WAZL,EAaI,UAAApX,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WApBL;AAsBH;;;2CAEkBzC,E,EAAE;AAAA;;AACjB,eAAKY,mBAAL,CAAyBc,kBAAzB,CAA4C1B,EAA5C,EAAgDyB,SAAhD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACC,WAAZ,EAAwB;AACpB,qBAAI,CAACA,WAAL,GAAmBD,QAAQ,CAACC,WAA5B;;AACA,qBAAI,CAACyU,kBAAL;AACH;AACJ,WANL,EAOI,UAAAzV,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAdL;AAgBH;;;yCAEa;AAAA;;AACV,eAAK7B,mBAAL,CAAyB2X,cAAzB,CAAwC,KAAKpO,QAAL,CAAcsO,OAAtD,EAA+DhX,SAA/D,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,qBAAI,CAACsW,OAAL,GAAetW,QAAQ,CAACsW,OAAxB;AACH;AACJ,WALL,EAMI,UAAArX,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,qBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAbL;AAeH;;;+CAEmB;AAAA;;AAChB,eAAK0H,QAAL,CAAc6N,YAAd,CAA2BvQ,OAA3B,CAAmC,UAAAC,OAAO,EAAI;AAC1C,gBAAIgR,MAAM,GAAG,EAAb;AACAA,kBAAM,CAAC9V,IAAP,CAAY8E,OAAO,CAACiR,MAApB;AACAD,kBAAM,CAAC9V,IAAP,CAAY8E,OAAO,CAACkR,MAApB;AACAlR,mBAAO,CAACsQ,YAAR,CAAqBvQ,OAArB,CAA6B,UAAAC,OAAO,EAAI;AACpCgR,oBAAM,CAAC9V,IAAP,CAAY8E,OAAO,CAAC,CAAD,CAAnB;;AACA,sBAAI,CAACuQ,aAAL,CAAmBrV,IAAnB,CAAwB8E,OAAxB;AACH,aAHD;;AAIA,oBAAI,CAACsQ,YAAL,CAAkBpV,IAAlB,CAAuB8V,MAAvB;AACH,WATD;AAWA3Q,oBAAU,CAAC,YAAM;AACb,gBAAI7F,CAAC,GAAG,CAAR;;AACA,oBAAI,CAAC8V,YAAL,CAAkBvQ,OAAlB,CAA0B,UAAAC,OAAO,EAAI;AACjC,kBAAGA,OAAO,CAAC,CAAD,CAAP,IAAc,CAAjB,EAAmB;AACf,wBAAI,CAACmR,gBAAL,CAAsB,CAAtB,EAAyB3W,CAAzB,EAA4BwF,OAAO,CAAC,CAAD,CAAnC;AACH;;AACDxF,eAAC,GAAGA,CAAC,GAAC,CAAN;AACH,aALD;AAMH,WARS,EAQR,GARQ,CAAV;AASH;;;iCAGQ4W,G,EAAG;AAAA;;AACR,cAAI5W,CAAC,GAAG,CAAR;AACA,eAAK8V,YAAL,CAAkBvQ,OAAlB,CAA0B,UAAAC,OAAO,EAAI;AACjC,gBAAGA,OAAO,CAACqR,QAAR,CAAiBD,GAAG,CAAC,CAAD,CAApB,CAAH,EAA4B;AACxB,kBAAG,QAAI,CAACd,YAAL,CAAkB9V,CAAlB,EAAqB,CAArB,KAA2B,CAA3B,IAAgC,QAAI,CAAC8V,YAAL,CAAkB9V,CAAlB,EAAqB,CAArB,KAA2B,CAA9D,EAAgE;AAC5D,wBAAI,CAAC2W,gBAAL,CAAsB,CAAtB,EAAyB3W,CAAzB,EAA4B4W,GAA5B;AACH,eAFD,MAEO;AACH,wBAAI,CAACE,mBAAL,CAAyB9W,CAAzB,EAA4B4W,GAA5B;AACH;AACJ;;AACD5W,aAAC,GAAGA,CAAC,GAAC,CAAN;AACH,WATD;AAUH;;;yCAGgB+W,C,EAAG/W,C,EAAG4W,G,EAAG;AACtB,cAAGG,CAAC,IAAI,CAAR,EAAU;AACN,iBAAKf,aAAL,CAAmBhW,CAAnB,IAAwB,EAAxB;AACA,iBAAKgW,aAAL,CAAmBhW,CAAnB,EAAsBU,IAAtB,CAA2BkW,GAA3B;AACA,gBAAIvO,QAAQ,GAAG,EAAf;AACAA,oBAAQ,CAAC3H,IAAT,CAAc0G,QAAQ,CAACkB,cAAT,CAAwB,KAAK0N,aAAL,CAAmBhW,CAAnB,CAAxB,CAAd;AACAqI,oBAAQ,CAAC,CAAD,CAAR,CAAYE,OAAZ,GAAoB,IAApB;AACA,iBAAKyO,kBAAL,CAAwB,CAAxB,EAA2B,KAAKhB,aAAL,CAAmBhW,CAAnB,CAA3B;AAEH,WARD,MAQO;AACH,gBAAIqI,QAAQ,GAAG,EAAf;AACAA,oBAAQ,CAAC3H,IAAT,CAAc0G,QAAQ,CAACkB,cAAT,CAAwB,KAAK0N,aAAL,CAAmBhW,CAAnB,CAAxB,CAAd;AACAqI,oBAAQ,CAAC,CAAD,CAAR,CAAYE,OAAZ,GAAoB,KAApB;AACA,iBAAKyO,kBAAL,CAAwB,CAAxB,EAA2B,KAAKhB,aAAL,CAAmBhW,CAAnB,CAA3B;AACA,iBAAKgW,aAAL,CAAmBhW,CAAnB,IAAwB,EAAxB;AACA,iBAAKgW,aAAL,CAAmBhW,CAAnB,EAAsBU,IAAtB,CAA2BkW,GAAG,CAAC,CAAD,CAA9B;AACAvO,oBAAQ,CAAC3H,IAAT,CAAc0G,QAAQ,CAACkB,cAAT,CAAwB,KAAK0N,aAAL,CAAmBhW,CAAnB,CAAxB,CAAd;AACAqI,oBAAQ,CAAC,CAAD,CAAR,CAAYE,OAAZ,GAAoB,IAApB;AACA,iBAAKyO,kBAAL,CAAwB,CAAxB,EAA2BJ,GAA3B;AACH;AACJ;;;4CAGmB5W,C,EAAG4W,G,EAAG;AACtB,cAAIK,SAAS,GAAG,EAAhB;AACAA,mBAAS,CAACvW,IAAV,CAAe0G,QAAQ,CAACkB,cAAT,CAAwBsO,GAAG,CAAC,CAAD,CAA3B,CAAf;AACA,cAAIM,MAAM,GAAGD,SAAS,CAAC,CAAD,CAAT,CAAa1O,OAA1B;;AAEA,cAAG2O,MAAM,IAAI,IAAb,EAAkB;AACd,gBAAG,KAAKlB,aAAL,CAAmBhW,CAAnB,KAAyBmX,SAA5B,EAAsC;AAClC,kBAAG,KAAKnB,aAAL,CAAmBhW,CAAnB,EAAsBoJ,MAAtB,GAA+B,KAAK0M,YAAL,CAAkB9V,CAAlB,EAAqB,CAArB,CAAlC,EAA0D;AACtD,qBAAKgW,aAAL,CAAmBhW,CAAnB,EAAsBU,IAAtB,CAA2BkW,GAAG,CAAC,CAAD,CAA9B;AACA,oBAAIvO,QAAQ,GAAG,EAAf;AACAA,wBAAQ,CAAC3H,IAAT,CAAc0G,QAAQ,CAACkB,cAAT,CAAwBsO,GAAG,CAAC,CAAD,CAA3B,CAAd;AACAvO,wBAAQ,CAAC,CAAD,CAAR,CAAYE,OAAZ,GAAoB,IAApB;AACA,qBAAKyO,kBAAL,CAAwB,CAAxB,EAA2BJ,GAA3B;AAEH,eAPD,MAOO;AACH,oBAAIvO,QAAQ,GAAG,EAAf;AACAA,wBAAQ,CAAC3H,IAAT,CAAc0G,QAAQ,CAACkB,cAAT,CAAwBsO,GAAG,CAAC,CAAD,CAA3B,CAAd;AACAvO,wBAAQ,CAAC,CAAD,CAAR,CAAYE,OAAZ,GAAoB,KAApB;AACH;AAEJ,aAdD,MAcO;AACH,mBAAKyN,aAAL,CAAmBhW,CAAnB,IAAwB,EAAxB;AACA,mBAAKgW,aAAL,CAAmBhW,CAAnB,EAAsBU,IAAtB,CAA2BkW,GAAG,CAAC,CAAD,CAA9B;AACA,mBAAKI,kBAAL,CAAwB,CAAxB,EAA2BJ,GAA3B;AACH;AAEJ,WArBD,MAqBO,IAAGM,MAAM,IAAI,KAAb,EAAmB;AACtB,gBAAI3P,QAAQ,GAAG,KAAKyO,aAAL,CAAmBhW,CAAnB,EAAsB0F,OAAtB,CAA8BkR,GAAG,CAAC,CAAD,CAAjC,CAAf;AACA,iBAAKZ,aAAL,CAAmBhW,CAAnB,EAAsB2F,MAAtB,CAA6B4B,QAA7B,EAAuC,CAAvC;AACA,iBAAKyP,kBAAL,CAAwB,CAAxB,EAA2BJ,GAA3B;AACH;AACJ;;;2CAGkB7Q,C,EAAG6Q,G,EAAG;AAAA;;AACrB,cAAG,CAACA,GAAG,CAAC,CAAD,CAAP,EAAW;AACP,iBAAKb,aAAL,CAAmBxQ,OAAnB,CAA2B,UAAAC,OAAO,EAAI;AAClC,kBAAGA,OAAO,CAAC,CAAD,CAAP,IAAcoR,GAAG,CAAC,CAAD,CAApB,EAAwB;AACpB,wBAAI,CAACQ,cAAL,CAAoB5R,OAApB,EAA6BO,CAA7B;AACH;AACJ,aAJD;AAKH,WAND,MAMO;AACH,iBAAKqR,cAAL,CAAoBR,GAApB,EAAyB7Q,CAAzB;AACH;AACJ;;;uCAGcsR,W,EAAaC,I,EAAI;AAC5B,cAAGA,IAAI,IAAI,CAAX,EAAa;AACT,iBAAKpB,QAAL,CAAcxV,IAAd,CAAmB2W,WAAnB;AACA,iBAAKpB,SAAL,GAAiB,KAAKA,SAAL,GAAiBoB,WAAW,CAAC,CAAD,CAA7C;AAEH,WAJD,MAIO,IAAGC,IAAI,IAAI,CAAX,EAAa;AAChB,iBAAKrB,SAAL,GAAiB,KAAKA,SAAL,GAAiBoB,WAAW,CAAC,CAAD,CAA7C;AACA,gBAAI9P,QAAQ,GAAG,KAAK2O,QAAL,CAAcxQ,OAAd,CAAsB2R,WAAtB,CAAf;AACA,iBAAKnB,QAAL,CAAcvQ,MAAd,CAAqB4B,QAArB,EAA+B,CAA/B;AACH;;AACD,eAAKgQ,eAAL;AACH;;;0CAGc;AAAA;;AACX,eAAKC,OAAL,GAAe,EAAf;AACA,eAAKC,QAAL,GAAgB,CAAhB;AACA,eAAKtB,QAAL,GAAgB,KAAhB;AAEA,eAAKlO,QAAL,CAAc6N,YAAd,CAA2BvQ,OAA3B,CAAmC,UAAAC,OAAO,EAAI;AAC1C,gBAAGA,OAAO,CAACiR,MAAR,GAAiB,CAApB,EAAsB;AAClB,kBAAIzW,CAAC,GAAG,CAAR;AACA,sBAAI,CAACyX,QAAL,GAAgB,QAAI,CAACA,QAAL,GAAgB,CAAhC;AACAjS,qBAAO,CAACsQ,YAAR,CAAqBvQ,OAArB,CAA6B,UAAAqK,QAAQ,EAAI;AACrC,oBAAG,QAAI,CAACsG,QAAL,CAAcW,QAAd,CAAuBjH,QAAvB,KAAoC5P,CAAC,IAAI,CAA5C,EAA8C;AAC1C,0BAAI,CAACwX,OAAL,CAAa9W,IAAb,CAAkB,IAAlB;;AACAV,mBAAC,GAAG,CAAJ;AACH;AACJ,eALD;AAMH;AACJ,WAXD;;AAYA,cAAG,KAAKyX,QAAL,IAAiB,KAAKD,OAAL,CAAapO,MAAjC,EAAwC;AACpC,iBAAK+M,QAAL,GAAgB,IAAhB;AACH;AACJ;;;oCAGWnW,C,EAAC;AAAA;;AACT,cAAG,KAAKkW,QAAL,CAAc,CAAd,CAAH,EAAoB;AAChB,iBAAKwB,aAAL,GAAqB,EAArB;AACA,iBAAKC,WAAL,GAAmB,CAAnB;AACA,iBAAK1P,QAAL,CAAc6N,YAAd,CAA2BvQ,OAA3B,CAAmC,UAAAC,OAAO,EAAI;AAC1CA,qBAAO,CAACsQ,YAAR,CAAqBvQ,OAArB,CAA6B,UAAAqK,QAAQ,EAAI;AACrC,oBAAG,QAAI,CAACsG,QAAL,CAAcW,QAAd,CAAuBjH,QAAvB,CAAH,EAAoC;AAChC,0BAAI,CAAC+H,WAAL,GAAmB,QAAI,CAACA,WAAL,GAAmB/H,QAAQ,CAAC,CAAD,CAA9C;;AACA,0BAAI,CAAC8H,aAAL,CAAmBhX,IAAnB,CAAwBkP,QAAQ,CAAC,CAAD,CAAhC;AACH;AACJ,eALD;AAMH,aAPD;AAQA,iBAAK1J,cAAL,CAAoB4P,YAApB,GAAmC,KAAK4B,aAAxC;AACA,iBAAKC,WAAL,GAAoB,KAAKA,WAAL,GAAiB,GAAjB,GAAqB,KAAK9W,QAA3B,GAAqC,IAAxD;AACH;;AAED,cAAG,CAAC,KAAKqF,cAAL,CAAoB/E,IAArB,IAA6B,KAAK+E,cAAL,CAAoB/E,IAApB,CAAyBiI,MAAzB,IAAmC,CAAnE,EAAqE;AACjE,iBAAKlD,cAAL,CAAoB/E,IAApB,GAA2B,IAA3B;AACH;;AACD,eAAK+E,cAAL,CAAoBqQ,OAApB,GAA8B,KAAKA,OAAL,CAAaxN,MAA3C;AACA,eAAK7C,cAAL,CAAoB+B,QAApB,GAA+B,KAAKA,QAAL,CAAcc,MAA7C;AACA,eAAK7C,cAAL,CAAoBrF,QAApB,GAA+B,KAAKA,QAApC;AACA,eAAKqF,cAAL,CAAoB/F,GAApB,GAA0B,KAAK8H,QAAL,CAAc9H,GAAxC;AACA,eAAK+F,cAAL,CAAoBtD,KAApB,GAA6B,KAAKqF,QAAL,CAAc2P,MAAd,GAAuB,KAAK/W,QAAzD;;AAGA,cAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAA3B,EAA+B;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAAgC,KAAKuB,QAAL,CAAc2P,MAAd,GAAsB,EAAtB,GAA2B,KAAK/W,QAAhE;AAChC,WADD,MACO,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAAxB,IAA+B,KAAK3P,QAAL,CAAc2P,MAAd,IAAwB,GAA1D,EAA8D;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACtE,WADM,MACA,IAAG,KAAKoH,QAAL,CAAc2P,MAAd,IAAwB,GAA3B,EAA+B;AAAE,iBAAK1R,cAAL,CAAoBQ,QAApB,GAA+B,KAAK,KAAK7F,QAAzC;AACvC;;AAED,cAAG,KAAKqV,QAAL,CAAc,CAAd,CAAH,EAAoB;AAChB,iBAAKhQ,cAAL,CAAoBQ,QAApB,GAA+B,CAAC,KAAKR,cAAL,CAAoBQ,QAApB,GAA6B,GAA7B,GAAmC,KAAKiR,WAAL,GAAiB,GAArD,IAA0D,GAAzF;AACA,iBAAKzR,cAAL,CAAoBtD,KAApB,GAA8B,KAAKqF,QAAL,CAAc2P,MAAd,GAAuB,KAAK/W,QAA7B,GAAyC,KAAK8W,WAAL,GAAiB,EAAvF;AACH;;AAED,cAAG,KAAKvR,MAAL,IAAe,IAAlB,EAAuB;AACnB,iBAAKxD,KAAL,GAAa,KAAK/B,QAAlB;AACA,gBAAI8F,KAAJ;;AACA,gBAAG,KAAKsB,QAAL,CAAc4P,aAAd,IAA+B,EAAlC,EAAqC;AACjClR,mBAAK,GAAG,KAAKsB,QAAL,CAAc4P,aAAtB;AACH,aAFD,MAEO;AACHlR,mBAAK,GAAG,EAAR;AACH;;AACD,iBAAKP,MAAL,GAAc,IAAI,qDAAJ,CAAW,EAAX,EAAe,KAAKrH,QAAL,CAAcoB,GAA7B,EAAkC,KAAKD,WAAL,CAAiBC,GAAnD,EAAwD,EAAxD,EAA4D,EAA5D,EAAgE,EAAhE,EAAoE,EAApE,EAAwEwG,KAAxE,EAA+E,EAA/E,EAAmF,IAAnF,EAAyF,IAAzF,CAAd;AACA,iBAAKP,MAAL,CAAYuC,SAAZ,CAAsBjI,IAAtB,CAA2B,KAAKwF,cAAhC;AACAtG,wBAAY,CAAC6C,OAAb,CAAqB,QAArB,EAA+B/C,IAAI,CAACgD,SAAL,CAAe,KAAK0D,MAApB,CAA/B;AACAxG,wBAAY,CAAC6C,OAAb,CAAqB,OAArB,EAA8B/C,IAAI,CAACgD,SAAL,CAAe,KAAKE,KAApB,CAA9B;;AACA,gBAAG,KAAK7D,QAAL,CAAc6G,GAAd,IAAqB,OAAxB,EAAgC;AAC5B,mBAAK2F,aAAL,CAAmB8J,WAAnB,CAA+B,CAA/B,EAAkC9V,SAAlC;AACH;AAEJ,WAhBD,MAgBO;AACH,gBAAG,KAAK6G,MAAL,CAAY7F,MAAZ,GAAqB,KAAK0H,QAAL,CAAc4P,aAAtC,EAAoD;AAChD,mBAAKzR,MAAL,CAAY7F,MAAZ,GAAqB,KAAK0H,QAAL,CAAc4P,aAAnC;AACH;;AACD,iBAAKjV,KAAL,GAAa,KAAKA,KAAL,GAAa,KAAK/B,QAA/B;AACA,iBAAKuF,MAAL,CAAYuC,SAAZ,CAAsBjI,IAAtB,CAA2B,KAAKwF,cAAhC;AACAtG,wBAAY,CAAC6C,OAAb,CAAqB,QAArB,EAA+B/C,IAAI,CAACgD,SAAL,CAAe,KAAK0D,MAApB,CAA/B;AACAxG,wBAAY,CAAC6C,OAAb,CAAqB,OAArB,EAA8B/C,IAAI,CAACgD,SAAL,CAAe,KAAKE,KAApB,CAA9B;AACH;;AAED,cAAG5C,CAAC,IAAI,CAAR,EAAU;AACN,iBAAKrB,SAAL,CAAeoB,IAAf;AAEH,WAHD,MAGO;AACH,iBAAKpB,SAAL,CAAeoB,IAAf;;AACA8F,sBAAU,CAAC,YAAM;AACb,sBAAI,CAACrH,OAAL,CAAa6R,QAAb,CAAsB,CAAC,WAAD,CAAtB;AACH,aAFS,EAEP,EAFO,CAAV,CAFG,CAKH;AACA;AACH;AACJ;;;mCAEO;AAAA;;AACJ,eAAK1R,SAAL,CAAeoB,IAAf;;AACA8F,oBAAU,CAAC,YAAM;AACb,oBAAI,CAACrH,OAAL,CAAa6R,QAAb,CAAsB,CAAC,WAAD,CAAtB;AACH,WAFS,EAEP,EAFO,CAAV;AAGH;;;gCAEI;AACD,cAAG,KAAKxP,QAAL,GAAgB,CAAnB,EAAqB;AACjB,iBAAKA,QAAL,GAAgB,KAAKA,QAAL,GAAgB,CAAhC;AACH;AACJ;;;+BAEG;AACA,cAAG,KAAKA,QAAL,GAAgB,EAAnB,EAAsB;AAClB,iBAAKA,QAAL,GAAgB,KAAKA,QAAL,GAAgB,CAAhC;AACH;AACJ;;;;;;;uBAlaQgV,iB,EAAiB,+H,EAAA,uH,EAAA,2I,EAAA,yI,EAAA,iJ,EAAA,qI,EAAA,0H;AAAA,K;;;YAAjBA,iB;AAAiB,+B;AAAA,kFAHf,CAAC,0EAAD,EAAkB,gFAAlB,EAAsC,wEAAtC,EAAsD,oEAAtD,CAGe,E;AAHoD,e;AAAA,c;AAAA,0pJ;AAAA;AAAA;ACflF;;AACI;;AACI;;AA6BJ;;AAEA;;AAIA;;AAEA;;AAsDA;;AAMA;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAAwE;;AACpG;;AACA;;AACI;;AAAqF;;AAAO;;AAChG;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAA4D;;AACxF;;AACA;;AAMJ;;AACJ;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAAkD;;AAC9E;;AACA;;AACI;;AAAqF;;AAAO;;AAChG;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAA6E;;AACzG;;AACA;;AACI;;AAA2H;;AAAY;;AACvI;;AAAoH;;AAAc;;AACtI;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AAAmB;AAAA,mBAAS,IAAAiC,KAAA,EAAT;AAAgB,WAAhB;;AACf;;AACJ;;AACA;;AACI;;AAAuC;;AAAY;;AACvD;;AACA;;AAAmB;AAAA,mBAAS,IAAAC,IAAA,EAAT;AAAe,WAAf;;AACf;;AACJ;;AACJ;;AAEA;;AAuBJ;;AACJ;;AACJ;;;;AAlMsD;;AAAA;;AA+BlB;;AAAA;;AAMT;;AAAA;;AAsDlB;;AAAA;;AA2BiC;;AAAA;;AA8BoE;;AAAA;;AACJ;;AAAA;;AAa/C;;AAAA;;AAO1C;;AAAA;;;;;;;;;sEDzJJlC,iB,EAAiB;cAN7B,uDAM6B;eANnB;AACPlU,kBAAQ,EAAE,UADH;AAEPC,qBAAW,EAAE,2BAFN;AAGPC,mBAAS,EAAE,CAAC,0EAAD,EAAkB,gFAAlB,EAAsC,wEAAtC,EAAsD,oEAAtD;AAHJ,S;AAMmB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AElB9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAaamW,uB;AAUT,uCACYzZ,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIY0F,aAJZ,EAKYoH,aALZ,EAKuC;AAAA;;AAJ3B,aAAAhN,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAA0F,aAAA,GAAAA,aAAA;AACA,aAAAoH,aAAA,GAAAA,aAAA;AAER,aAAKxM,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKH,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACH,O,CAGD;AAEA;AACA;AACA;AACA;AACA;;;;;mCAIQ;AACJ,eAAKmZ,KAAL,CAAW,QAAX;AACH;;;mCAEO;AAAA;;AACJ,eAAK1Z,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AAEnC,gBAAGA,MAAM,CAAC,UAAD,CAAN,IAAsB,KAAzB,EAA+B;AAC3B,sBAAI,CAAC4Y,QAAL,GAAgB,cAAhB;AAEH,aAHD,MAGO,IAAG5Y,MAAM,CAAC,UAAD,CAAN,IAAsB,KAAzB,EAA+B;AAClC,sBAAI,CAAC4Y,QAAL,GAAgB,SAAhB;AACH;;AAGD,gBAAG5Y,MAAM,CAAC,SAAD,CAAN,CAAkB6Y,MAAlB,CAAyB,CAAzB,KAA+B,GAAlC,EAAsC;AAClC,sBAAI,CAACC,WAAL,GAAmB,SAAnB;AAEH,aAHD,MAGO,IAAG9Y,MAAM,CAAC,SAAD,CAAN,CAAkB6Y,MAAlB,CAAyB,CAAzB,KAA+B,GAAlC,EAAsC;AACzC,sBAAI,CAACC,WAAL,GAAmB,UAAnB;AACH;;AAED,oBAAI,CAACC,aAAL,GAAqB/Y,MAAM,CAAC,SAAD,CAAN,CAAkB6Y,MAAlB,CAAyB,CAAzB,CAArB;;AAGA,gBAAG7Y,MAAM,CAAC,WAAD,CAAN,IAAuB,GAA1B,EAA8B;AAC1B,sBAAI,CAACkE,SAAL,GAAiB,OAAjB;AAEH,aAHD,MAGO,IAAGlE,MAAM,CAAC,WAAD,CAAN,IAAuB,GAA1B,EAA8B;AACjC,sBAAI,CAACkE,SAAL,GAAiB,SAAjB;AACH;;AAED,gBAAG,QAAI,CAACzE,QAAR,EAAiB;AACb,sBAAI,CAACqE,OAAL,GAAe,CAAf;AACH,aAFD,MAEO;AACH,sBAAI,CAACA,OAAL,GAAe,CAAf;AACH;;AAED,oBAAI,CAACmI,aAAL,CAAmB+M,aAAnB,CAAiC,QAAI,CAACJ,QAAtC,EAAgD,QAAI,CAACE,WAArD,EAAkE,QAAI,CAACC,aAAvE,EAAsF,QAAI,CAAC7U,SAA3F,EAAsG,QAAI,CAACJ,OAA3G,EAAoH7D,SAApH;AACH,WAlCD;AAmCH;;;8BAGKD,M,EAAM;AAAA;;AACR,eAAKwS,SAAL,GAAiBpS,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAjB;;AAEA,cAAG,CAAC,KAAKiS,SAAT,EAAmB;AACf,iBAAKzS,QAAL;;AAEA,gBAAG,KAAKN,QAAL,IAAiB,IAApB,EAAyB;AACrB,mBAAK+S,SAAL,GAAiB,CAAC,EAAD,EAAK,CAAL,EAAQxS,MAAR,EAAgB,CAAhB,EAAmB,KAAKkE,SAAxB,CAAjB;AACA5D,0BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,KAAKoP,SAApB,CAAlC;;AACA,mBAAKvG,aAAL,CAAmBgH,UAAnB,CAA8B,CAA9B,EAAiChT,SAAjC;;AACA,mBAAKf,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AAEH,aAND,MAMO;AACH,mBAAKlM,aAAL,CAAmB0I,cAAnB,CAAkC,KAAKhO,KAAvC,EAA8C,CAA9C,EAAiDU,SAAjD,CACI,UAAAU,QAAQ,EAAI;AACR,oBAAGA,QAAQ,CAACmE,OAAT,CAAiBgF,MAAjB,IAA2B,CAA9B,EAAgC;AAC5B,0BAAI,CAAC0I,SAAL,GAAiB,CAAC,CAAD,EAAI,CAAJ,EAAOxS,MAAP,EAAe,CAAf,EAAkB,QAAI,CAACkE,SAAvB,CAAjB;AACA5D,8BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,QAAI,CAACoP,SAApB,CAAlC;;AACA,0BAAI,CAACtT,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AAEH,iBALD,MAKO;AACH,0BAAI,CAACyB,SAAL,GAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,MAAP,EAAe,CAAf,EAAkB,QAAI,CAACtO,SAAvB,CAAjB;AACA5D,8BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,QAAI,CAACoP,SAApB,CAAlC;;AACA,0BAAI,CAACtT,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AACH;AACJ,eAZL,EAaI,UAAAnR,KAAK,EAAI;AACL,wBAAI,CAACV,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;;AACA,oBAAI/P,YAAY,GAAQpB,KAAxB,CAFK,CAGL;AACH,eAjBL;AAmBH;AAEJ,WA/BD,MA+BO,IAAG,KAAK4S,SAAL,CAAe,CAAf,KAAqB,KAAKA,SAAL,CAAe,CAAf,KAAqB,CAA7C,EAA+C;AAClD,iBAAKA,SAAL,CAAe,CAAf,IAAoB,CAApB;AACAlS,wBAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,KAAKoP,SAApB,CAAlC;;AACA,iBAAKtT,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AAEH,WALM,MAKA;AACH,iBAAK7R,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AACH;AAEJ;;;;;;;uBAtHQ2H,uB,EAAuB,+H,EAAA,uH,EAAA,yI,EAAA,qI,EAAA,qI;AAAA,K;;;YAAvBA,uB;AAAuB,qC;AAAA,kFAHrB,CAAC,wEAAD,EAAiB,oEAAjB,EAA+B,oEAA/B,CAGqB,E;AAHuB,c;AAAA,a;AAAA;AAAA;ACV3D;;;;;;;;sEDaaA,uB,EAAuB;cANnC,uDAMmC;eANzB;AACPrW,kBAAQ,EAAE,gBADH;AAEPC,qBAAW,EAAE,iCAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,oEAAjB,EAA+B,oEAA/B;AAHJ,S;AAMyB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEbpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACGQ;;AACI;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,+BAAgB,CAAhB;AAAiB,SAAjB;;AAAoB;;AAAI;;AAAS;;AAClG;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,+BAAgB,CAAhB;AAAiB,SAAjB;;AAAoB;;AAAmB;;AAAS;;AACjH;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,gCAAgB,CAAhB;AAAiB,SAAjB;;AAAoB;;AAAyB;;AAAS;;AACvH;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,gCAAgB,CAAhB;AAAiB,SAAjB;;AAAoB;;AAAqB;;AAAS;;AACnH;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,gCAAgB,CAAhB;AAAiB,SAAjB;;AAAoB;;AAAQ;;AAAS;;AACtG;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,gCAAgB,CAAhB;AAAiB,SAAjB;;AAAoB;;AAAY;;AAAS;;AAC9G;;;;;;;;AAGA;;AACI;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAK;;AAAS;;AACvG;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA;AAAA;;AAAyB;;AAAY;;AAAS;;AAC/G;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA;AAAA;;AAAsB;;AAAS;;AAAS;;AACzG;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA;AAAA;;AAAqB;;AAAQ;;AAAS;;AAC3G;;;;;;;;AAGA;;AACI;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA;AAAA;;AAAoB;;AAAe;;AAAS;;AAC7G;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA;AAAA;;AAAqC;;AAAwB;;AAAS;;AAC3I;;;;;;;;AAGA;;AACI;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,0CAA0B,CAA1B;AAA2B,SAA3B;;AAA8B;;AAAS;;AAAS;;AACjH;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,0CAA0B,CAA1B;AAA2B,SAA3B;;AAA8B;;AAAS;;AAAS;;AACjH;;AAAuB;;AAA6H;;AAAS;;AAAI;;AACjK;;AAAuB;;AAAqH;;AAAS;;AAAI;;AAC7J;;;;;;AAGA;;AACI;;AAAuB;;AAAgE;;AAAuB;;AAAI;;AAClH;;AAAuB;;AAAgF;;AAAuB;;AAAI;;AAClI;;AAAuB;;AAAoF;;AAAuB;;AAAI;;AACtI;;AAAuB;;AAAsE;;AAAuB;;AAAI;;AACxH;;AAAuB;;AAA6E;;AAAuB;;AAAI;;AAC/H;;AAAuB;;AAA6F;;AAAuB;;AAAI;;AAC/I;;AAAuB;;AAAsF;;AAAqB;;AAAI;;AAC1I;;;;;;;;AAGA;;AACI;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,kCAAkB,CAAlB;AAAmB,SAAnB;;AAAsB;;AAAS;;AAAS;;AACzG;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,kCAAkB,CAAlB;AAAmB,SAAnB;;AAAsB;;AAAgB;;AAAS;;AAChH;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,kCAAkB,CAAlB;AAAmB,SAAnB;;AAAsB;;AAAY;;AAAS;;AAChH;;;;;;;;AAGA;;AACI;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,6BAAa,CAAb;AAAc,SAAd;;AAAiB;;AAAS;;AAAS;;AACpG;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,6BAAa,CAAb;AAAc,SAAd;;AAAiB;;AAAS;;AAAS;;AACpG;;AAAuB;;AAA0C;AAAA;;AAAA;;AAAA,6BAAa,CAAb;AAAc,SAAd;;AAAiB;;AAAS;;AAAS;;AACxG;;;;QD9CK0W,yB;AAMT,yCACYha,MADZ,EAEYC,OAFZ,EAE2B;AAAA;;AADf,aAAAD,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AAER,aAAKga,aAAL,GAAqB,IAArB;AACA,aAAKC,UAAL,GAAkB,IAAlB;AACA,aAAK3P,MAAL,GAAc,CAAd,CAJuB,CAKvB;AACA;AACH;;;;mCAEO;AACJ,eAAKzJ,QAAL;AACH;;;mCAEO;AAAA;;AACJ,eAAKd,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,UAAD,CAAN,IAAsB6X,SAAzB,EAAmC;AAC/B,sBAAI,CAACsB,UAAL,GAAmBnZ,MAAM,CAAC,UAAD,CAAzB;AACH;;AACD,gBAAGA,MAAM,CAAC,cAAD,CAAT,EAA0B;AACtB,sBAAI,CAACoZ,WAAL,CAAiBpZ,MAAM,CAAC,cAAD,CAAvB;AACH;AACJ,WAPD;AAQH;;;oCAGWqZ,M,EAAM;AACd,cAAGA,MAAM,IAAI,KAAb,EAAmB;AAAa,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADD,MACO,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B,WADM,MACA,IAAGG,MAAM,IAAI,KAAb,EAAmB;AAAM,iBAAKH,aAAL,GAAqB,0BAArB;AAC/B;;AAED,cAAGG,MAAM,IAAI,KAAb,EAAmB;AACf,iBAAKC,WAAL;AACH;AACJ;;;sCAGU;AACP,cAAG,KAAKH,UAAR,EAAmB;AACf1R,kBAAM,CAACoJ,OAAP,CAAe0I,YAAf,CAA4B,IAA5B,EAAkC,EAAlC,EAAsC,GAAtC;AACA9R,kBAAM,CAACoJ,OAAP,CAAe0B,SAAf,CAAyB,IAAzB,EAA+B,EAA/B,EAAmC,iBAAiB,KAAK2G,aAAzD;;AACA,iBAAKha,OAAL,CAAa6R,QAAb,CAAsB,CAAC,YAAD,EAAe,KAAKoI,UAApB,CAAtB;AAEH,WALD,MAKO;AACH1R,kBAAM,CAACoJ,OAAP,CAAe0I,YAAf,CAA4B,IAA5B,EAAkC,EAAlC,EAAsC,GAAtC;;AACA,iBAAKra,OAAL,CAAa6R,QAAb,CAAsB,CAAC,aAAD,EAAgB,KAAKmI,aAArB,CAAtB;AACH;AACJ;;;+BAEMxY,C,EAAC;AACJ,eAAK8I,MAAL,GAAc9I,CAAd;AACH;;;uCAEW;AACR+G,gBAAM,CAACoJ,OAAP,CAAe0I,YAAf,CAA4B,IAA5B,EAAkC,EAAlC,EAAsC,GAAtC;AACH;;;oCAEQ;AACL9R,gBAAM,CAACoJ,OAAP,CAAe0B,SAAf,CAAyB,IAAzB,EAA+B,EAA/B,EAAmC,iBAAiB,KAAK2G,aAAzD;AACH;;;mCAEO;AACJ,eAAKha,OAAL,CAAa6R,QAAb,CAAsB,CAAC,YAAD,EAAe,KAAKoI,UAApB,CAAtB;AACH;;;kCAGM;AACH,cAAIK,EAAE,GAAGlP,SAAS,CAACmP,SAAV,IAAuBnP,SAAS,CAACoP,MAA1C;;AACA,cAAIF,EAAE,CAACpT,OAAH,CAAW,MAAX,IAAqB,CAAC,CAAvB,IAA8BoT,EAAE,CAACpT,OAAH,CAAW,MAAX,IAAqB,CAAC,CAAvD,EAA0D;AACtDoB,iBAAK,CAAC,MAAD,CAAL;AACH;AACJ;;;mDAE0B;AACvB;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEAC,gBAAM,CAACkS,gBAAP,CAAwB,cAAxB,EAAwC,UAACC,GAAD,EAAS;AAC7C9Y,mBAAO,CAACC,GAAR,CAAY6Y,GAAZ;AACA9Y,mBAAO,CAACC,GAAR,CAAY,gBAAZ;AACH,WAHD;AAIH;;;yCAIgBL,C,EAAC;AACd,cAAGA,CAAC,IAAI,CAAR,EAAU;AACN+G,kBAAM,CAACC,QAAP,CAAgB4K,OAAhB,CAAwB,yEAAxB;AAEH,WAHD,MAGO,IAAG5R,CAAC,IAAI,CAAR,EAAU;AACb+G,kBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,yEAAvB;AAEH;AACJ;;;iCAGQjH,C,EAAC;AACN,cAAGA,CAAC,IAAI,CAAR,EAAU;AACN+G,kBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,gBAAvB;AAEH,WAHD,MAGO,IAAGjH,CAAC,IAAI,CAAR,EAAU;AACb+G,kBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,yIAAvB;AAEH,WAHM,MAGA,IAAGjH,CAAC,IAAI,CAAR,EAAU;AACb+G,kBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,2FAAvB;AACH;AACJ;;;4BAGGjH,C,EAAC;AACD,cAAGA,CAAC,IAAI,CAAR,EAAU;AACN+G,kBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,gBAAvB;AAEH,WAHD,MAGO,IAAGjH,CAAC,IAAI,CAAR,EAAU,CACb;AAEH,WAHM,MAGA,IAAGA,CAAC,IAAI,CAAR,EAAU;AACb+G,kBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,qEAAvB;AAEH,WAHM,MAGA,IAAGjH,CAAC,IAAI,CAAR,EAAU;AACb+G,kBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,wDAAvB;AAEH;AACJ;;;;;;;uBAtLQsR,yB,EAAyB,+H,EAAA,uH;AAAA,K;;;YAAzBA,yB;AAAyB,uC;AAAA,kFAHvB,EAGuB,E;AAHrB,e;AAAA,a;AAAA,0iC;AAAA;AAAA;ACRjB;;AACI;;AAEI;;AAUA;;AAQA;;AAMA;;AAQA;;AAWA;;AAOA;;AAKJ;;AACJ;;AAEA;;;;AA1Da;;AAAA;;AAUA;;AAAA;;AAQA;;AAAA;;AAMA;;AAAA;;AAQA;;AAAA;;AAWA;;AAAA;;AAOA;;AAAA;;;;;;;;;sED1CAA,yB,EAAyB;cANrC,uDAMqC;eAN3B;AACP5W,kBAAQ,EAAE,kBADH;AAEPC,qBAAW,EAAE,mCAFN;AAGPC,mBAAS,EAAE;AAHJ,S;AAM2B,Q;;;;;;;;;;;;;;;;;;;;;;;;AEXtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAcasX,sB;AAKT,sCACY5a,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIY0F,aAJZ,EAKYoH,aALZ,EAMY5M,SANZ,EAM+B;AAAA;;AALnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAA0F,aAAA,GAAAA,aAAA;AACA,aAAAoH,aAAA,GAAAA,aAAA;AACA,aAAA5M,SAAA,GAAAA,SAAA;AAER,aAAKI,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKH,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACH,O,CAGD;AAEA;AACA;AACA;AACA;AACA;;;;;mCAGQ;AACJ,eAAKO,QAAL;AACH;;;mCAEO;AAAA;;AACJ,eAAKd,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,WAAD,CAAN,IAAuB,SAAvB,IAAoCA,MAAM,CAAC,WAAD,CAAN,IAAuB,QAA3D,IAAuEA,MAAM,CAAC,WAAD,CAAN,IAAuB,QAAjG,EAA0G;AACtG,sBAAI,CAAC2Y,KAAL,CAAW3Y,MAAM,CAAC,WAAD,CAAjB;AAEH,aAHD,MAGO;AACH,sBAAI,CAACd,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AACH;AACJ,WAPD;AAQH;;;8BAEK/Q,M,EAAM;AAAA;;AACR,eAAKwS,SAAL,GAAiBpS,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAjB;;AAEA,cAAG,CAAC,KAAKiS,SAAT,EAAmB;AACf,iBAAKvG,aAAL,CAAmB6N,qBAAnB,CAAyC9Z,MAAzC,EAAiDC,SAAjD;;AAEA,gBAAG,KAAKR,QAAL,IAAiB,IAApB,EAAyB;AACrB,mBAAK+S,SAAL,GAAiB,CAAC,EAAD,EAAK,CAAL,EAAQxS,MAAR,EAAgB,CAAhB,CAAjB;AACAM,0BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,KAAKoP,SAApB,CAAlC;;AACA,mBAAKvG,aAAL,CAAmBgH,UAAnB,CAA8B,CAA9B,EAAiChT,SAAjC;;AACA,mBAAKf,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AAEH,aAND,MAMO;AACH,mBAAKlM,aAAL,CAAmB0I,cAAnB,CAAkC,KAAKhO,KAAvC,EAA8C,CAA9C,EAAiDU,SAAjD,CACI,UAAAU,QAAQ,EAAI;AACR,oBAAGA,QAAQ,CAACmE,OAAT,CAAiBgF,MAAjB,IAA2B,CAA9B,EAAgC;AAC5B,0BAAI,CAAC0I,SAAL,GAAiB,CAAC,CAAD,EAAI,CAAJ,EAAOxS,MAAP,EAAe,CAAf,CAAjB;AACAM,8BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,QAAI,CAACoP,SAApB,CAAlC;;AACA,0BAAI,CAACtT,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AAEH,iBALD,MAKO;AACH,0BAAI,CAACyB,SAAL,GAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,MAAP,EAAe,CAAf,CAAjB;AACAlS,8BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,QAAI,CAACoP,SAApB,CAAlC;;AACA,0BAAI,CAACtT,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AACH;AACJ,eAZL,EAaI,UAAAnR,KAAK,EAAI;AACL,wBAAI,CAACV,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;;AACA,oBAAI/P,YAAY,GAAQpB,KAAxB,CAFK,CAGL;AACH,eAjBL;AAmBH;AAEJ,WA/BD,MA+BO,IAAG,KAAK4S,SAAL,CAAe,CAAf,KAAqB,KAAKA,SAAL,CAAe,CAAf,KAAqB,CAA7C,EAA+C;AAClD,iBAAKA,SAAL,CAAe,CAAf,IAAoB,CAApB;AACAlS,wBAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,KAAKoP,SAApB,CAAlC;;AACA,iBAAKtT,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AAEH,WALM,MAKA;AACH,iBAAK7R,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;AACH;AAEJ;;;;;;;uBArFQ8I,sB,EAAsB,+H,EAAA,uH,EAAA,yI,EAAA,qI,EAAA,qI,EAAA,yH;AAAA,K;;;YAAtBA,sB;AAAsB,oC;AAAA,kFAHpB,CAAC,wEAAD,EAAiB,oEAAjB,EAA+B,oEAA/B,CAGoB,E;AAHwB,c;AAAA,a;AAAA;AAAA;ACX3D;;;;;;;;sEDcaA,sB,EAAsB;cANlC,uDAMkC;eANxB;AACPxX,kBAAQ,EAAE,eADH;AAEPC,qBAAW,EAAE,8BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,oEAAjB,EAA+B,oEAA/B;AAHJ,S;AAMwB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEdnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACQY;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;;;;;;;AAZhB;;AACI;;AAAK;;AACD;;AACI;;AACJ;;AAEJ;;AACI;;AACI;;AAGA;;AAGA;;AAA4B;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAsE;;AAAgD;;AAAqB;;AAAS;;AAExL;;AAAuB;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAyE;;AAAuC;;AAAmB;;AAAS;;AAE3K;;AAAuB;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAmF;;AAAyC;;AAAmB;;AAAS;;AAGvL;;AAEA;;AACI;;AACI;;AAAuB;;AACvB;;AAA6B;;AAAc;;AAC/C;;AACJ;;AAEJ;;AACJ;;AACJ;;;;;;AAxBwD;;AAAA;;AAGM;;AAAA;;AAevC;;AAAA;;;;;;AAiBX;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAQQ;;AAAuE;;AAAoB;;;;;;AAA9C;;AAA0B;;AAAA;;;;;;AAO3E;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;AASA;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;;;AAxEpB;;AACI;;AACA;;AACI;;AACJ;;AAEA;;AACI;;AACI;;AAGA;;AAIA;;AAAgD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC5C;;AACI;;AAAO;;AAAuB;;AAC9B;;AAA8C;AAAA;;AAAA;;AAAA;AAAA;;AAC1C;;AAAkB;;AAAuB;;AACzC;;AACJ;;AACJ;;AAEA;;AACI;;AAAuB;;AAAM;;AAC7B;;AAA2F;AAAA;;AAAA;;AAAA;AAAA;;AAA3F;;AACA;;AAGJ;;AAEA;;AACI;;AAAuB;;AAAQ;;AAC/B;;AAAiG;AAAA;;AAAA;;AAAA;AAAA;;AAAjG;;AACA;;AAGJ;;AAEA;;AACI;;AAAuB;;AAAQ;;AAC/B;;AACI;;AAA8B;;AAAG;;AACjC;;AAA+I;AAAA;;AAAA;;AAAA;AAAA;;AAA/I;;AACJ;;AACA;;AAGJ;;AAEA;;AACI;;AAAuB;;AAAkB;;AACzC;;AAAwG;AAAA;;AAAA;;AAAA;AAAA;;AAAxG;;AACA;;AAGJ;;AAEA;;AACI;;AAAuB;;AAAU;;AACjC;;AAAuG;AAAA;;AAAA;;AAAA;AAAA;;AAAvG;;AACA;;AAGJ;;AAEA;;AACI;;AAAuB;;AAAoB;;AAC3C;;AAAiI;AAAA;;AAAA;;AAAA;AAAA;;AAAjI;;AACA;;AAGJ;;AAEA;;AAAqC;;AAAgD;;AAA+E;;AAAsB;;AAAI;;AAAC;;AAE/L;;AACI;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAAuB;;AACvB;;AAA6B;;AAAc;;AAC/C;;AACJ;;AACJ;;AAGA;;AACI;;AACI;;AAEI;;AACI;;AAAuD;;AAA4B;;AAAQ;;AAAsB;;AAAS;;AAAI;;AAClI;;AAEA;;AACI;;AAAwB;;AAA2pB;;AAEnrB;;AACA;;AAAsC;;AAAQ;;AAA2B;;AAAS;;AAClF;;AAAwB;;AAAiE;;AACzF;;AAAwB;;AAAoJ;;AAC5K;;AAAwB;;AAAsM;;AAC9N;;AAAwB;;AAA8I;;AAEtK;;AACA;;AAAsC;;AAAQ;;AAA8B;;AAAS;;AACrF;;AAAwB;;AAAgsC;;AACxtC;;AAAwB;;AAA6rB;;AACrtB;;AAAwB;;AAAia;;AAEzb;;AACA;;AAAsC;;AAAQ;;AAAsB;;AAAS;;AAC7E;;AAAwB;;AAAqW;;AAC7X;;AAAwB;;AAAirB;;AAEzsB;;AACA;;AAAsC;;AAAQ;;AAAc;;AAAS;;AACrE;;AAAwB;;AAAmc;;AAC3d;;AAAwB;;AAAk1B;;AAE12B;;AACA;;AAAsC;;AAAQ;;AAA+B;;AAAS;;AACtF;;AAAwB;;AAAyN;;AACjP;;AAAwB;;AAAkgB;;AAE1hB;;AACA;;AAAsC;;AAAQ;;AAAkB;;AAAS;;AACzE;;AAAwB;;AAA0lC;;AAElnC;;AACA;;AAAsC;;AAAQ;;AAAkC;;AAAS;;AACzF;;AAAwB;;AAAy4B;;AACj6B;;AAAwB;;AAAwW;;AAEhY;;AACA;;AAAsC;;AAAQ;;AAAsB;;AAAS;;AAC7E;;AAAwB;;AAA2W;;AAEnY;;AACA;;AAAsC;;AAAQ;;AAAqC;;AAAS;;AAC5F;;AAAwB;;AAAoZ;;AAE5a;;AACA;;AAAsC;;AAAQ;;AAAmC;;AAAS;;AAC1F;;AAAwB;;AAAkO;;AAE9P;;AAEA;;AACI;;AAA0E;;AAAM;;AACpF;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;;;;;;;;;;;AAxJwD;;AAAA;;AAGC;;AAAA;;AAOS;;AAAA;;AAElC;;AAAA;;AAM+E;;AAAA;;AACrF;;AAAA;;AAO2F;;AAAA;;AAC3F;;AAAA;;AAS6I;;AAAA;;AAE7I;;AAAA;;AAOkG;;AAAA;;AAClG;;AAAA;;AAOiG;;AAAA;;AACjG;;AAAA;;AAO2H;;AAAA;;AAC3H;;AAAA;;AAQ2E;;AAAA;;AAO9E;;AAAA;;;;QDtGVwX,iB;AAYT,iCACY9a,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIYqM,kBAJZ,EAKYwO,WALZ,EAKoC;AAAA;;AAJxB,aAAA/a,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAqM,kBAAA,GAAAA,kBAAA;AACA,aAAAwO,WAAA,GAAAA,WAAA;AAER,aAAK/P,KAAL,GAAa,YAAb;AACA,aAAKrK,KAAL,GAAa,IAAb;AACA,aAAKkE,OAAL,GAAe,IAAI,uDAAJ,CAAY,EAAZ,EAAe,EAAf,EAAkB,EAAlB,EAAqB,EAArB,EAAwB,EAAxB,EAA2B,EAA3B,EAA8B,EAA9B,EAAiC,EAAjC,EAAoC,EAApC,EAAuC,EAAvC,EAA0C,EAA1C,EAA6C,EAA7C,EAAgD,GAAhD,EAAoD,EAApD,EAAuD,EAAvD,CAAf;AACA,aAAK0F,MAAL,GAAc,CAAd;AACA,aAAKyQ,KAAL,GAAa,IAAb;AACH;;;;mCAEO;AACJ,eAAKla,QAAL;AACA,eAAK0L,iBAAL;AACA,eAAKyO,gBAAL;AACA,eAAKhK,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;mCAEO;AACJ,eAAKqC,SAAL,GAAiBpS,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAjB;;AAEA,cAAG,KAAKiS,SAAR,EAAkB;AACd,gBAAG,KAAKA,SAAL,CAAe,CAAf,KAAqB,CAAxB,EAA0B;AACtBlS,0BAAY,CAAC6C,OAAb,CAAqB,MAArB,EAA6B,MAA7B;AACH;;AAED,gBAAG,KAAKqP,SAAL,CAAe,CAAf,KAAqB,CAArB,IAA0B,KAAKA,SAAL,CAAe,CAAf,KAAqB,CAAlD,EAAoD;AAChD,mBAAKyH,KAAL,GAAa,iDAAb;AACH;AACJ;AACJ;;;uCAEW;AAAA;;AACR,eAAKD,WAAL,CAAiBG,MAAjB,CAAwB,4EAAsBnL,WAA9C,EAA2D/Q,IAA3D,CAAgE,UAACmc,IAAD,EAAU;AACtE,oBAAI,CAACtW,OAAL,CAAa8I,MAAb,GAAsBwN,IAAI,CAACC,KAA3B;AACA,oBAAI,CAACvW,OAAL,CAAa2F,MAAb,GAAsB2Q,IAAI,CAACE,SAA3B;AACA,oBAAI,CAACxW,OAAL,CAAayW,QAAb,GAAwBH,IAAI,CAACI,QAA7B;AACA,oBAAI,CAAC1W,OAAL,CAAa2W,UAAb,GAA0B,UAA1B;AACA,oBAAI,CAACjR,MAAL,GAAc,CAAd;AACH,WAND;AAOH;;;2CAEe;AAAA;;AACZ,eAAKwQ,WAAL,CAAiBG,MAAjB,CAAwB,0EAAoBnL,WAA5C,EAAyD/Q,IAAzD,CAA8D,UAACmc,IAAD,EAAU;AACpE,oBAAI,CAACtW,OAAL,CAAa8I,MAAb,GAAsBwN,IAAI,CAACC,KAA3B;AACA,oBAAI,CAACvW,OAAL,CAAa2F,MAAb,GAAsB2Q,IAAI,CAACE,SAA3B;AACA,oBAAI,CAACxW,OAAL,CAAayW,QAAb,GAAwBH,IAAI,CAACI,QAA7B;AACA,oBAAI,CAAC1W,OAAL,CAAa2W,UAAb,GAA0B,QAA1B;AACA,oBAAI,CAACjR,MAAL,GAAc,CAAd;AACH,WAND;AAOH;;;0CAEc;AACX,eAAK1F,OAAL,CAAa2W,UAAb,GAA0B,OAA1B;AACA,eAAKjR,MAAL,GAAc,CAAd;AACH;;;2CAGe;AACZ,cAAItF,SAAS,GAAG9D,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAhB;;AAEA,cAAG,CAAC2D,SAAJ,EAAc;AACV,iBAAKA,SAAL,GAAiB,CAAjB;AACH;;AAED,cAAGA,SAAS,IAAI,WAAhB,EAA4B;AACxB,iBAAKA,SAAL,GAAiBA,SAAjB;AACH,WAFD,MAEO;AACH,iBAAKA,SAAL,GAAiB,CAAjB;AACH;AACJ;;;4CAEgB;AAAA;;AACb,eAAKsH,kBAAL,CAAwBC,iBAAxB,GAA4CxL,SAA5C,CACI,UAAAU,QAAQ,EAAI;AACR,oBAAI,CAAC+K,UAAL,GAAkB/K,QAAQ,CAAC+K,UAA3B;;AACA,oBAAI,CAACA,UAAL,CAAgBrF,MAAhB,CAAuB,CAAvB,EAA0B,CAA1B;AACH,WAJL,EAKI,UAAAzG,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;AACH,WAPL;AASH;;;iCAEQsB,I,EAAI;AAAA;;AACT,cAAG,KAAKgD,SAAL,IAAkB,CAArB,EAAuB;AACnBhD,gBAAI,CAACO,KAAL;AACA,iBAAKR,MAAL,GAAc,OAAd;AACA,iBAAKrB,KAAL,GAAa,sCAAb;AACA;AACH;;AAED,eAAKqB,MAAL,GAAc,IAAd;AACA,eAAKrB,KAAL,GAAa,IAAb;;AACA,cAAGsB,IAAI,CAACwZ,WAAL,CAAiB,CAAjB,EAAoBC,KAApB,IAA6BzZ,IAAI,CAACwZ,WAAL,CAAiB,CAAjB,EAAoBC,KAApD,EAA0D;AACtD,iBAAK1Z,MAAL,GAAc,OAAd;AACA,iBAAKrB,KAAL,GAAa,gCAAb;AACA;AACH,WAJD,MAIO,IAAG,KAAKkE,OAAL,CAAamJ,QAAb,CAAsBnD,MAAtB,GAA+B,EAAlC,EAAqC;AACxChJ,mBAAO,CAACC,GAAR,CAAY,KAAK+C,OAAL,CAAamJ,QAAzB;AACA,iBAAKhM,MAAL,GAAc,OAAd;AACA,iBAAKrB,KAAL,GAAa,oCAAb;AACA;AACH,WALM,MAKA,IAAG,KAAKkE,OAAL,CAAakR,QAAb,CAAsBlL,MAAtB,GAA+B,CAAlC,EAAoC;AACvChJ,mBAAO,CAACC,GAAR,CAAY,KAAK+C,OAAL,CAAakR,QAAzB;AACA,iBAAK/T,MAAL,GAAc,OAAd;AACA,iBAAKrB,KAAL,GAAa,6CAAb;AACA;AACH,WALM,MAKA;AACH,iBAAKT,eAAL,CAAqBmQ,QAArB,CAA8B,KAAKxL,OAAnC,EAA4C7D,SAA5C,CACI,UAAAU,QAAQ,EAAI;AACR,kBAAGA,QAAQ,CAACmD,OAAT,IAAoBnD,QAAQ,CAACmD,OAAT,CAAiBjD,GAAxC,EAA4C;AACxC,wBAAI,CAACqD,SAAL,GAAiB,QAAI,CAACA,SAAL,GAAiB,CAAlC;AACA5D,4BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,QAAI,CAACc,SAApB,CAAlC;AAEAhD,oBAAI,CAACO,KAAL;;AACA,wBAAI,CAACvC,OAAL,CAAa6R,QAAb,CAAsB,CAAC,eAAD,EAAkBpQ,QAAQ,CAACmD,OAAT,CAAiBmJ,QAAnC,CAAtB;;AAEA,wBAAI,CAAC9N,eAAL,CAAqByb,kBAArB,CAAwCja,QAAQ,CAACmD,OAAT,CAAiBmJ,QAAzD,EAAmEhN,SAAnE,CACI,UAAAU,QAAQ,EAAI;AACR,sBAAGA,QAAH,EAAY,CACX;AACJ,iBAJL,EAKI,UAAAf,KAAK,EAAI;AACL,sBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,yBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,sBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,4BAAI,CAACC,MAAL,GAAc,OAAd;AACA,4BAAI,CAACrB,KAAL,GAAa,sBAAb;AACH;AACJ,iBAbL;AAgBH,eAvBD,MAuBO;AACH,wBAAI,CAACqB,MAAL,GAAc,OAAd;AACAH,uBAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,wBAAI,CAACf,KAAL,GAAae,QAAQ,CAACiB,OAAtB;AACH;AACJ,aA9BL,EA+BI,UAAAhC,KAAK,EAAI;AACL,sBAAI,CAACqB,MAAL,GAAc,OAAd;AACA,kBAAID,YAAY,GAAQpB,KAAxB;;AAEA,kBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,oBAAGA,YAAY,CAACpB,KAAb,CAAmBgC,OAAtB,EAA8B;AAC1B,0BAAI,CAAChC,KAAL,GAAaoB,YAAY,CAACpB,KAAb,CAAmBgC,OAAhC;AACH,iBAFD,MAEO;AACH,0BAAI,CAAChC,KAAL,GAAa,sBAAb;AACH;AACJ;AACJ,aA1CL;AA4CH;AACJ;;;;;;;uBA/KQma,iB,EAAiB,+H,EAAA,uH,EAAA,yI,EAAA,8I,EAAA,kI;AAAA,K;;;YAAjBA,iB;AAAiB,+B;AAAA,kFAHf,CAAC,wEAAD,EAAiB,6EAAjB,CAGe,E;AAHoB,c;AAAA,a;AAAA,qiH;AAAA;AAAA;ACflD;;AAmCA;;;;AAnCuC;;AAmCA;;AAAA;;;;;;;;;sEDjB1BA,iB,EAAiB;cAN7B,uDAM6B;eANnB;AACP1X,kBAAQ,EAAE,UADH;AAEPC,qBAAW,EAAE,2BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,6EAAjB;AAHJ,S;AAMmB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AElB9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACGY;;AAA0C;AAAA;;AAAA;;AAAA;AAAA;;AACtC;;AACJ;;;;;;AAEA;;AACI;;AACJ;;;;;;AAMA;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;AAGP;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;AAGP;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;;;;;AAGP;;AACI;;AACI;;AACA;;AAAqC;;AAAS;;AAClD;;AACJ;;;;;;AAJ0B;;AAAA;;AAEmB;;AAAA;;;;;;AA5BjD;;AACI;;AAIA;;AAIA;;AACI;;AACJ;;AAEA;;AAIA;;AAIA;;AAIA;;AAMJ;;;;;;AA9BsB;;AAAA;;AAIU;;AAAA;;AAKnB;;AAAA;;AAGgC;;AAAA;;AAII;;AAAA;;AAIC;;AAAA;;AAIzC;;AAAA;;;;;;AA2Bb;;AACI;;AACJ;;;;;;AASY;;AAAqE;;AAA2D;;;;;;AAA3D;;AAAA;;;;;;AACrE;;AAAoE;;AAAW;;;;;;AAAX;;AAAA;;;;;;AANxE;;AACI;;AACA;;AACI;;AACJ;;AACA;;AACA;;AACJ;;;;;;AAFO;;AAAA;;AACA;;AAAA;;;;;;AASC;;AAA0D;;AAA2D;;;;;;AAA3D;;AAAA;;;;;;AAL9D;;AACI;;AACA;;AACI;;AACJ;;AACA;;AACJ;;;;;;AADO;;AAAA;;;;;;AAIH;;AAA0D;;AAA2D;;;;;;AAA3D;;AAAA;;;;;;AAD9D;;AACI;;AACJ;;;;;;AADO;;AAAA;;;;;;AAVX;;AACI;;AAQA;;AAGJ;;;;;;AAX0C;;AAAA;;AAQA;;AAAA;;;;;;AAelC;;AAAoF;;AAAO;;;;;;AAInF;;AAAkG;;AAAY;;;;;;AAC9G;;AAAkG;;AAAQ;;AAAQ;;AAAyB;;AAAU;;AAAK;;;;;;AAAxC;;AAAA;;;;;;AAClH;;AAAiG;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AACjG;;AAAsG;;AAA2D;;;;;;AAA3D;;AAAA;;;;;;AACtG;;AAAiG;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AACjG;;AAAsG;;AAAQ;;AAAQ;;AAAyB;;AAAU;;AAA8C;;;;;;AAAjF;;AAAA;;AAAmC;;AAAA;;;;;;AAN7J;;AACI;;AACA;;AACA;;AACA;;AACA;;AACA;;AACJ;;;;;;AANU;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAPd;;AACI;;AAQJ;;;;;;AARS;;AAAA;;;;;;AAsBjB;;;;;;AACA;;;;;;AAFJ;;AACI;;AACA;;AACJ;;;;;;AAFO;;AAAA;;AACA;;AAAA;;;;;;AAGP;;AACI;;AACJ;;;;;;AAEA;;;;;;AApEJ;;AACI;;AACI;;AASA;;AAcA;;AACI;;AACA;;AACI;;AACJ;;AACA;;AAA4C;;AAA8D;;AAC9G;;AAEA;;AACI;;AACI;;AAEA;;AAUJ;;AACJ;;AAQJ;;AAGA;;AAKA;;AAIA;;AAEJ;;;;;;AApE8C;;AAAA;;AASjC;;AAAA;;AAmB2C;;AAAA;;AAKlC;;AAAA;;AAED;;AAAA;;AAsBZ;;AAAA;;AAKA;;AAAA;;AAIF;;AAAA;;;;;;AAkB6B;;AAA2C;;AAAyC;;;;;;AAAzC;;AAAA;;;;;;AAC3C;;AAA0C;;AAAa;;;;AAAb;;AAAA;;;;;;AAIlD;;;;;;;;AAA8G;;;;;;AAC9G;;;;;;AAA+G;;;;;;AAXvH;;AACI;;AACI;;AACI;;AACI;;AACA;;AACA;;AACJ;;AACJ;;AAEA;;AACA;;AACA;;AACI;;AAA8D;;AAAmB;;AACjF;;AAAqE;;AAAyB;;AAClG;;AACJ;;AACJ;;;;;;AAZsB;;AAAA;;AACA;;AAAA;;AAIT;;AAAA;;AACA;;AAAA;;AAE6D;;AAAA;;AACO;;AAAA;;;;;;;;;;AAfrF;;AACI;;AAkBJ;;;;;;;;AAnB8D;;AACnC;;AAAA;;;;;;AAyBP;;AAA2C;;AAAyC;;;;;;AAAzC;;AAAA;;;;;;AAC3C;;AAA0C;;AAAa;;;;AAAb;;AAAA;;;;;;AAIlD;;;;;;;;AAA8G;;;;;;AAC9G;;;;;;AAA+G;;;;;;AAXvH;;AACI;;AACI;;AACI;;AACI;;AACA;;AACA;;AACJ;;AACJ;;AAEA;;AACA;;AACA;;AACI;;AAA8D;;AAAmB;;AACjF;;AAAqE;;AAAyB;;AAClG;;AACJ;;AACJ;;;;;;AAZsB;;AAAA;;AACA;;AAAA;;AAIT;;AAAA;;AACA;;AAAA;;AAE6D;;AAAA;;AACO;;AAAA;;;;;;AAfrF;;AACI;;AAkBJ;;;;;;;;AAlB2B;;AAAA;;;;;;AAyBP;;AAA2C;;AAAyC;;;;;;AAAzC;;AAAA;;;;;;AAC3C;;AAA0C;;AAAa;;;;AAAb;;AAAA;;;;;;AAIlD;;;;;;;;AAA8G;;;;;;AAC9G;;;;;;AAA+G;;;;;;AAXvH;;AACI;;AACI;;AACI;;AACI;;AACA;;AACA;;AACJ;;AACJ;;AAEA;;AACA;;AACA;;AACI;;AAA8D;;AAAmB;;AACjF;;AAAqE;;AAAyB;;AAClG;;AACJ;;AACJ;;;;;;AAZsB;;AAAA;;AACA;;AAAA;;AAIT;;AAAA;;AACA;;AAAA;;AAE6D;;AAAA;;AACO;;AAAA;;;;;;AAfrF;;AACI;;AAkBJ;;;;;;;;AAlB2B;;AAAA;;;;;;AA1C/B;;AACI;;AAoBA;;AAoBA;;AAoBJ;;;;;;AA5DO;;AAAA;;AAoBA;;AAAA;;AAoBA;;AAAA;;;;;;;;;;;;;;AA/Cf;;AACI;;AACI;;AAAoB;;AAAkB;;AAC1C;;AAEA;;AACI;;AA8DJ;;AACA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAA6E;;AACzG;;AACA;;AACI;;AAAiH;;AAAY;;AAC7H;;AAA+G;;AAAc;;AACjI;;AACJ;;AACA;;AACJ;;AACJ;;;;;;;;AAhF4B;;AAAA;;AAIf;;AAAA;;AAsEuF;;AAAA;;AACC;;AAAA;;;;;;AAkBrG;;AACI;;AACI;;AACJ;;AACJ;;;;;;;;AApGJ;;AAAgH;AAAA;;AAAA;;AAAA;AAAA;;AAC5G;;AAmFA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAqC;;AACjE;;AACA;;AACI;;AAA0F;;AAAO;;AACrG;;AACJ;;AACJ;;AACJ;;AACA;;AAKA;;AACR;;;;;;AAtGyD,8FAA4B,wBAA5B,EAA4B,EAA5B;;AAC5C;;AAAA;;AA+FA;;AAAA;;;;QD9MAsY,oB;AAkBT,oCACY5b,MADZ,EAEYC,OAFZ,EAGY+R,gBAHZ,EAIY7R,mBAJZ,EAKYD,eALZ,EAMYqM,kBANZ,EAOYS,aAPZ,EAQY5M,SARZ,EAQ+B;AAAA;;AAPnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAA+R,gBAAA,GAAAA,gBAAA;AACA,aAAA7R,mBAAA,GAAAA,mBAAA;AACA,aAAAD,eAAA,GAAAA,eAAA;AACA,aAAAqM,kBAAA,GAAAA,kBAAA;AACA,aAAAS,aAAA,GAAAA,aAAA;AACA,aAAA5M,SAAA,GAAAA,SAAA;AAER,aAAKC,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAKiS,SAAL,GAAiB,EAAjB;AACA,aAAK3O,IAAL,GAAY,CAAZ;AACA,aAAK3B,MAAL,GAAc,IAAd;AACA,aAAK4B,OAAL,GAAe,IAAf;AACA,aAAKpD,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKH,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACF;;;;mCAGM;AACJ,eAAKO,QAAL;AACA,eAAKmQ,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;mCAEO;AAAA;;AACJ,eAAKlR,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,IAAD,CAAT,EAAgB;AACZ,sBAAI,CAACxB,EAAL,GAAUwB,MAAM,CAAC,IAAD,CAAhB;;AACA,sBAAI,CAACE,kBAAL,CAAwB,QAAI,CAAC1B,EAA7B;;AACA,sBAAI,CAACsc,gBAAL,CAAsB,QAAI,CAACtc,EAA3B,EAA+B,QAAI,CAACoE,IAApC;AACH;AACJ,WAND;AAOH;;;wCAEY;AACT,cAAIkE,MAAM,GAAG1G,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAAb;AACA,cAAI+C,KAAK,GAAGlD,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAZ;;AAEA,cAAG,CAACuG,MAAJ,EAAW;AACP,iBAAKA,MAAL,GAAc,KAAd;AACA,iBAAKxD,KAAL,GAAa,IAAb;AACH;;AAED,cAAGwD,MAAM,IAAI,WAAV,IAAyBA,MAAM,IAAI,IAAtC,EAA2C;AACvC,iBAAKA,MAAL,GAAc,IAAd;AACA,iBAAKxD,KAAL,GAAaA,KAAb;;AACA,gBAAGwD,MAAM,CAAClG,WAAP,IAAsB,KAAKA,WAAL,CAAiBC,GAA1C,EAA8C;AAC1CP,0BAAY,CAACE,UAAb,CAAwB,QAAxB;AACAF,0BAAY,CAACE,UAAb,CAAwB,OAAxB;AACA,mBAAKsG,MAAL,GAAc,KAAd;AACH;AACJ;AACJ;;;sCAEa;AACV;AACA,eAAKzH,SAAL,CAAeoB,IAAf;AACH;;;uCAEW;AACRH,sBAAY,CAACE,UAAb,CAAwB,QAAxB;AACAF,sBAAY,CAACE,UAAb,CAAwB,OAAxB;AACA,eAAKsG,MAAL,GAAc,KAAd;;AACA,eAAKzH,SAAL,CAAeoB,IAAf;AACH;;;mCAEO;AACJ,eAAKmC,IAAL,IAAa,CAAb;;AAEA,cAAG,KAAKA,IAAL,IAAa,KAAKM,KAAL,GAAW,CAA3B,EAA6B;AACzB,iBAAKL,OAAL,GAAe,KAAf;AACH,WAFD,MAEO;AACH,iBAAKA,OAAL,GAAe,IAAf;AACA,iBAAKiY,gBAAL,CAAsB,KAAKtc,EAA3B,EAA+B,KAAKoE,IAApC,EAA0C,IAA1C;AACH;AACJ;;;2CAEkBpE,E,EAAE;AAAA;;AACjB,eAAKY,mBAAL,CAAyBc,kBAAzB,CAA4C1B,EAA5C,EAAgDyB,SAAhD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACC,WAAZ,EAAwB;AACpB,sBAAI,CAACA,WAAL,GAAmBD,QAAQ,CAACC,WAA5B;;AACA,sBAAI,CAACma,cAAL;;AACA,sBAAI,CAACpU,aAAL;;AACA,sBAAI,CAACqU,sBAAL,CAA4B,QAAI,CAACpa,WAAL,CAAiBC,GAA7C;AACH;AACJ,WARL,EASI,UAAAjB,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAhBL;AAkBH;;;yCAEa;AAAA;;AACV,eAAK7B,mBAAL,CAAyB2b,cAAzB,CAAwC,KAAKxb,KAA7C,EAAoD,KAAKqB,WAAL,CAAiBC,GAArE,EAA0EZ,SAA1E,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,kBAAGA,QAAQ,CAACsa,OAAT,CAAiB,CAAjB,CAAH,EAAuB;AACnB,wBAAI,CAACra,WAAL,CAAiBqa,OAAjB,GAA2B,EAA3B;AACA,oBAAIC,GAAG,GAAGva,QAAQ,CAACua,GAAnB;;AAEA,oBAAGva,QAAQ,CAACsa,OAAT,CAAiB,CAAjB,KAAuBta,QAAQ,CAACsa,OAAT,CAAiB,CAAjB,EAAoBE,QAApB,CAA6BD,GAA7B,CAA1B,EAA4D;AACxD,sBAAIE,eAAe,GAAGza,QAAQ,CAACsa,OAAT,CAAiB,CAAjB,EAAoBE,QAApB,CAA6BD,GAA7B,CAAtB;AACA,sBAAIG,aAAa,GAAG1a,QAAQ,CAACsa,OAAT,CAAiB,CAAjB,EAAoBK,MAApB,CAA2BJ,GAA3B,CAApB;AAEA,sBAAIK,UAAU,GAAG,KAAjB;AACA,sBAAIC,QAAQ,GAAG,KAAf;AACA,sBAAIC,aAAa,GAAG,KAApB;AACA,sBAAIC,WAAW,GAAG,KAAlB;;AAEA,sBAAGN,eAAe,IAAI,EAAtB,EAAyB;AACrBG,8BAAU,GAAG,KAAb;AACH;;AACD,sBAAGH,eAAe,CAACO,QAAhB,GAA2B7R,MAA3B,IAAoC,CAAvC,EAAyC;AACrC2R,iCAAa,GAAG,KAAhB;AACAL,mCAAe,GAAGA,eAAe,CAACO,QAAhB,GAA2BC,KAA3B,CAAiC,CAAjC,EAAoC,CAAE,CAAtC,CAAlB;AACH;;AACD,sBAAGR,eAAe,GAAG,EAArB,EAAwB;AACpBA,mCAAe,GAAGA,eAAe,GAAG,EAApC;AACH;;AAED,sBAAGC,aAAa,IAAI,EAApB,EAAuB;AACnBG,4BAAQ,GAAG,KAAX;AACH;;AACD,sBAAGH,aAAa,CAACM,QAAd,GAAyB7R,MAAzB,IAAkC,CAArC,EAAuC;AACnC4R,+BAAW,GAAG,KAAd;AACAL,iCAAa,GAAGA,aAAa,CAACM,QAAd,GAAyBC,KAAzB,CAA+B,CAA/B,EAAkC,CAAE,CAApC,CAAhB;AACH;;AACD,sBAAGP,aAAa,GAAG,EAAnB,EAAsB;AAClBA,iCAAa,GAAGA,aAAa,GAAG,EAAhC;AACH;;AAED,0BAAI,CAACza,WAAL,CAAiBqa,OAAjB,CAAyB,CAAzB,IAA8BG,eAAe,GAAGK,aAAlB,GAAkCF,UAAhE;AACA,0BAAI,CAAC3a,WAAL,CAAiBqa,OAAjB,CAAyB,CAAzB,IAA8BI,aAAa,GAAGK,WAAhB,GAA8BF,QAA5D;AACA,0BAAI,CAACK,IAAL,GAAY,IAAZ;;AAEA,sBAAGlb,QAAQ,CAACsa,OAAT,CAAiB,CAAjB,KAAuBta,QAAQ,CAACsa,OAAT,CAAiB,CAAjB,EAAoBE,QAApB,CAA6BD,GAA7B,CAA1B,EAA4D;AACxD,wBAAIY,gBAAgB,GAAGnb,QAAQ,CAACsa,OAAT,CAAiB,CAAjB,EAAoBE,QAApB,CAA6BD,GAA7B,CAAvB;AACA,wBAAIa,cAAc,GAAGpb,QAAQ,CAACsa,OAAT,CAAiB,CAAjB,EAAoBK,MAApB,CAA2BJ,GAA3B,CAArB;AAEA,wBAAIc,WAAW,GAAG,KAAlB;AACA,wBAAIC,SAAS,GAAG,KAAhB;AACA,wBAAIC,cAAc,GAAG,KAArB;AACA,wBAAIC,YAAY,GAAG,KAAnB;;AAEA,wBAAGL,gBAAgB,IAAI,EAAvB,EAA0B;AACtBE,iCAAW,GAAG,KAAd;AACH;;AACD,wBAAGF,gBAAgB,CAACH,QAAjB,GAA4B7R,MAA5B,IAAqC,CAAxC,EAA0C;AACtCoS,oCAAc,GAAG,KAAjB;AACAJ,sCAAgB,GAAGA,gBAAgB,CAACH,QAAjB,GAA4BC,KAA5B,CAAkC,CAAlC,EAAqC,CAAE,CAAvC,CAAnB;AACH;;AACD,wBAAGE,gBAAgB,GAAG,EAAtB,EAAyB;AACrBA,sCAAgB,GAAGA,gBAAgB,GAAG,EAAtC;AACH;;AAED,wBAAGC,cAAc,IAAI,EAArB,EAAwB;AACpBE,+BAAS,GAAG,KAAZ;AACH;;AACD,wBAAGF,cAAc,CAACJ,QAAf,GAA0B7R,MAA1B,IAAmC,CAAtC,EAAwC;AACpCqS,kCAAY,GAAG,KAAf;AACAJ,oCAAc,GAAGA,cAAc,CAACJ,QAAf,GAA0BC,KAA1B,CAAgC,CAAhC,EAAmC,CAAE,CAArC,CAAjB;AACH;;AACD,wBAAGG,cAAc,GAAG,EAApB,EAAuB;AACnBA,oCAAc,GAAGA,cAAc,GAAG,EAAlC;AACH;;AAED,4BAAI,CAACnb,WAAL,CAAiBqa,OAAjB,CAAyB,CAAzB,IAA8Ba,gBAAgB,GAAGI,cAAnB,GAAoCF,WAAlE;AACA,4BAAI,CAACpb,WAAL,CAAiBqa,OAAjB,CAAyB,CAAzB,IAA8Bc,cAAc,GAAGI,YAAjB,GAAgCF,SAA9D;AACH;AACJ,iBArED,MAqEO;AACH,sBAAIG,UAAU,GAAG,CAAC,UAAD,EAAa,OAAb,EAAsB,QAAtB,EAAgC,WAAhC,EAA6C,QAA7C,EAAuD,SAAvD,EAAkE,SAAlE,CAAjB;AACA,0BAAI,CAACC,OAAL,GAAe,iBAAiBD,UAAU,CAAClB,GAAD,CAA1C;AACA,0BAAI,CAACW,IAAL,GAAY,IAAZ;AACH;AACJ,eA9ED,MA8EO;AACH,wBAAI,CAACA,IAAL,GAAY,IAAZ;AACH;AACJ;AACJ,WArFL,EAsFI,UAAAjc,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,mBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,gBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WA7FL;AA+FH;;;+CAEsB6B,a,EAAa;AAChC,eAAKmJ,aAAL,CAAmB+O,sBAAnB,CAA0ClY,aAA1C,EAAyD7C,SAAzD;AACH;;;yCAEgBzB,E,EAAIoE,I,EAAoB;AAAA;;AAAA,cAAdS,MAAc,uEAAL,KAAK;;AACrC,eAAKjE,mBAAL,CAAyB0b,gBAAzB,CAA0Ctc,EAA1C,EAA8CoE,IAA9C,EAAoD,CAApD,EAAuD3C,SAAvD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAAC2b,SAAZ,EAAsB;AAClB,sBAAI,CAACpZ,KAAL,GAAavC,QAAQ,CAACuC,KAAtB;AAEAvC,sBAAQ,CAAC2b,SAAT,CAAmBrW,OAAnB,CAA2B,UAAAC,OAAO,EAAI;AAClC,wBAAI,CAACqW,gBAAL,CAAsBrW,OAAO,CAACrF,GAA9B,EAAmC,CAAnC;AACH,eAFD;;AAIA,kBAAG,CAACwC,MAAJ,EAAW;AACP,wBAAI,CAACiZ,SAAL,GAAiB3b,QAAQ,CAAC2b,SAA1B;AACA,wBAAI,CAACzZ,OAAL,GAAe,KAAf;AACH,eAHD,MAGO;AACH,oBAAIU,MAAM,GAAG,QAAI,CAAC+Y,SAAlB;AACA,oBAAI9Y,MAAM,GAAG7C,QAAQ,CAAC2b,SAAtB;AACA,wBAAI,CAACA,SAAL,GAAiB/Y,MAAM,CAACE,MAAP,CAAcD,MAAd,CAAjB;AACA,wBAAI,CAACX,OAAL,GAAe,KAAf;AACH;AACJ;AACJ,WAnBL,EAoBI,UAAAjD,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WA3BL;AA6BH;;;yCAEgBub,S,EAAW5Z,I,EAAI;AAAA;;AAC5B,eAAKkR,QAAL,GAAgB,SAAS0I,SAAT,GAAqB,IAArC;;AACA,eAAKvL,gBAAL,CAAsBsL,gBAAtB,CAAuC,KAAKzI,QAA5C,EAAsDlR,IAAtD,EAA4D3C,SAA5D,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAAC4Q,SAAZ,EAAsB;AAClB5Q,sBAAQ,CAAC4Q,SAAT,CAAmBtL,OAAnB,CAA2B,UAAAC,OAAO,EAAI;AAClC,wBAAI,CAACqL,SAAL,CAAenQ,IAAf,CAAoB8E,OAApB;AACH,eAFD;AAGH;AACJ,WAPL,EAQI,UAAAtG,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAfL;AAiBH;;;;;;;uBApRQ4Z,oB,EAAoB,+H,EAAA,uH,EAAA,2I,EAAA,iJ,EAAA,yI,EAAA,8I,EAAA,qI,EAAA,yH;AAAA,K;;;YAApBA,oB;AAAoB,kC;AAAA,kFAHlB,CAAC,0EAAD,EAAkB,gFAAlB,EAAsC,wEAAtC,EAAsD,6EAAtD,EAAyE,oEAAzE,CAGkB,E;AAHoE,e;AAAA,a;AAAA,uuJ;AAAA;AAAA;ACjBrG;;AACI;;AACI;;AAgCJ;;AAMA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAA+C;;AAC3E;;AACA;;AACI;;AAAoF;AAAA,mBAAS,IAAA4B,YAAA,EAAT;AAAuB,WAAvB;;AAAyB;;AAAK;;AAClH;;AAAkH;;AAAgB;;AACtI;;AACJ;;AACA;;AACJ;;AAEA;;AAIA;;AAwEA;;AAlIJ;;;;AAE+D;;AAAA;;AA8CsC;;AAAA;;AAMjE;;AAAA;;AAI3B;;AAAA;;AAwEA;;AAAA;;;;;;;;;sED9GI5B,oB,EAAoB;cANhC,uDAMgC;eANtB;AACPxY,kBAAQ,EAAE,aADH;AAEPC,qBAAW,EAAE,8BAFN;AAGPC,mBAAS,EAAE,CAAC,0EAAD,EAAkB,gFAAlB,EAAsC,wEAAtC,EAAsD,6EAAtD,EAAyE,oEAAzE;AAHJ,S;AAMsB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEpBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACQY;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAUI;;AACI;;AACJ;;;;;;;;QDTPma,qB;AAOT,qCACYzd,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAG2C;AAAA;;AAF/B,aAAAF,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AAER,aAAKyH,cAAL,GAAsB,IAAI,qEAAJ,CAAmB,IAAnB,EAAwB,IAAxB,EAA6B,EAA7B,EAAgC,EAAhC,EAAmC,IAAnC,EAAwC,EAAxC,EAA2C,IAA3C,EAAiD,IAAjD,CAAtB;AACH;;;;mCAEO;AACJ,eAAK7G,QAAL;AACH;;;mCAEO;AAAA;;AACJ,eAAKd,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,KAAD,CAAT,EAAiB;AACb,sBAAI,CAAC4H,GAAL,GAAW5H,MAAM,CAAC,KAAD,CAAjB;AACH;AACJ,WAJD;AAKH;;;0CAEiBkB,I,EAAI;AAAA;;AAClB,cAAG,KAAK0F,cAAL,CAAoB/E,IAApB,CAAyBiI,MAAzB,GAAkC,CAArC,EAAuC;AACnC,iBAAK7I,MAAL,GAAc,OAAd;AACA,iBAAKrB,KAAL,GAAa,iDAAb;AACA;AACH,WAJD,MAIO;AACH,iBAAKqB,MAAL,GAAc,IAAd;;AACJ,iBAAK9B,eAAL,CAAqBwd,iBAArB,CAAuC,KAAK/U,GAA5C,EAAiD,KAAKhB,cAAL,CAAoB/E,IAArE,EAA2E5B,SAA3E,CACI,UAAAU,QAAQ,EAAI;AACR,kBAAGA,QAAQ,CAACM,MAAT,IAAmB,UAAtB,EAAiC;AAC7BC,oBAAI,CAACO,KAAL;;AACA,wBAAI,CAACvC,OAAL,CAAa6R,QAAb,CAAsB,CAAC,QAAD,CAAtB;AACH,eAHD,MAGO;AACH,wBAAI,CAAC9P,MAAL,GAAc,OAAd;AACA,wBAAI,CAACrB,KAAL,GAAa,yBAAb;AACH;AACJ,aATL,EAUI,UAAAA,KAAK,EAAI;AACL,kBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,qBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,kBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,wBAAI,CAACC,MAAL,GAAc,OAAd;AACA,wBAAI,CAACrB,KAAL,GAAa,sBAAb;AACH;AACJ,aAlBL;AAoBC;AACJ;;;;;;;uBAvDQ8c,qB,EAAqB,+H,EAAA,uH,EAAA,yI;AAAA,K;;;YAArBA,qB;AAAqB,mC;AAAA,kFAHnB,CAAC,wEAAD,CAGmB,E;AAHH,e;AAAA,a;AAAA,i2B;AAAA;AAAA;;;ACT/B;;AACI;;AACA;;AACI;;AACJ;;AAEA;;AACI;;AACI;;AAIA;;AAAuB;;AAAoD;;AAAQ;;AAAO;;AAAS;;AAAqB;;AACxH;;AAAkC;;AAA+B;;AACjE;;AAAwC;AAAA;;AAAA;;AAAA,mBAAY,IAAAC,iBAAA,KAAZ;AAAmC,WAAnC;;AAEpC;;AACI;;AAAuB;;AAAsB;;AAC7C;;AAAoH;AAAA;AAAA;;AAApH;;AACA;;AAGJ;;AAEA;;AACI;;AACJ;;AACJ;;AAEA;;AAEA;;AACI;;AACI;;AAA6B;;AAC7B;;AAAgC;;AAAgC;;AACpE;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;AA/BwD;;AAAA;;AAIuC;;AAAA;;AAMyC;;AAAA;;AAC9G;;AAAA;;AAMsE;;AAAA;;AASzE;;AAAA;;;;;;;;;sEDtBVD,qB,EAAqB;cANjC,uDAMiC;eANvB;AACPra,kBAAQ,EAAE,cADH;AAEPC,qBAAW,EAAE,+BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD;AAHJ,S;AAMuB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;AEZlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;QAUaqa,gB,GAQX,0BAAoBC,kBAApB,EAA4D;AAAA;;AAAxC,WAAAA,kBAAA,GAAAA,kBAAA;AANpB,WAAAC,UAAA,GAAkC,KAAKD,kBAAL,CAAwBE,OAAxB,CAAgC,gEAAYC,OAA5C,EAC/BC,IAD+B,CAE9B,2DAAI,UAAAC,MAAM;AAAA,eAAIA,MAAM,CAACC,OAAX;AAAA,OAAV,CAF8B,EAG9B,oEAH8B,CAAlC;AAM8D,K;;;uBARnDP,gB,EAAgB,uI;AAAA,K;;;YAAhBA,gB;AAAgB,+B;AAAA,6B;AAAA,c;AAAA,a;AAAA;AAAA;;;ACV7B;;AACI;;AACJ;;;;;;;;;sEDQaA,gB,EAAgB;cAL5B,uDAK4B;eALlB;AACTva,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,2BAFJ;AAGTwM,mBAAS,EAAE,CAAC,0BAAD;AAHF,S;AAKkB,Q;;;;;;;;;;;;;;;;;;;;;;AEV7B;AAAA;;;AAAA;AAAA;AAAA;;QAAasO,K,GACT,eACWvc,GADX,EAEWiD,OAFX,EAGW2F,MAHX,EAIW3E,OAJX,EAKWqQ,YALX,EAMWzL,gBANX,EAOWzI,MAPX,EAOyB;AAAA;;AANd,WAAAJ,GAAA,GAAAA,GAAA;AACA,WAAAiD,OAAA,GAAAA,OAAA;AACA,WAAA2F,MAAA,GAAAA,MAAA;AACA,WAAA3E,OAAA,GAAAA,OAAA;AACA,WAAAqQ,YAAA,GAAAA,YAAA;AACA,WAAAzL,gBAAA,GAAAA,gBAAA;AACA,WAAAzI,MAAA,GAAAA,MAAA;AACR,K;;;;;;;;;;;;;;;;;ACTP;AAAA;;;AAAA;AAAA;AAAA;;QAAaoc,Y,GACT,sBACWvZ,OADX,EAEWlD,WAFX,EAGWoE,YAHX,EAIWiF,KAJX,EAKW3B,IALX,EAMWhJ,GANX,EAMsB;AAAA;;AALX,WAAAwE,OAAA,GAAAA,OAAA;AACA,WAAAlD,WAAA,GAAAA,WAAA;AACA,WAAAoE,YAAA,GAAAA,YAAA;AACA,WAAAiF,KAAA,GAAAA,KAAA;AACA,WAAA3B,IAAA,GAAAA,IAAA;AACA,WAAAhJ,GAAA,GAAAA,GAAA;AACR,K;;;;;;;;;;;;;;;;;ACRP;AAAA;;;AAAA;AAAA;AAAA;;QAAage,M,GACT,gBACWzc,GADX,EAEWiD,OAFX,EAGWlD,WAHX,EAIWkB,KAJX,EAKWwB,KALX,EAMW8D,QANX,EAOWiC,SAPX,EAQWpI,MARX,EASWqI,SATX,EAUWjC,KAVX,EAWWH,KAXX,CAYI;AAZJ,M;;;AACW,WAAArG,GAAA,GAAAA,GAAA;AACA,WAAAiD,OAAA,GAAAA,OAAA;AACA,WAAAlD,WAAA,GAAAA,WAAA;AACA,WAAAkB,KAAA,GAAAA,KAAA;AACA,WAAAwB,KAAA,GAAAA,KAAA;AACA,WAAA8D,QAAA,GAAAA,QAAA;AACA,WAAAiC,SAAA,GAAAA,SAAA;AACA,WAAApI,MAAA,GAAAA,MAAA;AACA,WAAAqI,SAAA,GAAAA,SAAA;AACA,WAAAjC,KAAA,GAAAA,KAAA;AACA,WAAAH,KAAA,GAAAA,KAAA;AAER,K;;;;;;;;;;;;;;;;;ACdP;AAAA;;;AAAA;AAAA;AAAA;;QAAaqW,c,GACT,wBACW1c,GADX,EAEWU,QAFX,EAGW0V,OAHX,EAIWtO,QAJX,EAKWrF,KALX,EAMWzB,IANX,EAOWuF,QAPX,EAQWoP,YARX,EAQsC;AAAA;;AAP3B,WAAA3V,GAAA,GAAAA,GAAA;AACA,WAAAU,QAAA,GAAAA,QAAA;AACA,WAAA0V,OAAA,GAAAA,OAAA;AACA,WAAAtO,QAAA,GAAAA,QAAA;AACA,WAAArF,KAAA,GAAAA,KAAA;AACA,WAAAzB,IAAA,GAAAA,IAAA;AACA,WAAAuF,QAAA,GAAAA,QAAA;AACA,WAAAoP,YAAA,GAAAA,YAAA;AACR,K;;;;;;;;;;;;;;;;;ACVP;AAAA;;;AAAA;AAAA;AAAA;;QAAagH,O,GACT,iBACW3c,GADX,EAEW4I,MAFX,EAGW8Q,QAHX,EAIW3N,MAJX,EAKWoI,QALX,EAMWyI,gBANX,EAOWxQ,QAPX,EAQW5I,MARX,EASWiR,SATX,EAUWpR,SAVX,EAWWoC,GAXX,EAYW1F,WAZX,EAaWK,MAbX,EAcW6K,OAdX,EAeW2O,UAfX,EAe6B;AAAA;;AAdlB,WAAA5Z,GAAA,GAAAA,GAAA;AACA,WAAA4I,MAAA,GAAAA,MAAA;AACA,WAAA8Q,QAAA,GAAAA,QAAA;AACA,WAAA3N,MAAA,GAAAA,MAAA;AACA,WAAAoI,QAAA,GAAAA,QAAA;AACA,WAAAyI,gBAAA,GAAAA,gBAAA;AACA,WAAAxQ,QAAA,GAAAA,QAAA;AACA,WAAA5I,MAAA,GAAAA,MAAA;AACA,WAAAiR,SAAA,GAAAA,SAAA;AACA,WAAApR,SAAA,GAAAA,SAAA;AACA,WAAAoC,GAAA,GAAAA,GAAA;AACA,WAAA1F,WAAA,GAAAA,WAAA;AACA,WAAAK,MAAA,GAAAA,MAAA;AACA,WAAA6K,OAAA,GAAAA,OAAA;AACA,WAAA2O,UAAA,GAAAA,UAAA;AACR,K;;;;;;;;;;;;;;;;;ACjBP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;;;;;ACeY;;AACI;;AAAoD;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAuC;;AAC/H;;;;;;AADwF;;AAAA;;;;;;AAExF;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAEA;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;AAIR;;AACI;;AACA;;AAAuB;;AAAqD;;AAC5E;;AAAuB;;AAAe;;AAAK;;AAAc;;AAC7D;;;;;;AAqBoB;;AAAsE;;AAAQ;;;;;;AAC9E;;AAAqE;;AAAS;;;;;;AAC9E;;AAA0E;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AAC1E;;AAAyE;;AAAsD;;;;;;AAAtD;;AAAA;;;;;;;;;;AArBzF;;AACI;;AACI;;AACI;;AACI;;AACI;;;;;;;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACJ;;AACA;;AAA6B;;AAA6B;;AAC9D;;AAEA;;AACI;;AAAwC;;AAA2B;;AACnE;;AACA;;AACA;;AACA;;AACJ;;AAEA;;AACI;;AACA;;AAA8B;;AAAoB;;AACtD;;AACJ;;AACJ;;AACJ;;;;;;;;AA7BsB;;AAAA;;AAIF;;AAAA;;AAMK;;AAAA;;AAEoB;;AAAA;;AAIW;;AAAA;;AACrC;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAK2B;;AAAA;;;;QDhDjDiD,iB;AAWT,iCACYxe,OADZ,EAEYC,eAFZ,EAGYuD,cAHZ,EAIYrD,SAJZ,EAI+B;AAAA;;AAHnB,aAAAH,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAuD,cAAA,GAAAA,cAAA;AACA,aAAArD,SAAA,GAAAA,SAAA;AAER,aAAKC,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAKC,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKC,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKiD,OAAL,GAAe,EAAf;AACH;;;;mCAEO;AACJ,eAAKgb,wBAAL;AACA,eAAKvI,mBAAL;AACA,eAAKlF,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;sCAEa;AACV,eAAK9Q,SAAL,CAAeoB,IAAf;AACH;;;mDAEuB;AAAA;;AACpB,eAAKiC,cAAL,CAAoBib,wBAApB,CAA6C,KAAKpe,KAAlD,EAAyDU,SAAzD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACRG,qBAAO,CAACC,GAAR,CAAYJ,QAAZ;AACAA,sBAAQ,CAACgC,OAAT,CAAiBsD,OAAjB,CAAyB,UAAAa,MAAM,EAAI;AAC/B,oBAAGA,MAAM,CAAClG,WAAP,CAAmBsD,SAAnB,IAAgC,QAAI,CAACzE,QAAL,CAAcyE,SAA9C,IAA2D4C,MAAM,CAAClG,WAAP,CAAmBsI,iBAAnB,IAAwC,KAAtG,EAA4G;AACxG,0BAAI,CAACvG,OAAL,CAAavB,IAAb,CAAkB0F,MAAlB;AACH;AACJ,eAJD;AAKA,sBAAI,CAACxD,KAAL,GAAa,QAAI,CAACX,OAAL,CAAamH,MAA1B;AACH;AACJ,WAXL,EAYI,UAAAlK,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,mBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,gBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAnBL;AAqBH;;;8CAEkB;AACf,cAAG,CAACwG,MAAM,CAACyC,YAAX,EAAwB;AACpB,iBAAK+L,OAAL,GAAe,KAAf;AACA,iBAAKC,KAAL,GAAa,KAAb;AACH,WAHD,MAGO;AACH,iBAAKD,OAAL,GAAe,IAAf;AACA,iBAAK7L,UAAL,GAAkBF,YAAY,CAACE,UAA/B;;AAEA,gBAAIF,YAAY,CAACE,UAAb,IAA2B,SAA/B,EAAyC;AACrC,mBAAK8L,KAAL,GAAa,KAAb;AACH,aAFD,MAEO;AACH,mBAAKA,KAAL,GAAa,IAAb;AACH;AACJ;AACJ;;;8CAEkB;AAAA;;AACfhM,sBAAY,CAACC,iBAAb,CAAgC,UAASC,UAAT,EAAmB;AAC/C,gBAAIA,UAAU,IAAI,SAAlB,EAA4B,CACxB;AACH;AACJ,WAJD,EAIGnM,IAJH,CAIQ,UAAAC,CAAC,EAAI;AACT,oBAAI,CAACmM,KAAL;;AACA,oBAAI,CAAC6L,KAAL,GAAa,IAAb;AACH,WAPD;AAQH;;;gCAEI;AAAA;;AACD,cAAG5L,SAAS,CAACC,aAAb,EAA2B;AACvB,gBAAMhL,KAAK,GAAG,KAAKA,KAAnB;AACA+K,qBAAS,CAACC,aAAV,CAAwBC,eAAxB,GAA0CvM,IAA1C,CAA+C,UAAAwM,GAAG,EAAI;AAElD,sBAAI,CAACC,YAAL,GAAoBzM,IAApB,CAA0B,UAAS0M,GAAT,EAAY;AAClCF,mBAAG,CAACG,WAAJ,CAAgB3K,SAAhB,CAA0B;AACtB4K,iCAAe,EAAE,IADK;AAEtBC,sCAAoB,EAAEH;AAFA,iBAA1B,EAGG1M,IAHH,CAGQ,UAAAqJ,GAAG;AAAA,yBAAIA,GAAG,CAACyD,MAAJ,EAAJ;AAAA,iBAHX,EAIC9M,IAJD,CAIM,UAAA+M,YAAY,EAAI;AAClBC,uBAAK,CAAC,wDAAO3L,GAAP,GAAa,WAAd,EAA2B;AAC5B4L,0BAAM,EAAE,MADoB;AAE5BC,2BAAO,EAAE;AAAE,sCAAgB,kBAAlB;AAAsC,uCAAiB5L;AAAvD,qBAFmB;AAG5B+I,wBAAI,EAAElI,IAAI,CAACgD,SAAL,CAAe4H,YAAf;AAHsB,mBAA3B,CAAL,UAKOlK,OAAO,CAACC,GALf;AAMH,iBAXD;AAYH,eAbD;AAcH,aAhBD;AAiBH,WAnBD,MAmBO,CACH;AACH;AACJ;;;uCAEW;AACR,cAAMxB,KAAK,GAAG,KAAKA,KAAnB;AACA,iBAAO0L,KAAK,CAAC,KAAK3L,GAAL,GAAW,KAAZ,EAAmB;AAC3B6L,mBAAO,EAAE;AAAE,+BAAiB5L;AAAnB;AADkB,WAAnB,CAAL,CAGNtB,IAHM,CAGD,UAAAqJ,GAAG;AAAA,mBAAIA,GAAG,CAAC8D,WAAJ,EAAJ;AAAA,WAHF,EAIP;AAJO,WAKNnN,IALM,CAKD,UAAA0M,GAAG;AAAA,mBAAI,IAAIU,UAAJ,CAAeV,GAAf,CAAJ;AAAA,WALF,CAAP;AAMH;;;;;;;uBA3HQ+S,iB,EAAiB,uH,EAAA,yI,EAAA,uI,EAAA,yH;AAAA,K;;;YAAjBA,iB;AAAiB,+B;AAAA,kFAHf,CAAC,wEAAD,EAAiB,sEAAjB,CAGe,E;AAHgB,e;AAAA,a;AAAA,+5C;AAAA;AAAA;ACZ9C;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAAvb,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AAAuB;;AAAO;;AAClC;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAGA;;AAMA;;AAMA;;AAMA;;AACI;;AA+BJ;;AACA;;AACJ;;AACJ;;AACJ;;;;AAzDmC;;AAAA;;AAGc;;AAAA;;AAMC;;AAAA;;AAMjC;;AAAA;;AAOI;;AAAA;;;;;;;;;;sEDtBRub,iB,EAAiB;cAN7B,uDAM6B;eANnB;AACPrb,kBAAQ,EAAE,UADH;AAEPC,qBAAW,EAAE,2BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,sEAAjB;AAHJ,S;AAMmB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEf9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACeQ;;AACI;;AACI;;AACJ;;AACJ;;;;;;;;AAcI;;AAA+D;;AAAqC;AAAA;;AAAA;;AAAA;AAAA;;AAAqB;;AAAoC;;AAAwB;;AAAS;;;;;;AARlM;;AACI;;AACI;;AAAG;;AAAyE;;AAAwB;;AAAsB;;AAAO;;AACrI;;AACA;;AACI;;AAA2C;;AAAqD;;AAChG;;AAA+B;;AAA8D;;AACjG;;AACA;;AACJ;;;;;;AAPgB;;AAAA;;AAA4F;;AAAA;;AAIrE;;AAAA;;AAEhC;;AAAA;;;;;;AAQC;;AACI;;AAA2C;;AAA4C;;AACvF;;AAA+B;;AAAyD;;AAC5F;;;;;;AADmC;;AAAA;;;;;;AAEnC;;AACI;;AAA2C;;AAAqD;;AAChG;;AAA+B;;AAAoB;;AACvD;;;;;;AADmC;;AAAA;;;;;;AAEnC;;AACI;;AAAgD;;AAAiD;;AACjG;;AAA+B;;AAA2B;;AAC9D;;;;;;AADmC;;AAAA;;;;;;AAZ3C;;AACI;;AACI;;AAIA;;AAIA;;AAIJ;;AAEA;;AAEA;;AACI;;AAAoD;;AAAQ;;AAAO;;AAAyC;;AAA4B;;AAAO;;AAAS;;AAC5J;;AACA;;AACI;;AAAoD;;AAAe;;AAAwC;;AAA4B;;AAAO;;AAClJ;;AACA;;AACI;;AAAgE;;AAAM;;AAAoC;;AAA6C;;AAAQ;;AACnK;;AACJ;;;;;;AAzByB;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;AAS2F;;AAAA;;AAGD;;AAAA;;AAGD;;AAAA;;;;QDjD7Gqb,iB;AAQT,iCACY3e,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIYuD,cAJZ,EAKYtD,mBALZ,EAMYC,SANZ,EAM+B;AAAA;;AALnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAuD,cAAA,GAAAA,cAAA;AACA,aAAAtD,mBAAA,GAAAA,mBAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AAER,aAAKC,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAKC,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKW,SAAL,GAAiB,KAAKhB,eAAL,CAAqB+R,YAArB,EAAjB;AACA,aAAKtQ,WAAL,GAAmB,KAAKT,SAAxB;AACA,aAAKc,MAAL,GAAc,IAAd;AACH;;;;mCAEO;AACJ,eAAKlB,QAAL;AACH;;;mCAEO;AAAA;;AACJ,eAAKd,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,IAAD,CAAT,EAAgB;AACZ,kBAAIxB,EAAE,GAAGwB,MAAM,CAAC,IAAD,CAAf;;AACA,sBAAI,CAAC2G,aAAL,CAAmBnI,EAAnB;AACH;AACJ,WALD;AAMH;;;sCAEa;AACV,eAAKa,SAAL,CAAeoB,IAAf;AACH;;;sCAGaoG,Q,EAAQ;AAAA;;AAClB,eAAKnE,cAAL,CAAoBiE,aAApB,CAAkC,KAAKpH,KAAvC,EAA8CsH,QAA9C,EAAwD,CAAxD,EAA2D5G,SAA3D,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,sBAAI,CAACmG,MAAL,GAAcnG,QAAQ,CAACmG,MAAvB;AACA,sBAAI,CAAClG,WAAL,GAAmBD,QAAQ,CAACmG,MAAT,CAAgBlG,WAAnC;AACH;AACJ,WANL,EAOI,UAAAhB,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AACA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAbL;AAeH;;;mCAEO;AACJwG,gBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,2CAA2C,KAAK/G,WAAL,CAAiBid,QAAjB,CAA0B,CAA1B,CAAlE;AACH;;;;;;;uBA7DQD,iB,EAAiB,+H,EAAA,uH,EAAA,yI,EAAA,uI,EAAA,iJ,EAAA,yH;AAAA,K;;;YAAjBA,iB;AAAiB,+B;AAAA,kFAHf,CAAC,wEAAD,EAAiB,sEAAjB,EAAgC,gFAAhC,CAGe,E;AAHoC,e;AAAA,a;AAAA,g2C;AAAA;AAAA;ACZlE;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAAzb,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AAA4B;;AAAe;;AAC/C;;AACJ;;AACJ;;AACA;;AAEA;;AACI;;AAMA;;AAEA;;AAAwB;;AAAqB;;AAE7C;;AAUA;;AAEA;;AAAwB;;AAAiB;;AAEzC;;AA4BJ;;AACJ;;;;AArD6C;;AAAA;;AAUQ;;AAAA;;AAcxC;;AAAA;;;;;;;;;sEDxBAyb,iB,EAAiB;cAN7B,uDAM6B;eANnB;AACPvb,kBAAQ,EAAE,UADH;AAEPC,qBAAW,EAAE,2BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,sEAAjB,EAAgC,gFAAhC;AAHJ,S;AAMmB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEf9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACWY;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;AAGP;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;AAGP;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;AAcP;;AACI;;AACJ;;;;;;AACA;;AACI;;AACA;;AACI;;AACJ;;AACA;;AAA4C;;AAA2D;;AAC3G;;;;;;AADgD;;AAAA;;;;;;AAGhD;;AACI;;AACA;;AACI;;AACJ;;AACA;;AAA6C;;AAA2D;;AAC5G;;;;;;AADiD;;AAAA;;;;;;AAGjD;;AACI;;AAA6C;;AAA2D;;AAC5G;;;;;;AADiD;;AAAA;;;;;;AAyBzD;;;;;;AA0B4B;;;;;;;;AAA8G;;;;;;AAC9G;;;;;;AAA+G;;;;;;AAE/G;;;;;;AAZR;;AACI;;AACI;;AACI;;AACI;;AACA;;AACJ;;AACJ;;AAEA;;AACA;;AAEA;;AAEA;;AACI;;AAA8D;;AAAmB;;AACjF;;AAAqE;;AAAyB;;AAClG;;AACJ;;AACJ;;;;;;AAdgB;;AAAA;;AAIH;;AAAA;;AACA;;AAAA;;AAEF;;AAAA;;AAG+D;;AAAA;;AACO;;AAAA;;;;;;;;AAlBzF;;AACI;;AAAG;AAAA;;AAAA;;AAAA;;AAAA;AAAA,WAAoC,OAApC,EAAoC;AAAA;;AAAA;;AAAA;;AAAA;AAAA,SAApC;;AACC;;AAoBJ;;AACJ;;;;;;;;AArB+B;;AAAA;;;;;;;;;;;;AAdvC;;AACI;;AACI;;AACI;;AACA;;AACJ;;AACA;;AAAgE;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC5D;;AACJ;;AACJ;;AAEA;;AACI;;AAwBJ;;AACJ;;;;;;;;AAnCW;;AAAA;;AACC;;AAAA;;AASC;;AAAA;;;;;;AA+BL;;AAAmL;;AAAO;;;;;;AAC1L;;AAAiL;;AAAU;;;;;;AA8EvM;;AACQ;;AACI;;AACJ;;AACJ;;;;;;;;;;;;QD7LKub,0B;AAkBT,0CACY7e,MADZ,EAEYC,OAFZ,EAGY+R,gBAHZ,EAIY7R,mBAJZ,EAKYD,eALZ,EAMYE,SANZ,EAM+B;AAAA;;AALnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAA+R,gBAAA,GAAAA,gBAAA;AACA,aAAA7R,mBAAA,GAAAA,mBAAA;AACA,aAAAD,eAAA,GAAAA,eAAA;AACA,aAAAE,SAAA,GAAAA,SAAA;AAER,aAAKc,SAAL,GAAiB,KAAKhB,eAAL,CAAqB+R,YAArB,EAAjB;AACA,aAAKtQ,WAAL,GAAmB,KAAKT,SAAxB;AACA,aAAKb,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAK2K,KAAL,GAAa,KAAK9J,SAAL,CAAesJ,MAA5B;AACA,aAAK8H,SAAL,GAAiB,EAAjB;AACA,aAAK3O,IAAL,GAAY,CAAZ;AACA,aAAKC,OAAL,GAAe,KAAf;AACA,aAAK5B,MAAL,GAAc,IAAd;AACA,aAAKzC,EAAL,GAAU,IAAV;AACH;;;;mCAGO;AACJ,eAAK0B,kBAAL,CAAwB,KAAKC,SAAL,CAAeU,GAAvC;AACA,eAAKia,gBAAL,CAAsB,KAAK3a,SAAL,CAAeU,GAArC,EAA0C,KAAK+B,IAA/C;AACA,eAAKnD,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,eAAKH,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,eAAK0Q,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;sCAEa;AACV;AACA,eAAK9Q,SAAL,CAAeoB,IAAf;AACH;;;mCAEO;AACJ,eAAKmC,IAAL,IAAa,CAAb;;AAEA,cAAG,KAAKA,IAAL,IAAa,KAAKM,KAAL,GAAW,CAA3B,EAA6B;AACzB,iBAAKL,OAAL,GAAe,KAAf;AACH,WAFD,MAEO;AACH,iBAAKA,OAAL,GAAe,IAAf;AACA,iBAAKiY,gBAAL,CAAsB,KAAK3a,SAAL,CAAeU,GAArC,EAA0C,KAAK+B,IAA/C,EAAqD,IAArD;AACH;AACJ;;;2CAEkBpE,E,EAAE;AAAA;;AACjB,eAAKY,mBAAL,CAAyBc,kBAAzB,CAA4C1B,EAA5C,EAAgDyB,SAAhD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACC,WAAZ,EAAwB;AACpB,sBAAI,CAACA,WAAL,GAAmBD,QAAQ,CAACC,WAA5B,CADoB,CAEpB;AACH;AACJ,WANL,EAOI,UAAAhB,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAdL;AAgBH;;;yCAEgBzC,E,EAAIoE,I,EAAoB;AAAA;;AAAA,cAAdS,MAAc,uEAAL,KAAK;;AACrC,eAAKjE,mBAAL,CAAyB0b,gBAAzB,CAA0Ctc,EAA1C,EAA8CoE,IAA9C,EAAoD,CAApD,EAAuD3C,SAAvD,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAAC2b,SAAZ,EAAsB;AAClB,sBAAI,CAACpZ,KAAL,GAAavC,QAAQ,CAACuC,KAAtB;AAEAvC,sBAAQ,CAAC2b,SAAT,CAAmBrW,OAAnB,CAA2B,UAAAC,OAAO,EAAI;AAClC,wBAAI,CAAC6X,2BAAL,CAAiC7X,OAAO,CAACrF,GAAzC;AACH,eAFD;;AAIA,kBAAG,CAACwC,MAAJ,EAAW;AACP,wBAAI,CAACiZ,SAAL,GAAiB3b,QAAQ,CAAC2b,SAA1B;AACA,wBAAI,CAACzZ,OAAL,GAAe,KAAf;AACH,eAHD,MAGO;AACH,oBAAIU,MAAM,GAAG,QAAI,CAAC+Y,SAAlB;AACA,oBAAI9Y,MAAM,GAAG7C,QAAQ,CAAC2b,SAAtB;AACA,wBAAI,CAACA,SAAL,GAAiB/Y,MAAM,CAACE,MAAP,CAAcD,MAAd,CAAjB;AACA,wBAAI,CAACX,OAAL,GAAe,KAAf;AACH;AACJ;AACJ,WAnBL,EAoBI,UAAAjD,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WA3BL;AA6BH;;;oDAE2Bub,S,EAAS;AAAA;;AACjC,eAAKvL,gBAAL,CAAsB8M,2BAAtB,CAAkDvB,SAAlD,EAA6Dvc,SAA7D,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAAC4Q,SAAZ,EAAsB;AAClB5Q,sBAAQ,CAAC4Q,SAAT,CAAmBtL,OAAnB,CAA2B,UAAAC,OAAO,EAAI;AAClC,wBAAI,CAACqL,SAAL,CAAenQ,IAAf,CAAoB8E,OAApB;AACH,eAFD;AAGH;AACJ,WAPL,EAQI,UAAAtG,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAfL;AAiBH,S,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;iCAESzC,E,EAAE;AACP,eAAKA,EAAL,GAAUA,EAAV;AACH;;;kCAESyC,M,EAAM;AACZ,eAAK+c,cAAL,GAAsB/c,MAAtB;AACH;;;iCAEQgd,iB,EAAiB;AACtB,cAAGA,iBAAiB,IAAI,CAAxB,EAA0B;AACtB,iBAAK/e,OAAL,CAAa6R,QAAb,CAAsB,CAAC,wBAAD,EAA2B,KAAKvS,EAAhC,CAAtB;AAEH,WAHD,MAGO,IAAGyf,iBAAiB,IAAI,CAAxB,EAA0B;AAC7B,iBAAKC,gBAAL,CAAsB,KAAK1f,EAA3B;AAEH,WAHM,MAGA,IAAGyf,iBAAiB,IAAI,CAAxB,EAA0B;AAC7B,iBAAKE,eAAL,CAAqB,KAAK3f,EAA1B,EAA8B,CAA9B;AAEH,WAHM,MAGA,IAAGyf,iBAAiB,IAAI,CAAxB,EAA0B;AAC7B,iBAAKE,eAAL,CAAqB,KAAK3f,EAA1B,EAA8B,CAA9B;AAEH,WAHM,MAGA,IAAGyf,iBAAiB,IAAI,CAAxB,EAA0B;AAC7B,iBAAKG,eAAL,CAAqB,KAAK5f,EAA1B;AACH;AACJ;;;wCAEe6f,W,EAAapd,M,EAAM;AAAA;;AAC/B,eAAKgQ,gBAAL,CAAsBkN,eAAtB,CAAsC,KAAK5e,KAA3C,EAAkD8e,WAAlD,EAA+Dpd,MAA/D,EAAuEhB,SAAvE,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR;AACA,sBAAI,CAAC4Q,SAAL,GAAiB,EAAjB;AACA,sBAAI,CAAC3O,IAAL,GAAY,CAAZ;;AACA,sBAAI,CAACkY,gBAAL,CAAsB,QAAI,CAAC3a,SAAL,CAAeU,GAArC,EAA0C,QAAI,CAAC+B,IAA/C;;AACA,sBAAI,CAACob,cAAL,IAAuB,IAAvB;AACA,sBAAI,CAACxf,EAAL,IAAW,IAAX;AACH;AACJ,WAVL,EAWI,UAAAoB,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAlBL;AAoBH;;;yCAEgBod,W,EAAW;AAAA;;AACxB,eAAKpN,gBAAL,CAAsBiN,gBAAtB,CAAuC,KAAK3e,KAA5C,EAAmD8e,WAAnD,EAAgEpe,SAAhE,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR;AACA,sBAAI,CAAC4Q,SAAL,GAAiB,EAAjB;AACA,sBAAI,CAAC3O,IAAL,GAAY,CAAZ;;AACA,sBAAI,CAACkY,gBAAL,CAAsB,QAAI,CAAC3a,SAAL,CAAeU,GAArC,EAA0C,QAAI,CAAC+B,IAA/C;;AACA,sBAAI,CAACob,cAAL,IAAuB,IAAvB;AACA,sBAAI,CAACxf,EAAL,IAAW,IAAX;AACH;AACJ,WAVL,EAWI,UAAAoB,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAlBL;AAoBH;;;wCAEezC,E,EAAE;AAAA;;AACd,cAAIkC,CAAC,GAAG,CAAR;AACA,cAAI4C,KAAK,GAAG,KAAKiO,SAAL,CAAezH,MAA3B;AACA,cAAIwU,KAAK,GAAG,IAAZ;AAEA,eAAK/M,SAAL,CAAetL,OAAf,CAAuB,UAAAC,OAAO,EAAI;AAC9B,gBAAG1H,EAAE,IAAI0H,OAAO,CAAC+Q,OAAjB,EAAyB;AACrBqH,mBAAK,GAAG,KAAR;AACAxd,qBAAO,CAACC,GAAR,CAAYmF,OAAZ;AACH;;AAEDxF,aAAC,GAAGA,CAAC,GAAG,CAAR;;AAEA,gBAAGA,CAAC,IAAI4C,KAAR,EAAc;AACV,kBAAGgb,KAAK,IAAI,KAAZ,EAAkB;AACd,uBAAO9W,KAAK,CAAC,uDAAD,CAAZ;AACH,eAFD,MAEO,IAAG8W,KAAK,IAAI,IAAZ,EAAiB;AACpB,wBAAI,CAAClf,mBAAL,CAAyBgf,eAAzB,CAAyC,QAAI,CAAC7e,KAA9C,EAAqDf,EAArD,EAAyDyB,SAAzD,CACI,UAAAU,QAAQ,EAAI;AACR,sBAAGA,QAAH,EAAY;AACR,4BAAI,CAAC4Q,SAAL,GAAiB,EAAjB;AACA,4BAAI,CAAC3O,IAAL,GAAY,CAAZ;;AACA,4BAAI,CAACkY,gBAAL,CAAsB,QAAI,CAAC3a,SAAL,CAAeU,GAArC,EAA0C,QAAI,CAAC+B,IAA/C;;AACA,4BAAI,CAACob,cAAL,IAAuB,IAAvB;AACA,4BAAI,CAACxf,EAAL,IAAW,IAAX;AACH;AACJ,iBATL,EAUI,UAAAoB,KAAK,EAAI;AACL,sBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,yBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,sBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,4BAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,iBAjBL;AAmBH;AACJ;AACJ,WAjCD;AAkCH;;;oCAEW6B,a,EAAqB;AAC7B,cAAM+E,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAf;AACAF,gBAAM,CAACG,KAAP,CAAaC,QAAb,GAAwB,OAAxB;AACAJ,gBAAM,CAACG,KAAP,CAAaE,IAAb,GAAoB,GAApB;AACAL,gBAAM,CAACG,KAAP,CAAaG,GAAb,GAAmB,GAAnB;AACAN,gBAAM,CAACG,KAAP,CAAaI,OAAb,GAAuB,GAAvB;AACAP,gBAAM,CAACQ,KAAP,GAAe,iCAAiCvF,aAAhD,CAN6B,CAO7B;;AACAgF,kBAAQ,CAACQ,IAAT,CAAcC,WAAd,CAA0BV,MAA1B;AACAA,gBAAM,CAACW,KAAP;AACAX,gBAAM,CAAClC,MAAP;AACAmC,kBAAQ,CAACW,WAAT,CAAqB,MAArB;AACAX,kBAAQ,CAACQ,IAAT,CAAcI,WAAd,CAA0Bb,MAA1B;AACH;;;;;;;uBA9RQiW,0B,EAA0B,+H,EAAA,uH,EAAA,2I,EAAA,iJ,EAAA,yI,EAAA,yH;AAAA,K;;;YAA1BA,0B;AAA0B,wC;AAAA,kFAHxB,CAAC,0EAAD,EAAkB,gFAAlB,EAAsC,wEAAtC,CAGwB,E;AAH6B,gB;AAAA,c;AAAA,ytJ;AAAA;AAAA;AChBpE;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAA3b,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AACJ;;AAEA;;AAIA;;AAIA;;AAIA;;AACI;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AAGA;;AACI;;AACI;;AAGA;;AAQA;;AAQA;;AAIA;;AACI;;AACA;;AACI;;AACJ;;AACA;;AAA4C;;AAA8D;;AAC9G;;AAaJ;;AACJ;;AAEA;;AAEA;;AAA4F;AAAA,mBAAY,IAAAwC,QAAA,EAAZ;AAAsB,WAAtB;;AACxF;;AAsCJ;;AAEA;;AACI;;AACI;;AACI;;AACA;;AACA;;AAAG;AAAA,mBAAS,IAAA4Z,QAAA,CAAS,CAAT,CAAT;AAAoB,WAApB;;AAAoG;;AAAM;;AAC7G;;AAA8H;;AAAQ;;AACtI;;AAAsE;;AAAQ;;AAClF;;AACJ;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAAmB;;AAC/C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAAqF;AAAA,mBAAS,IAAAA,QAAA,CAAS,CAAT,CAAT;AAAoB,WAApB;;AAAsB;;AAAQ;;AACvH;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAAkB;;AAC9C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAAqF;AAAA,mBAAS,IAAAA,QAAA,CAAS,CAAT,CAAT;AAAoB,WAApB;;AAAsB;;AAAO;;AACtH;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAAqB;;AACjD;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAAqF;AAAA,mBAAS,IAAAA,QAAA,CAAS,CAAT,CAAT;AAAoB,WAApB;;AAAsB;;AAAU;;AACzH;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAA6B;;AAAI;;AAAmB;;AAEhF;;AACA;;AACI;;AAAqF;AAAA,mBAAS,IAAAC,WAAA,qBAAT;AAAqC,WAArC;;AAAuC;;AAAa;;AAC7I;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAAkB;;AAC9C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAAqF;AAAA,mBAAS,IAAAD,QAAA,CAAS,CAAT,CAAT;AAAoB,WAApB;;AAAsB;;AAAQ;;AACvH;;AACJ;;AACA;;AACJ;;AAEA;;AAKI;;AAEJ;;AACI;;AAA8F;;AAAc;;AAC5G;;AAA8F;;AAAe;;AACjH;;AACJ;;;;AA/MqB;;AAAA;;AAGgC;;AAAA;;AAII;;AAAA;;AAIC;;AAAA;;AAed;;AAAA;;AAGM;;AAAA;;AAQA;;AAAA;;AAQA;;AAAA;;AASU;;AAAA;;AAiBrD;;AAAA;;AAE8B;;AAAA,gGAA4B,wBAA5B,EAA4B,EAA5B;;AACxB;;AAAA;;AA2CM;;AAAA;;AACA;;AAAA;;AAsDsD;;AAAA;;AAwBhE;;AAAA;;AAQE;;AAAA;;AACA;;AAAA;;;;;;;;;sEDlMET,0B,EAA0B;cANtC,uDAMsC;eAN5B;AACPzb,kBAAQ,EAAE,mBADH;AAEPC,qBAAW,EAAE,oCAFN;AAGPC,mBAAS,EAAE,CAAC,0EAAD,EAAkB,gFAAlB,EAAsC,wEAAtC;AAHJ,S;AAM4B,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEnBvC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;;;ACmBI;;AACI;;AACI;;AAA2B;;AAAmB;;AAC9C;;AAAoD;;AAA6B;;AACrF;;AAEA;;AACI;;AAA2B;;AAAa;;AACxC;;AAAiD;;AAAc;;AACnE;;AAEA;;AACI;;AAA2B;;AAAc;;AACzC;;AAAoD;;AAA+B;;AACvF;;AACJ;;;;;;AAZ4D;;AAAA;;AAKH;;AAAA;;AAKG;;AAAA;;;;;;AAKxD;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAaoB;;AAAkI;;AAAsB;;;;;;AAAtB;;AAAA;;;;;;AAClI;;AAAiI;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AACjI;;AAAwE;;AAA4E;;;;;;AAA5E;;AAAA;;;;;;AAKxE;;AAA2H;;AAAS;;;;;;AACpI;;AAAsE;;AAA0B;;;;;;AAA1B;;AAAA;;;;;;AACtE;;AAA6H;;AAAgF;;;;;;AAAhF;;AAAA;;;;;;AAC7H;;AAAyH;;AAAU;;;;;;AACnI;;AAA+H;;AAAuF;;;;;;AAAvF;;AAAA;;;;;;;;;;AApB3I;;AACI;;AACI;;AACI;;AACI;;;;;;;;AACJ;;AACJ;;AACA;;AACI;;AAAkD;;AAAM;;AACxD;;AACA;;AACA;;AACJ;;AAEA;;AACI;;AAAwC;;AAAM;;AAC9C;;AACA;;AACA;;AACA;;AACA;;AACJ;;AACJ;;AACJ;;;;;;;;AAvB8E;;AAI9D;;AAAA;;AAK+C;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAKN;;AAAA;;AACG;;AAAA;;AACA;;AAAA;;AACH;;AAAA;;AACM;;AAAA;;;;;;AArBnE;;AACI;;AAwBJ;;;;;;AAxBsB;;AAAA;;;;;;;;AAF1B;;AAA8G;AAAA;;AAAA;;AAAA;AAAA;;AAC1G;;AA0BJ;;;;;;AA3BmD,8FAA4B,wBAA5B,EAA4B,EAA5B;;AAC1C;;AAAA;;;;;;AA4CO;;;;;;AACA;;AACI;;AAAe;;AAA6B;;AAChD;;;;;;AADmB;;AAAA;;;;;;;;AAjB/B;;AACI;;AACI;;AACI;;AAEI;;AACI;;;;;;;;AACJ;;AACA;;AAA2D;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgG;;AAC/J;;AACA;;AACI;;AAAuC;;AAAI;;AAC3C;;AAA6C;;AAAS;;AACtD;;AAAwC;;AAA2B;;AACvE;;AACA;;AACA;;AAGJ;;AACJ;;AACJ;;;;;;AAfoB;;AAAA;;AAOoC;;AAAA;;AAExC;;AAAA;;AACwC;;AAAA;;;;;;;;AAjB5D;;AAA8G;AAAA;;AAAA;;AAAA;AAAA;;AAC1G;;AAsBJ;;;;;;AAvBmD,8FAA4B,wBAA5B,EAA4B,EAA5B;;AAC1C;;AAAA;;;;;;AAsCO;;;;;;AACA;;AACI;;AAAe;;AAA0B;;AAC7C;;;;;;AADmB;;AAAA;;;;;;AAf/B;;AACI;;AACI;;AACI;;AACI;;AACI;;;;;;;;AACJ;;AACJ;;AACA;;AACI;;AAAuC;;AAAK;;AAC5C;;AAA6C;;AAAS;;AACtD;;AAAyC;;AAAwB;;AACrE;;AACA;;AACA;;AAGJ;;AACJ;;AACJ;;;;;;AAdoB;;AAAA;;AAMqC;;AAAA;;AAEzC;;AAAA;;AACwC;;AAAA;;;;;;;;AAf5D;;AAA8G;AAAA;;AAAA;;AAAA;AAAA;;AAC1G;;AAoBJ;;;;;;AArBmD,8FAA4B,wBAA5B,EAA4B,EAA5B;;AAC1C;;AAAA;;;;;;AA2BO;;AAA6G;;AAAmC;;;;;;AAAnC;;AAAA;;;;;;AAC7G;;AAAoH;;AAAoC;;;;;;AAApC;;AAAA;;;;;;AAHxH;;AACI;;AAA8B;;AAAmB;;AAAQ;;AAA0B;;AAAS;;AAC5F;;AACA;;AACA;;AACA;;AAAqB;;AAAc;;AACnC;;AACI;;AAAwC;;AAAmB;;AAC3D;;AAA4D;;AAA4B;;AAC5F;;AACA;;AACI;;AAAwC;;AAAa;;AACrD;;AAAyD;;AAA8B;;AAC3F;;AACA;;AACI;;AAAwC;;AAAc;;AACtD;;AAA4D;;AAA8B;;AAC9F;;AACA;;AACA;;AAAqB;;AAAgB;;AACrC;;AACI;;AAAwC;;AAAmB;;AAC3D;;AAA4D;;AAA4B;;AAC5F;;AACA;;AACI;;AAAwC;;AAAa;;AACrD;;AAAyD;;AAA8B;;AAC3F;;AACA;;AACI;;AAAwC;;AAAc;;AACtD;;AAA4D;;AAA8B;;AAC9F;;AACJ;;;;;;AA/B6D;;AAAA;;AACrB;;AAAA;;AACA;;AAAA;;AAK4B;;AAAA;;AAIH;;AAAA;;AAIG;;AAAA;;AAMA;;AAAA;;AAIH;;AAAA;;AAIG;;AAAA;;;;;;AAUhF;;AACI;;AACI;;AACJ;;AACJ;;;;;;AA4BY;;AAAwB;;AAAO;;;;;;AAC/B;;AAAwB;;AAAK;;;;;;AAC7B;;AAAwB;;AAAM;;;;QDpLrCkc,oB;AAgBT,oCACYvf,OADZ,EAEYC,eAFZ,EAGYC,mBAHZ,EAIYsD,cAJZ,EAKYrD,SALZ,EAK+B;AAAA;;AAJnB,aAAAH,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAC,mBAAA,GAAAA,mBAAA;AACA,aAAAsD,cAAA,GAAAA,cAAA;AACA,aAAArD,SAAA,GAAAA,SAAA;AAER,aAAKE,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKW,SAAL,GAAiB,KAAKhB,eAAL,CAAqB+R,YAArB,EAAjB;AACA,aAAKvO,OAAL,GAAe,EAAf;AACA,aAAKC,IAAL,GAAY,CAAZ;AACA,aAAKC,OAAL,GAAe,IAAf;AACA,aAAK5B,MAAL,GAAc,IAAd;AACA,aAAKpB,IAAL,GAAY,CAAZ;AACH;;;;mCAEO;AACJ,eAAKK,kBAAL;AACA,eAAK6C,cAAL,CAAoB,KAAKH,IAAzB;AACA,eAAKsN,UAAL;AACH;;;qCAGS;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;sCAGa;AACV;AACA,eAAK9Q,SAAL,CAAeoB,IAAf;AACH;;;oCAGWC,C,EAAC;AACT,cAAG,KAAKb,IAAL,IAAaa,CAAhB,EAAkB;AACd,iBAAKb,IAAL,GAAYa,CAAZ;AACA,iBAAKmC,OAAL,GAAe,IAAf;AACA,iBAAKD,IAAL,GAAY,CAAZ;;AAEA,gBAAGlC,CAAC,IAAI,CAAR,EAAU;AACN,mBAAKqC,cAAL,CAAoB,KAAKH,IAAzB;AAEH,aAHD,MAGO,IAAGlC,CAAC,IAAI,CAAR,EAAU;AACb,mBAAKsC,gBAAL,CAAsB,KAAKJ,IAA3B;AAEH,aAHM,MAGA,IAAGlC,CAAC,IAAI,CAAR,EAAU;AACb,mBAAKuC,aAAL,CAAmB,KAAKL,IAAxB;AACH;AACJ;AACJ;;;mCAGO;AACJ,eAAKA,IAAL,IAAa,CAAb;;AAEA,cAAG,KAAKA,IAAL,IAAa,KAAKM,KAAL,GAAW,CAA3B,EAA6B;AACzB,mBAAQ,KAAKL,OAAL,GAAe,KAAvB;AAEH,WAHD,MAGO;AACH,gBAAG,KAAKhD,IAAL,IAAa,CAAhB,EAAkB;AACd,mBAAKkD,cAAL,CAAoB,KAAKH,IAAzB,EAA+B,IAA/B;AAEH,aAHD,MAGO,IAAG,KAAK/C,IAAL,IAAa,CAAhB,EAAkB;AACrB,mBAAKmD,gBAAL,CAAsB,KAAKJ,IAA3B,EAAiC,IAAjC;AAEH,aAHM,MAGA,IAAG,KAAK/C,IAAL,IAAa,CAAhB,EAAkB;AACrB,mBAAKoD,aAAL,CAAmB,KAAKL,IAAxB,EAA8B,IAA9B;AACH;;AACD,iBAAKC,OAAL,GAAe,IAAf;AACH;AACJ;;;6CAGiB;AAAA;;AACd,eAAKzD,mBAAL,CAAyBc,kBAAzB,CAA4C,KAAKC,SAAL,CAAeU,GAA3D,EAAgEZ,SAAhE,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACC,WAAZ,EAAwB;AACpB,sBAAI,CAACA,WAAL,GAAmBD,QAAQ,CAACC,WAA5B;AACA,sBAAI,CAACS,IAAL,GAAYV,QAAQ,CAACC,WAAT,CAAqBS,IAArB,GAA4BV,QAAQ,CAACC,WAAT,CAAqBS,IAAjD,GAAwDV,QAAQ,CAACC,WAAT,CAAqBS,IAAzF;AACH;AACJ,WANL,EAOI,UAAAzB,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAASpB,KAAzB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAdL;AAgBH;;;uCAGc2B,I,EAAoB;AAAA;;AAAA,cAAdS,MAAc,uEAAL,KAAK;;AAC/B,eAAKX,cAAL,CAAoBK,cAApB,CAAmC,KAAKxD,KAAxC,EAA+C,KAAKY,SAAL,CAAeU,GAA9D,EAAmE+B,IAAnE,EAAyE,CAAzE,EAA4E3C,SAA5E,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAG,CAACA,QAAJ,EAAa;AACT,qBAAO,QAAI,CAACM,MAAL,GAAc,OAArB;AACH;;AACD,oBAAI,CAACiC,KAAL,GAAavC,QAAQ,CAACuC,KAAtB;;AAEA,gBAAG,CAACG,MAAJ,EAAW;AACP,sBAAI,CAACV,OAAL,GAAehC,QAAQ,CAACgC,OAAxB;AACA,sBAAI,CAACW,KAAL,GAAa3C,QAAQ,CAAC2C,KAAtB;AACA,sBAAI,CAACT,OAAL,GAAe,KAAf;AACH,aAJD,MAIO;AACH,kBAAIU,MAAM,GAAG,QAAI,CAACZ,OAAlB;AACA,kBAAIa,MAAM,GAAG7C,QAAQ,CAACgC,OAAtB;AACA,sBAAI,CAACA,OAAL,GAAeY,MAAM,CAACE,MAAP,CAAcD,MAAd,CAAf;AACA,sBAAI,CAACX,OAAL,GAAe,KAAf;AACH;AACJ,WAjBL,EAkBI,UAAAjD,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAzBL;AA2BH;;;yCAGgB2B,I,EAAoB;AAAA;;AAAA,cAAdS,MAAc,uEAAL,KAAK;;AACjC,eAAKjE,mBAAL,CAAyB4D,gBAAzB,CAA0C,KAAKzD,KAA/C,EAAsD,KAAKY,SAAL,CAAeU,GAArE,EAA0E+B,IAA1E,EAAgF3C,SAAhF,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,sBAAI,CAACuC,KAAL,GAAavC,QAAQ,CAACuC,KAAtB;;AAEA,kBAAG,CAACG,MAAJ,EAAW;AACP,wBAAI,CAACK,SAAL,GAAiB/C,QAAQ,CAAC+C,SAA1B;AACA,wBAAI,CAACJ,KAAL,GAAa3C,QAAQ,CAAC2C,KAAtB;AACA,wBAAI,CAACT,OAAL,GAAe,KAAf;AACH,eAJD,MAIO;AACH,oBAAIU,MAAM,GAAG,QAAI,CAACG,SAAlB;AACA,oBAAIF,MAAM,GAAG7C,QAAQ,CAAC+C,SAAtB;AACA,wBAAI,CAACA,SAAL,GAAiBH,MAAM,CAACE,MAAP,CAAcD,MAAd,CAAjB;AACA,wBAAI,CAACX,OAAL,GAAe,KAAf;AACH;AACJ;AACJ,WAhBL,EAiBI,UAAAjD,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,mBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,gBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAxBL;AA0BH;;;sCAIa2B,I,EAAoB;AAAA;;AAAA,cAAdS,MAAc,uEAAL,KAAK;;AAC9B,eAAKjE,mBAAL,CAAyB6D,aAAzB,CAAuC,KAAK1D,KAA5C,EAAmD,KAAKY,SAAL,CAAeU,GAAlE,EAAuE+B,IAAvE,EAA6E3C,SAA7E,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR;AACA,sBAAI,CAACuC,KAAL,GAAavC,QAAQ,CAACuC,KAAtB;;AAEA,kBAAG,CAACG,MAAJ,EAAW;AACP,wBAAI,CAACM,MAAL,GAAchD,QAAQ,CAACgD,MAAvB;AACA,wBAAI,CAACL,KAAL,GAAa3C,QAAQ,CAAC2C,KAAtB;AACA,wBAAI,CAACT,OAAL,GAAe,KAAf;AACH,eAJD,MAIO;AACH,oBAAIU,MAAM,GAAG,QAAI,CAACI,MAAlB;AACA,oBAAIH,MAAM,GAAG7C,QAAQ,CAACgD,MAAtB;AACA,wBAAI,CAACA,MAAL,GAAcJ,MAAM,CAACE,MAAP,CAAcD,MAAd,CAAd;AACA,wBAAI,CAACX,OAAL,GAAe,KAAf;AACH;AACJ;AACJ,WAjBL,EAkBI,UAAAjD,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,mBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,gBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAzBL;AA2BH;;;uCAGc2C,O,EAAO;AAClB,eAAKA,OAAL,GAAeA,OAAf;AACH;;;;;;;uBA/MQ6a,oB,EAAoB,uH,EAAA,yI,EAAA,iJ,EAAA,uI,EAAA,yH;AAAA,K;;;YAApBA,oB;AAAoB,kC;AAAA,kFAHlB,CAAC,wEAAD,EAAiB,sEAAjB,EAAgC,gFAAhC,CAGkB,E;AAHiC,e;AAAA,c;AAAA,k+G;AAAA;AAAA;ACdlE;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAAtc,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AAA4B;;AAAc;;AAC9C;;AAOJ;;AACJ;;AAEA;;AAiBA;;AACI;;AAMA;;AA6BA;;AAyBA;;AAuBA;;AACI;;AACI;;AACI;;AAiCA;;AACI;;AAA0F;;AAAO;;AACrG;;AACJ;;AACJ;;AACJ;;AAEA;;AAKA;;AAQA;;AACI;;AACI;;AACI;;AAAG;AAAA,mBAAS,IAAAC,WAAA,CAAY,CAAZ,CAAT;AAAuB,WAAvB;;AACC;;AACJ;;AACA;;AAAG;AAAA,mBAAS,IAAAA,WAAA,CAAY,CAAZ,CAAT;AAAuB,WAAvB;;AACC;;AACJ;;AACA;;AAAG;AAAA,mBAAS,IAAAA,WAAA,CAAY,CAAZ,CAAT;AAAuB,WAAvB;;AACC;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACA;;AACA;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;AAxLyF;;AAAA;;AAkB5C;;AAAA;;AAMhC;;AAAA;;AA6BA;;AAAA;;AAyBA;;AAAA;;AA0B+B;;AAAA;;AAwC/B;;AAAA;;AAgCa;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;;;;;sEDpLbqc,oB,EAAoB;cANhC,uDAMgC;eANtB;AACPpc,kBAAQ,EAAE,aADH;AAEPC,qBAAW,EAAE,8BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,sEAAjB,EAAgC,gFAAhC;AAHJ,S;AAMsB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEjBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAWamc,kB;AAET,kCACYxf,OADZ,EAEYG,SAFZ,EAE+B;AAAA;;AADnB,aAAAH,OAAA,GAAAA,OAAA;AACA,aAAAG,SAAA,GAAAA,SAAA;AAGX;;;;mCAEO,CACP;;;sCAEa;AACV;AACA,eAAKA,SAAL,CAAeoB,IAAf;AACH;;;;;;;uBAfQie,kB,EAAkB,uH,EAAA,yH;AAAA,K;;;YAAlBA,kB;AAAkB,gC;AAAA,kFAHhB,EAGgB,E;AAHd,e;AAAA,a;AAAA,+W;AAAA;AAAA;ACRjB;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAAvc,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AAA4B;;AAAS;;AACzC;;AACJ;;AACJ;;AAEA;;AACI;;AACA;;AAA4B;;AAAY;;AACxC;;AAAuB;;AAA6C;;AACpE;;AAAuB;;AAAiC;;AAC5D;;AACJ;;;;;;;;sEDRauc,kB,EAAkB;cAN9B,uDAM8B;eANpB;AACPrc,kBAAQ,EAAE,WADH;AAEPC,qBAAW,EAAE,4BAFN;AAGPC,mBAAS,EAAE;AAHJ,S;AAMoB,Q;;;;;;;;;;;;;;;;;;;;;;;;AEX/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACaI;;AACI;;AACJ;;;;;;AAQgB;;;;;;AAAsD;;;;;;AACtD;;;;;;AAAsE;;;;;;;;AAuB1E;;AACI;;AACI;;AAAmF;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAnF;;AACA;;AAA2D;;AAAU;;AAEzE;;AACJ;;;;;;AAJ4D;;AAAA;;AACV;;AAAA;;AAAiB;;AAAA;;;;;;AANvE;;AACI;;AACA;;AAA6C;;AAAsB;;AACnE;;AAOJ;;;;;;AARiD;;AAAA;;AACxC;;AAAA;;;;;;AANb;;AACI;;AAA0C;;AAAmB;;AAE7D;;AAWJ;;;;;;AAXS;;AAAA;;;;;;;;AAaT;;AACI;;AAAgB;;AAAK;;AACrB;;AAAyD;AAAA;;AAAA;;AAAA;AAAA;;AAAwE;;AACrI;;;;;;AAD6D;;AAAA;;;;;;AAxCjE;;AACI;;AACI;;AACI;;AACI;;AACA;;AACJ;;AACJ;;AAEA;;AACI;;AAAyB;;AAAwC;;AACjE;;AAAuC;;AAAmB;;AAC9D;;AACA;;AACI;;AACI;;AAAqD;;AAAwB;;AACjF;;AACJ;;AAEA;;AACJ;;AAEA;;AAgBA;;AAIJ;;;;;;AAtCqB;;AAAA;;AACA;;AAAA;;AAKgB;;AAAA;;AACc;;AAAA;;AAIkB;;AAAA;;AAO5D;;AAAA;;AAgB+C;;AAAA;;;;;;AAMxD;;AACI;;AACI;;AACJ;;AACJ;;;;QDrDSoc,oB;AAWT,oCACY1f,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIY8R,gBAJZ,EAKY5R,SALZ,EAK+B;AAAA;;AAJnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAA8R,gBAAA,GAAAA,gBAAA;AACA,aAAA5R,SAAA,GAAAA,SAAA;AAER,aAAKE,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKC,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKkB,WAAL,GAAmB,KAAKzB,eAAL,CAAqB+R,YAArB,EAAnB;AACA,aAAK5R,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAK2B,MAAL,GAAc,IAAd;AACA,aAAK4B,OAAL,GAAe,IAAf;AACH;;;;mCAEO;AACJ,eAAK9C,QAAL;AACA,eAAKmQ,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;mCAEO;AAAA;;AACJ,eAAKvJ,cAAL,GAAsBxG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAX,CAAtB;;AAEA,eAAKtB,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,IAAD,CAAT,EAAgB;AACZ,sBAAI,CAACiU,UAAL,GAAkBjU,MAAM,CAAC,IAAD,CAAxB;;AACA,sBAAI,CAAC8W,eAAL,CAAqB,QAAI,CAAC7C,UAA1B;AACH;AACJ,WALD;AAMH;;;sCAEa;AACV,eAAK5U,SAAL,CAAeoB,IAAf;AACH;;;wCAEejC,E,EAAE;AAAA;;AACd,eAAKyS,gBAAL,CAAsB6F,eAAtB,CAAsCtY,EAAtC,EAA0CyB,SAA1C,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,sBAAI,CAACgI,QAAL,GAAgBhI,QAAQ,CAACgI,QAAzB;AACA,sBAAI,CAAC9F,OAAL,GAAe,KAAf;;AACA,kBAAG,QAAI,CAAC+D,cAAL,CAAoB4P,YAApB,IAAoC,QAAI,CAAC5P,cAAL,CAAoB4P,YAApB,CAAiC,CAAjC,CAAvC,EAA2E;AACvE,wBAAI,CAACQ,oBAAL;AACH;AACJ;AACJ,WATL,EAUI,UAAApX,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAjBL;AAmBH;;;+CAEmB;AAAA;;AAChBsF,oBAAU,CAAC,YAAM;AACb,oBAAI,CAACK,cAAL,CAAoB4P,YAApB,CAAiCvQ,OAAjC,CAAyC,UAAAC,OAAO,EAAI;AAChD,kBAAI6C,QAAQ,GAAG,EAAf;AACAA,sBAAQ,CAAC3H,IAAT,CAAc0G,QAAQ,CAACkB,cAAT,CAAwB9C,OAAxB,CAAd;AACA6C,sBAAQ,CAAC,CAAD,CAAR,CAAYE,OAAZ,GAAoB,IAApB;AACH,aAJD;AAKH,WANS,EAMR,GANQ,CAAV;AAOH;;;iCAGQqO,G,EAAG;AACR,cAAIK,SAAS,GAAG,EAAhB;AACAA,mBAAS,CAACvW,IAAV,CAAe0G,QAAQ,CAACkB,cAAT,CAAwBsO,GAAG,CAAC,CAAD,CAA3B,CAAf;AACA,cAAIM,MAAM,GAAGD,SAAS,CAAC,CAAD,CAAT,CAAa1O,OAA1B;;AAEA,cAAG2O,MAAM,IAAI,IAAb,EAAkB;AACd,gBAAI7O,QAAQ,GAAG,EAAf;AACAA,oBAAQ,CAAC3H,IAAT,CAAc0G,QAAQ,CAACkB,cAAT,CAAwBsO,GAAG,CAAC,CAAD,CAA3B,CAAd;AACAvO,oBAAQ,CAAC,CAAD,CAAR,CAAYE,OAAZ,GAAoB,KAApB;AAEH,WALD,MAKO,IAAG2O,MAAM,IAAI,KAAb,EAAmB;AACtB,gBAAI7O,QAAQ,GAAG,EAAf;AACAA,oBAAQ,CAAC3H,IAAT,CAAc0G,QAAQ,CAACkB,cAAT,CAAwBsO,GAAG,CAAC,CAAD,CAA3B,CAAd;AACAvO,oBAAQ,CAAC,CAAD,CAAR,CAAYE,OAAZ,GAAoB,IAApB;AACH;AACJ;;;;;;;uBApGQ0V,oB,EAAoB,+H,EAAA,uH,EAAA,yI,EAAA,2I,EAAA,yH;AAAA,K;;;YAApBA,oB;AAAoB,kC;AAAA,kFAHlB,CAAC,wEAAD,EAAiB,0EAAjB,CAGkB,E;AAHe,e;AAAA,a;AAAA,8jD;AAAA;AAAA;ACXhD;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAAxc,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AAAuB;;AAAiB;;AAC5C;;AACJ;;AACJ;;AAEA;;AAIA;;AAEA;;AA4CA;;AAMA;;AACJ;;;;AAzDoC;;AAAA;;AAMT;;AAAA;;AA4ClB;;AAAA;;;;;;;;;sEDjDIwc,oB,EAAoB;cANhC,uDAMgC;eANtB;AACPtc,kBAAQ,EAAE,aADH;AAEPC,qBAAW,EAAE,8BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,0EAAjB;AAHJ,S;AAMsB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEdjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;;;ACOY;;AACI;;AACJ;;;;;;AADS;;AAAA;;;;;;AAGT;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;AAGP;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;AAGP;;AACI;;AAAG;;AAAsB;;AAC7B;;;;;;AADO;;AAAA;;;;;;;;;;;;AAkBC;;AAAyE;;AAAiE;AAAA;;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAAwB,SAAxB;;AAA0B;;AAA0B;;AAAI;;;;AAAlG;;AAAA;;;;;;AAChG;;;;;;;;AACsB;;AAA0I;AAAA;;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAAwB,SAAxB;;AAA0B;;AAAsB;;;;;;;;AAC1L;;AAA0I;AAAA;;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAAwB,SAAxB;;AAA0B;;AAAmB;;;;;;;;;;;;AAE7M;;AAAwE;;AAAoE;AAAA;;AAAA;;AAAA;;AAAA,iBAAS,YAAT;AAAwB,SAAxB;;AAA0B;;AAAU;;AAAI;;;;AAArF;;AAAA;;;;;;AAC/F;;;;;;;;AAqCJ;;AAAiH;AAAA;;AAAA;;AAAA,4CAA4B,YAA5B;AAAwC,SAAxC;;AAAwG;;AAAU;;;;;;;;AACnO;;AAAiH;AAAA;;AAAA;;AAAA,4CAA4B,YAA5B;AAAwC,SAAxC;;AAA2C;;AAAU;;;;;;AAmC1K;;AACI;;AACI;;AACJ;;AACJ;;;;;;;;AAGI;;AAAiG;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AAIjI;;AAA8E;;AAA0C;;;;;;AACxH;;;;;;AACA;;AAAkF;;AAA4B;;;;;;AAC9G;;;;;;AACA;;AAAgF;;AAA0B;;;;;;AAE1G;;AAAkK;;AAAmB;;;;;;AAGzL;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;AAIR;;AACI;;AACA;;AAAuB;;AAAqD;;AAC5E;;AAAuB;;AAAgC;;AAC3D;;;;;;AAaoB;;AAAsE;;AAAQ;;;;;;AAC9E;;AAAqE;;AAAS;;;;;;AAG9E;;AAA0E;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AAC1E;;AAAyE;;AAAsD;;;;;;AAAtD;;AAAA;;;;;;;;;;;;AAfzF;;AACI;;AAAwE;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACpE;;AACE;;AACE;;AACI;;;;;;;;AACJ;;AACF;;AACA;;AACM;;AAAwC;;AAA2B;;AACnE;;AACA;;AAGA;;AACA;;AACN;;AAEA;;AACM;;AACA;;AAA4B;;AAAyD;;AAC3F;;AAEA;;AACM;;AACA;;AAA8B;;AAAoB;;AACxD;;AACF;;AACJ;;AACJ;;;;;;AA5BsB;;AAAA;;AAIN;;AAAA;;AAIwC;;AAAA;;AACrC;;AAAA;;AACA;;AAAA;;AAGiD;;AAAA;;AACA;;AAAA;;AAKxB;;AAAA;;AAKE;;AAAA;;;;;;AA5D1D;;AACI;;AACI;;AAMA;;AACI;;AACJ;;AAEA;;AACI;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACJ;;AAEA;;AAMA;;AAMA;;AACI;;AA8BJ;;AACA;;AACJ;;AACJ;;;;;;AAlE6C;;AAAA;;AAOmB;;AAAA;;AAI9C;;AAAA;;AACH;;AAAA;;AACG;;AAAA;;AACH;;AAAA;;AACG;;AAAA;;AAEoG;;AAAA;;AAGxE;;AAAA;;AAMjC;;AAAA;;AAOI;;AAAA;;;;;;;;AAiDb;;AACA;;AACI;;AACI;;AAAwB;;AAA6B;;AAAI;;AAAmB;;AAEhF;;AACA;;AACI;;AAAqF;AAAA;;AAAA;;AAAA;AAAA;;AAAuC;;AAAa;;AAC7I;;AACJ;;AACA;;;;;;AAPiE;;AAAA;;;;;;;;;;AAWjE;;AACI;;AACA;;AACJ;;;;AAHqD;;;;;;AAIrD;;AACI;;AACA;;AACJ;;;;;;;;;;;;;;;;QDzMKqc,gB;AAeT;AAEA,gCACY1f,OADZ,EAEYC,eAFZ,EAGYuD,cAHZ,EAIYtD,mBAJZ,EAKYC,SALZ,EAK+B;AAAA;;AAJnB,aAAAH,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAuD,cAAA,GAAAA,cAAA;AACA,aAAAtD,mBAAA,GAAAA,mBAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AAER,aAAKC,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAKC,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKC,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKS,SAAL,GAAiB,KAAKhB,eAAL,CAAqB+R,YAArB,EAAjB;AACA,aAAKvO,OAAL,GAAe,EAAf;AACA,aAAKoB,YAAL,GAAoB,IAAI,iEAAJ,CAAiB,IAAjB,EAAsB,IAAtB,EAA2B,EAA3B,EAA8B,IAA9B,EAAmC,EAAnC,EAAsC,EAAtC,CAApB;AACA,aAAK2Q,aAAL,GAAqB,KAArB;AACA,aAAKzT,MAAL,GAAc,IAAd;AACH;;;;mCAGO;AACJ,eAAKf,kBAAL;AACA,eAAKkV,mBAAL;AACA,eAAKrS,cAAL;AACA,eAAKmN,UAAL,GAJI,CAMJ;AACA;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;sCAEa;AACV;AACA,eAAK9Q,SAAL,CAAeoB,IAAf;AACH;;;6CAEiB;AAAA;;AACd,eAAKrB,mBAAL,CAAyBc,kBAAzB,CAA4C,KAAKC,SAAL,CAAeU,GAA3D,EAAgEZ,SAAhE,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,sBAAI,CAACC,WAAL,GAAmBD,QAAQ,CAACC,WAA5B;AACH;AACJ,WALL,EAMI,UAAAhB,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAbL;AAeH;;;yCAEa;AAAA;;AACV,eAAKyB,cAAL,CAAoBK,cAApB,CAAmC,KAAKxD,KAAxC,EAA+C,KAAKY,SAAL,CAAeU,GAA9D,EAAmE,CAAnE,EAAsE,CAAtE,EAAyEZ,SAAzE,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAG,CAACA,QAAJ,EAAa;AACT,sBAAI,CAACM,MAAL,GAAc,OAAd;AACH,aAFD,MAEO;AACH,sBAAI,CAACyT,aAAL,GAAqB,IAArB;AACA,sBAAI,CAAC/R,OAAL,GAAehC,QAAQ,CAACgC,OAAxB;AACA,sBAAI,CAACW,KAAL,GAAa3C,QAAQ,CAAC2C,KAAtB;AACH;AACJ,WATL,EAUI,UAAA1D,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAjBL;AAmBH;;;yCAEgBA,M,EAAQ4F,Q,EAAUE,S,EAAS;AAAA;;AACxC,cAAG9F,MAAM,IAAI,gBAAb,EAA8B;AAC1B;AACH;;AAED,cAAGA,MAAM,IAAI,WAAb,EAAyB;AAErB,iBAAKyB,cAAL,CAAoBsE,gBAApB,CAAqC,KAAKzH,KAA1C,EAAiDsH,QAAjD,EAA2DE,SAA3D,EAAsE,CAAtE,EAAyE9G,SAAzE,CACI,UAAAU,QAAQ,EAAI;AACR,kBAAGA,QAAH,EAAY,CAEX;AACJ,aALL,EAMI,UAAAf,KAAK,EAAI;AACL,kBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,kBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,wBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,aAbL;AAeH;AACJ;;;2CAEkBA,M,EAAM;AAAA;;AACrB,cAAG,KAAKL,WAAL,CAAiBK,MAAjB,IAA2B,aAA9B,EAA4C;AACxC;AAEH,WAHD,MAGO,IAAGA,MAAM,IAAI,SAAb,EAAuB;AAC1B,iBAAKL,WAAL,CAAiBK,MAAjB,GAA0B,QAA1B;AAEH,WAHM,MAGA,IAAGA,MAAM,IAAI,YAAb,EAA0B;AAC7B,iBAAKL,WAAL,CAAiBK,MAAjB,GAA0B,UAA1B;AACH;;AAED,eAAK7B,mBAAL,CAAyB8C,qBAAzB,CAA+C,KAAK3C,KAApD,EAA2D,KAAKqB,WAAhE,EAA6EX,SAA7E,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACRL,0BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAezC,QAAQ,CAACC,WAAxB,CAAlC;AACH;AACJ,WALL,EAMI,UAAAhB,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAbL;AAeH;;;8CAEkB;AACf,cAAG,CAACwG,MAAM,CAACyC,YAAX,EAAwB;AACpB,iBAAK+L,OAAL,GAAe,KAAf;AACA,iBAAKC,KAAL,GAAa,KAAb;AACH,WAHD,MAGO;AACH,iBAAKD,OAAL,GAAe,IAAf;AACA,iBAAK7L,UAAL,GAAkBF,YAAY,CAACE,UAA/B;;AAEA,gBAAIF,YAAY,CAACE,UAAb,IAA2B,SAA/B,EAAyC;AACrC,mBAAK8L,KAAL,GAAa,KAAb;AACH,aAFD,MAEO;AACH,mBAAKA,KAAL,GAAa,IAAb;AACH;AACJ;AACJ;;;8CAEkB;AAAA;;AACfhM,sBAAY,CAACC,iBAAb,CAAgC,UAASC,UAAT,EAAmB;AAC/C,gBAAIA,UAAU,IAAI,SAAlB,EAA4B,CACxB;AACH;AACJ,WAJD,EAIGnM,IAJH,CAIQ,UAAAC,CAAC,EAAI;AACT,oBAAI,CAACmM,KAAL;;AACA,oBAAI,CAAC6L,KAAL,GAAa,IAAb;AACH,WAPD;AAQH;;;gCAEI;AAAA;;AACD,cAAG5L,SAAS,CAACC,aAAb,EAA2B;AACvB,gBAAMhL,KAAK,GAAG,KAAKA,KAAnB;AACA+K,qBAAS,CAACC,aAAV,CAAwBC,eAAxB,GAA0CvM,IAA1C,CAA+C,UAAAwM,GAAG,EAAI;AAElD,sBAAI,CAACC,YAAL,GAAoBzM,IAApB,CAA0B,UAAS0M,GAAT,EAAY;AAClCF,mBAAG,CAACG,WAAJ,CAAgB3K,SAAhB,CAA0B;AACtB4K,iCAAe,EAAE,IADK;AAEtBC,sCAAoB,EAAEH;AAFA,iBAA1B,EAGG1M,IAHH,CAGQ,UAAAqJ,GAAG;AAAA,yBAAIA,GAAG,CAACyD,MAAJ,EAAJ;AAAA,iBAHX,EAIC9M,IAJD,CAIM,UAAA+M,YAAY,EAAI;AAClBC,uBAAK,CAAC,wDAAO3L,GAAP,GAAa,WAAd,EAA2B;AAC5B4L,0BAAM,EAAE,MADoB;AAE5BC,2BAAO,EAAE;AAAE,sCAAgB,kBAAlB;AAAsC,uCAAiB5L;AAAvD,qBAFmB;AAG5B+I,wBAAI,EAAElI,IAAI,CAACgD,SAAL,CAAe4H,YAAf;AAHsB,mBAA3B,CAAL,UAKOlK,OAAO,CAACC,GALf;AAMH,iBAXD;AAYH,eAbD;AAcH,aAhBD;AAiBH,WAnBD,MAmBO,CACH;AACH;AACJ;;;uCAEW;AACR,cAAMxB,KAAK,GAAG,KAAKA,KAAnB;AACA,iBAAO0L,KAAK,CAAC,KAAK3L,GAAL,GAAW,KAAZ,EAAmB;AAC3B6L,mBAAO,EAAE;AAAE,+BAAiB5L;AAAnB;AADkB,WAAnB,CAAL,CAGNtB,IAHM,CAGD,UAAAqJ,GAAG;AAAA,mBAAIA,GAAG,CAAC8D,WAAJ,EAAJ;AAAA,WAHF,EAIP;AAJO,WAKNnN,IALM,CAKD,UAAA0M,GAAG;AAAA,mBAAI,IAAIU,UAAJ,CAAeV,GAAf,CAAJ;AAAA,WALF,CAAP;AAMH,S,CAED;AACA;AACA;AACA;AACA;AAEA;AACA;;;;oCAEY7H,a,EAAqB;AAC7B,cAAM+E,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAf;AACAF,gBAAM,CAACG,KAAP,CAAaC,QAAb,GAAwB,OAAxB;AACAJ,gBAAM,CAACG,KAAP,CAAaE,IAAb,GAAoB,GAApB;AACAL,gBAAM,CAACG,KAAP,CAAaG,GAAb,GAAmB,GAAnB;AACAN,gBAAM,CAACG,KAAP,CAAaI,OAAb,GAAuB,GAAvB;AACAP,gBAAM,CAACQ,KAAP,GAAe,iCAAiCvF,aAAhD,CAN6B,CAO7B;;AACAgF,kBAAQ,CAACQ,IAAT,CAAcC,WAAd,CAA0BV,MAA1B;AACAA,gBAAM,CAACW,KAAP;AACAX,gBAAM,CAAClC,MAAP;AACAmC,kBAAQ,CAACW,WAAT,CAAqB,MAArB;AACAX,kBAAQ,CAACQ,IAAT,CAAcI,WAAd,CAA0Bb,MAA1B;AACH;;;iCAEK;AACFvH,sBAAY,CAACE,UAAb,CAAwB,QAAxB;AACAF,sBAAY,CAACE,UAAb,CAAwB,OAAxB;AACAF,sBAAY,CAACE,UAAb,CAAwB,UAAxB;AACAF,sBAAY,CAACE,UAAb,CAAwB,WAAxB;AACAF,sBAAY,CAACE,UAAb,CAAwB,OAAxB;AACA,eAAKf,QAAL,GAAgB,IAAhB;AACA,eAAKU,SAAL,GAAiB,IAAjB;AACA,eAAKZ,KAAL,GAAa,IAAb;AACH;;;;;;;uBApPQqf,gB,EAAgB,uH,EAAA,yI,EAAA,uI,EAAA,iJ,EAAA,yH;AAAA,K;;;YAAhBA,gB;AAAgB,8B;AAAA,kFAHd,CAAC,wEAAD,EAAiB,sEAAjB,EAAgC,gFAAhC,CAGc,E;AAHqC,gB;AAAA,c;AAAA,w8K;AAAA;AAAA;;;AChBlE;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAAzc,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AAIA;;AAIA;;AAIA;;AAIA;;AAAiC;AAAA;;AAAA;;AAAA,mBAAS,YAAT;AAAwB,WAAxB;;AAC7B;;AACI;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AAA6B;;AAA6C;;AAC9E;;AACA;;AAGI;;AACA;;AACA;;AAAsB;;AAA8L;;AACpN;;AAAsB;;AAA2L;;AACjN;;AACA;;AACA;;AACA;;AAAsB;;AAAoF;AAAA;;AAAA;;AAAA,mBAAS,YAAT;AAAwB,WAAxB;;AAA0B;;AAAgB;;AAAI;;AACxJ;;AACA;;AAAsB;;AAAoD;AAAA;;AAAA;;AAAA,mBAAS,YAAT;AAAwB,WAAxB;;AAA0B;;AAAe;;AAAI;;AACvH;;AAGA;;AAAsB;;AAAoF;AAAA;;AAAA;;AAAA,mBAAS,YAAT;AAAwB,WAAxB;;AAA2B;;AAAa;;AAAI;;AACtJ;;AACA;;AAA4B;;AAAiC;AAAA;;AAAA;;AAAA,mBAAS,YAAT;AAAwB,WAAxB;;AAA0B;;AAAc;;AAAI;;AAC7G;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAAqB;;AACjD;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAAqF;AAAA,mBAAS,IAAA0c,kBAAA,CAAmB,SAAnB,CAAT;AAAsC,WAAtC;;AAAwC;;AAAO;;AACxI;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAAwB;;AACpD;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AACA;;AACJ;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAA6B;;AAAK;;AAAyB;;AAAK;;AAA0B;;AAAK;;AAA8B;;AACzJ;;AACA;;AACI;;AAAqF;;AAAO;;AAChG;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACA;;AACI;;AACI;;AAAwB;;AAAe;;AAC3C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAAoH;AAAA,mBAAS,IAAApa,MAAA,EAAT;AAAiB,WAAjB;;AAAmB;;AAAE;;AAC7I;;AACJ;;AACA;;AACJ;;AAEA;;AAsEA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAA6C;;AACzE;;AACA;;AACI;;AAA0F;;AAAO;;AACrG;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AAWJ;;AAEA;;AACI;;AAIA;;AAIA;;AACI;;AACA;;AACJ;;AACJ;;AACJ;;;;AA3NsC;;AAAA;;AAIe;;AAAA;;AAII;;AAAA;;AAIC;;AAAA;;AAcT;;AAAA;;AAKzB;;AAAA;;AACA;;AAAA;;AACsG;;AAAA;;AACF;;AAAA;;AAErG;;AAAA;;AACC;;AAAA;;AAGyC;;AAAA;;AAkC3B;;AAAA;;AACA;;AAAA;;AA2BoE;;AAAA;;AAMjG;;AAAA;;AAoFwD;;AAAA;;AActD;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;;;;;;;;;sED1MEma,gB,EAAgB;cAN5B,uDAM4B;eANlB;AACPvc,kBAAQ,EAAE,SADH;AAEPC,qBAAW,EAAE,0BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,sEAAjB,EAAgC,gFAAhC;AAHJ,S;AAMkB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEnB7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AC4BoB;;;;;;AAAwF;;;;;;AACxF;;;;;;AAA8D;;;;;;AAElE;;AACI;;AACJ;;;;;;AAGA;;AAA0G;;AAAiB;;;;;;;;AAC3H;;AAAmJ;AAAA;;AAAA;;AAAA;AAAA;;AAAnJ;;;;;;AAEA;;AAA2F;;AAAY;;;;;;;;AACvG;;AAA+H;AAAA;;AAAA;;AAAA;AAAA;;AAA/H;;;;;;AAUA;;AACI;;AACJ;;;;;;AAUA;;AACI;;AACJ;;;;;;AAWA;;AACI;;AACJ;;;;;;AAgBA;;AACI;;AACJ;;;;;;AAGJ;;AACI;;AACJ;;;;;;AAEA;;AACI;;AACJ;;;;;;;;AAhFJ;;AAAiD;AAAA;;AAAA;;AAAA;AAAA;;AAE7C;;AACI;;AACI;;AACA;;AACJ;;AACA;;AAGJ;;AACA;;AACI;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAAO;;AAAsC;;AACjD;;AAEA;;AAEA;;AACI;;AAAO;;AAAoB;;AAC3B;;AAAqF;AAAA;;AAAA;;AAAA;AAAA;;AAArF;;AACA;;AAGJ;;AAEA;;AACI;;AAAO;;AAAS;;AAChB;;AACI;;AAA8F;AAAA;;AAAA;;AAAA,+CAAmC,CAAnC,IAAoC,MAApC;AAAoC,SAApC;;AAA9F;;AACA;;AAA0B;;AAAC;;AAC3B;;AAAiF;AAAA;;AAAA;;AAAA,+CAAmC,CAAnC,IAAoC,MAApC;AAAoC,SAApC;;AAAjF;;AACJ;;AACA;;AAGJ;;AAEA;;AACI;;AAAO;;AAAO;;AACd;;AACI;;AAAoC;;AAAE;;AACtC;;AAAyF;AAAA;;AAAA;;AAAA,6CAAiC,CAAjC,IAAkC,MAAlC;AAAkC,SAAlC;;AAAzF;;AACA;;AAA+B;;AAAC;;AAChC;;AAAyF;AAAA;;AAAA;;AAAA,6CAAiC,CAAjC,IAAkC,MAAlC;AAAkC,SAAlC;;AAAzF;;AACJ;;AACA;;AAGJ;;AAEA;;AACI;;AAAO;;AAAoB;;AAC3B;;AACI;;AAAoC;;AAAE;;AACtC;;AAAyF;AAAA;;AAAA;;AAAA,6CAAiC,CAAjC,IAAkC,MAAlC;AAAkC,SAAlC;;AAAzF;;AACA;;AAA+B;;AAAC;;AAChC;;AAAyF;AAAA;;AAAA;;AAAA,6CAAiC,CAAjC,IAAkC,MAAlC;AAAkC,SAAlC;;AAAzF;;AACJ;;AACJ;;AAEA;;AACI;;AAAO;;AAAoB;;AAC3B;;AAAwF;AAAA;;AAAA;;AAAA;AAAA;;AAAxF;;AACA;;AAGJ;;AAEA;;AAIA;;AAIA;;AACI;;AACJ;;AACJ;;;;;;;;;;;;;;AAjFiB;;AAAA;;AACA;;AAAA;;AAEJ;;AAAA;;AAK+C;;AAAA;;AAC5B;;AAAA;;AAEiC;;AAAA;;AACrB;;AAAA;;AASiD;;AAAA;;AAC/E;;AAAA;;AAQ4F;;AAAA;;AAEb;;AAAA;;AAE/E;;AAAA;;AASuF;;AAAA;;AAEA;;AAAA;;AAEvF;;AAAA;;AASuF;;AAAA;;AAEA;;AAAA;;AAML;;AAAA;;AAClF;;AAAA;;AAKuB;;AAAA;;AAID;;AAAA;;;;;;;;AAa5B;;AAAuE;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;;;AACvG;;AAAwE;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAsB;;;;;;AAAtB;;AAAA;;;;;;AALhH;;AACI;;AACA;;AACA;;AACI;;AACA;;AACJ;;AACJ;;;;;;AAHuD;;AAAA;;AACA;;AAAA;;;;QDpGlDuc,kB;AAuBT,kCACY7f,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIYC,mBAJZ,EAKYiV,cALZ,EAMYC,aANZ,EAOYjV,SAPZ,EAO+B;AAAA;;AANnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAC,mBAAA,GAAAA,mBAAA;AACA,aAAAiV,cAAA,GAAAA,cAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAjV,SAAA,GAAAA,SAAA;AAER,aAAK4K,KAAL,GAAY,sBAAZ;AACA,aAAKxK,QAAL,GAAgB,KAAKN,eAAL,CAAqBO,WAArB,EAAhB;AACA,aAAKS,SAAL,GAAiB,KAAKhB,eAAL,CAAqB+R,YAArB,EAAjB;AACA,aAAK3R,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKF,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAKyf,kBAAL,GAA0B,IAA1B;AACA,aAAK9d,MAAL,GAAc,IAAd;AACA,aAAK+d,YAAL,GAAoB,CAApB;AACH;;;;mCAEO;AACJ,eAAK9e,kBAAL;AACA,eAAKkV,mBAAL;AACH;;;sCAEa;AACV;AACA,eAAK/V,SAAL,CAAeoB,IAAf;AACH;;;6CAEiB;AAAA;;AACd,eAAKrB,mBAAL,CAAyBc,kBAAzB,CAA4C,KAAKC,SAAL,CAAeU,GAA3D,EAAgEZ,SAAhE,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,sBAAI,CAACC,WAAL,GAAmBD,QAAQ,CAACC,WAA5B;AACAN,0BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,QAAI,CAACxC,WAApB,CAAlC;AACH;AACJ,WANL,EAOI,UAAAhB,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB;AACAkB,mBAAO,CAACC,GAAR,CAAYC,YAAZ;;AAEA,gBAAGA,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAdL;AAgBH;;;mCAEO;AAAA;;AACJ,eAAK7B,mBAAL,CAAyB8C,qBAAzB,CAA+C,KAAK3C,KAApD,EAA2D,KAAKqB,WAAhE,EAA6EX,SAA7E,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAG,CAACA,QAAJ,EAAa;AACT,sBAAI,CAACM,MAAL,GAAc,OAAd;AACH,aAFD,MAEO,IAAG,QAAI,CAACge,YAAL,IAAqB,QAAI,CAACA,YAAL,CAAkBC,IAA1C,EAA+C;AAClD,sBAAI,CAACC,SAAL,GAAiB,QAAI,CAACC,WAAL,CAAiB,QAAI,CAACC,sBAAtB,CAAjB;;AACA,sBAAI,CAAChL,cAAL,CAAoBiL,eAApB,CAAoC,QAAI,CAAChgB,GAAL,GAAS,gCAAT,GAA0C,QAAI,CAACsB,WAAL,CAAiBC,GAA/F,EAAoG,QAAI,CAACse,SAAzG,EAAoH,QAAI,CAAC5f,KAAzH,EAAgI,OAAhI,EAAyI,KAAzI,EACKtB,IADL,CACU,UAACif,MAAD,EAAgB;AAClB,wBAAI,CAAC6B,kBAAL,GAA0B,IAA1B;AACA,wBAAI,CAACI,SAAL,GAAiB,EAAjB;AACA,wBAAI,CAACve,WAAL,CAAiByD,MAAjB,GAA0B6Y,MAAM,CAACtc,WAAP,CAAmByD,MAA7C;AACA,wBAAI,CAACpD,MAAL,GAAc,SAAd;AACAX,4BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,QAAI,CAACxC,WAApB,CAAlC;AACA,wBAAI,CAACT,SAAL,GAAiB,QAAI,CAACS,WAAtB;AACH,eARL;AASH,aAXM,MAWA;AACH,sBAAI,CAACK,MAAL,GAAc,SAAd;AACAX,0BAAY,CAAC6C,OAAb,CAAqB,WAArB,EAAkC/C,IAAI,CAACgD,SAAL,CAAe,QAAI,CAACxC,WAApB,CAAlC;AACA,sBAAI,CAACT,SAAL,GAAiB,QAAI,CAACS,WAAtB;AACH;AACJ,WApBL,EAqBI,UAAAhB,KAAK,EAAG;AACJ,gBAAIoB,YAAY,GAASpB,KAAzB,CADI,CAEJ;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACR,WA5BD;AA6BH;;;mCAEUse,S,EAAgB;AAAA;;AACvB,eAAKN,YAAL,GAAoBM,SAAS,CAACC,MAAV,CAAiBC,KAAjB,CAAuB,CAAvB,CAApB;;AAEA,cAAI,KAAKR,YAAL,IAAqB,KAAKA,YAAL,CAAkBC,IAA3C,EAAiD;AAC7C,gBAAIQ,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,kBAAM,CAACE,MAAP,GAAgB,UAACL,SAAD,EAAoB;AAChC,sBAAI,CAACM,QAAL,GAAgBN,SAAS,CAACC,MAAV,CAAiBtC,MAAjC;;AACA,sBAAI,CAAC4C,YAAL,CAAkB,QAAI,CAACD,QAAvB;AACH,aAHD;;AAIAH,kBAAM,CAACK,aAAP,CAAqB,KAAKd,YAA1B;AACH;AACJ;;;qCAEYe,K,EAAO;AAAA;;AAChB,eAAKhB,YAAL,GAAoB,KAAKA,YAAL,GAAoB,CAAxC;AACA,cAAIiB,WAAW,GAAG,CAAC,CAAnB;AAEA,eAAKC,mBAAL,GAA2B,KAAK5L,aAAL,CAAmB6L,SAAnB,CAA6BH,KAA7B,KAAqC,OAAK,IAA1C,CAA3B,CAJgB,CAKhB;;AAEA,cAAII,UAAU,GAAG,EAAjB;;AAEA,cAAG,KAAKF,mBAAL,GAA2B,EAA9B,EAAiC;AAC7B,gBAAIE,UAAU,GAAG,EAAjB;AAEH,WAHD,MAGO,IAAG,KAAKF,mBAAL,GAA2B,EAA9B,EAAiC;AACpC,gBAAIE,UAAU,GAAG,EAAjB;AAEH,WAHM,MAGA,IAAG,KAAKF,mBAAL,GAA2B,CAA9B,EAAgC;AACnC,gBAAIE,UAAU,GAAG,EAAjB;AAEH,WAHM,MAGA,IAAG,KAAKF,mBAAL,GAA2B,GAA9B,EAAkC;AACrC,gBAAIE,UAAU,GAAG,EAAjB;AACH;;AAED,eAAK9L,aAAL,CAAmBwL,YAAnB,CAAgCE,KAAhC,EAAuCC,WAAvC,EAAoDG,UAApD,EAAgE,EAAhE,EAAoEniB,IAApE,CACI,UAAAif,MAAM,EAAI;AACN,oBAAI,CAACmC,sBAAL,GAA8BnC,MAA9B;AACA,oBAAI,CAAC6B,kBAAL,GAA0B7B,MAA1B;AAEA,oBAAI,CAACmD,qBAAL,GAA6B,QAAI,CAAC/L,aAAL,CAAmB6L,SAAnB,CAA6BjD,MAA7B,KAAsC,OAAK,IAA3C,CAA7B,CAJM,CAKN;;AAEA,gBAAG,QAAI,CAACmD,qBAAL,GAA6B,GAA7B,IAAoC,QAAI,CAACrB,YAAL,IAAqB,CAA5D,EAA8D;AAC1D,sBAAI,CAACA,YAAL,GAAoB,CAApB;AACA,qBAAO,QAAI,CAACK,sBAAZ;AACH,aAHD,MAGO;AACH,sBAAI,CAACS,YAAL,CAAkB,QAAI,CAACT,sBAAvB;AACH;AACJ,WAdL;AAeC;;;oCAEOA,sB,EAAsB;AAC9B;AACA,cAAMiB,SAAS,GAAG,KAAKC,aAAL,CAAmBlB,sBAAsB,CAACmB,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAnB,CAAlB,CAF8B,CAI9B;;AACA,cAAMrB,SAAS,GAAG,IAAIsB,IAAJ,CAAS,CAACH,SAAD,CAAT,EAAsB,YAAtB,EAAoC;AAAEI,gBAAI,EAAE;AAAR,WAApC,CAAlB;AACA,iBAAO,KAAKvB,SAAL,GAAiBA,SAAxB;AACH;;;sCAEawB,O,EAAS;AACnB,cAAMC,UAAU,GAAGnZ,MAAM,CAACoZ,IAAP,CAAYF,OAAZ,CAAnB;AACA,cAAMvV,WAAW,GAAG,IAAI0V,WAAJ,CAAgBF,UAAU,CAAC9W,MAA3B,CAApB;AACA,cAAMiX,SAAS,GAAG,IAAI1V,UAAJ,CAAeD,WAAf,CAAlB;;AAEA,eAAK,IAAI4V,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,UAAU,CAAC9W,MAA/B,EAAuCkX,CAAC,EAAxC,EAA4C;AACxCD,qBAAS,CAACC,CAAD,CAAT,GAAeJ,UAAU,CAACK,UAAX,CAAsBD,CAAtB,CAAf;AACH;;AAED,cAAME,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACJ,SAAD,CAAT,EAAsB;AAAEL,gBAAI,EAAE;AAAR,WAAtB,CAAb;AACA,iBAAOQ,IAAP;AACH;;;8CAEkB;AACf,cAAG,CAACzZ,MAAM,CAACyC,YAAX,EAAwB;AACpB,iBAAK+L,OAAL,GAAe,KAAf;AACH,WAFD,MAEO;AACH,iBAAKA,OAAL,GAAe,IAAf;AACA,iBAAK7L,UAAL,GAAkBF,YAAY,CAACE,UAA/B;AACH;AACJ;;;8CAEkB;AAAA;;AACfF,sBAAY,CAACC,iBAAb,CAAgC,UAASC,UAAT,EAAmB;AAC/C,gBAAIA,UAAU,IAAI,SAAlB,EAA4B,CACxB;AACH;AACJ,WAJD,EAIGnM,IAJH,CAIQ,UAAAC,CAAC,EAAI;AACT,oBAAI,CAACmM,KAAL;AACH,WAND;AAOH;;;gCAEI;AAAA;;AACD,cAAGC,SAAS,CAACC,aAAb,EAA2B;AACvB,gBAAMhL,KAAK,GAAG,KAAKA,KAAnB;AACA+K,qBAAS,CAACC,aAAV,CAAwBC,eAAxB,GAA0CvM,IAA1C,CAA+C,UAAAwM,GAAG,EAAI;AAElD,sBAAI,CAACC,YAAL,GAAoBzM,IAApB,CAA0B,UAAS0M,GAAT,EAAY;AAClCF,mBAAG,CAACG,WAAJ,CAAgB3K,SAAhB,CAA0B;AACtB4K,iCAAe,EAAE,IADK;AAEtBC,sCAAoB,EAAEH;AAFA,iBAA1B,EAGG1M,IAHH,CAGQ,UAAAqJ,GAAG;AAAA,yBAAIA,GAAG,CAACyD,MAAJ,EAAJ;AAAA,iBAHX,EAIC9M,IAJD,CAIM,UAAA+M,YAAY,EAAI;AAClBC,uBAAK,CAAC,wDAAO3L,GAAP,GAAa,WAAd,EAA2B;AAC5B4L,0BAAM,EAAE,MADoB;AAE5BC,2BAAO,EAAE;AAAE,sCAAgB,kBAAlB;AAAsC,uCAAiB5L;AAAvD,qBAFmB;AAG5B+I,wBAAI,EAAElI,IAAI,CAACgD,SAAL,CAAe4H,YAAf;AAHsB,mBAA3B,CAAL,UAKOlK,OAAO,CAACC,GALf;AAMH,iBAXD;AAYH,eAbD;AAcH,aAhBD;AAiBH,WAnBD,MAmBO,CACH;AACH;AACJ;;;uCAEW;AACR,cAAMxB,KAAK,GAAG,KAAKA,KAAnB;AACA,iBAAO0L,KAAK,CAAC,KAAK3L,GAAL,GAAW,KAAZ,EAAmB;AAC3B6L,mBAAO,EAAE;AAAE,+BAAiB5L;AAAnB;AADkB,WAAnB,CAAL,CAGNtB,IAHM,CAGD,UAAAqJ,GAAG;AAAA,mBAAIA,GAAG,CAAC8D,WAAJ,EAAJ;AAAA,WAHF,EAIP;AAJO,WAKNnN,IALM,CAKD,UAAA0M,GAAG;AAAA,mBAAI,IAAIU,UAAJ,CAAeV,GAAf,CAAJ;AAAA,WALF,CAAP;AAMH;;;;;;;uBArOQmU,kB,EAAkB,+H,EAAA,uH,EAAA,yI,EAAA,iJ,EAAA,uI,EAAA,2I,EAAA,yH;AAAA,K;;;YAAlBA,kB;AAAkB,gC;AAAA,kFAHhB,CAAC,gFAAD,EAAqB,wEAArB,EAAqC,sEAArC,CAGgB,E;AAHmC,e;AAAA,a;AAAA,osG;AAAA;AAAA;ACblE;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAA3c,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AAEA;;AACI;;AAEA;;AACI;;AACI;;AACJ;;AACJ;;AAGA;;AAuFA;;AAQJ;;AACJ;;AAxHA;;;;AAmBgB;;AAAA;;AAK0E;;AAAA;;AAuF7E;;AAAA;;;;;;;;;sED/FA2c,kB,EAAkB;cAN9B,uDAM8B;eANpB;AACPzc,kBAAQ,EAAE,WADH;AAEPC,qBAAW,EAAE,4BAFN;AAGPC,mBAAS,EAAE,CAAC,gFAAD,EAAqB,wEAArB,EAAqC,sEAArC;AAHJ,S;AAMoB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEhB/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;;;ACeQ;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAEA;;AACI;;AACI;;;;;;;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;AAIR;;AACI;;AACI;;;;;;;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;AAsBgB;;AACI;;AAA6C;;AAAqB;;AACtE;;;;;;AADiD;;AAAA;;;;;;AALzD;;AACI;;AACA;;AACI;;AAAuB;;AAAS;;AAChC;;AAGJ;;AACJ;;;;;;AAJa;;AAAA;;;;;;AAOiD;;AAAkC;;AAAsC;;;;;;AAAtC;;AAAA;;;;;;;;;;;;AAC5F;;AAAwE;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAsG;;AAAyD;;;;;;AAApO;;;;;;AAFP;;AACI;;AAA0D;;AAA+E;;AACzI;;AACJ;;;;;;AAFoE;;AAAA;;AACkD;;AAAA;;;;;;AAGtH;;AACI;;AAAkC;;AAAS;;AAAwB;;AAA8B;;AAAO;;AAC5G;;;;;;AADuE;;AAAA;;;;;;AA7BnF;;AACI;;AACI;;AACI;;AACI;;AAAyC;;AAAwC;;AACrF;;AAEA;;AACI;;AAAkC;;AAA2B;;AAC7D;;AAAY;;AAA2B;;AACvC;;AAAuD;;AAA8B;;AACzF;;AAEA;;AAUA;;AAKA;;AAGJ;;AACJ;;AACJ;;;;;;;;AA7ByD;;AAAA;;AAIP;;AAAA;;AACtB;;AAAA;;AAC2C;;AAAA;;AAGpB;;AAAA;;AAUP;;AAAA;;AAKK;;AAAA;;;;;;AA7BrD;;AACI;;AAkCJ;;;;;;AAlCS;;AAAA;;;;;;AAuCL;;AACI;;AAAsC;;AAA4C;;AAClF;;AAA+B;;AAAyD;;AAC5F;;;;;;AADmC;;AAAA;;;;;;AAEnC;;AACI;;AAAsC;;AAAqD;;AAC3F;;AAA+B;;AAAoB;;AACvD;;;;;;AADmC;;AAAA;;;;;;AAEnC;;AACI;;AAA2C;;AAAiD;;AAC5F;;AAA+B;;AAA2B;;AAC9D;;;;;;AADmC;;AAAA;;;;;;;;AAEnC;;AACI;;AAAwD;AAAA;;AAAA;;AAAA;AAAA;;AAA4C;;AAAoC;;AACxI;;AAAwD;AAAA;;AAAA;;AAAA;AAAA;;AAA4C;;AAAqC;;AAC7I;;;;;;AAUI;;AACI;;AAAoD;;AAAM;;AAAyC;;AAAgC;;AAAO;;AAC9I;;;;;;AADuG;;AAAA;;;;;;AAKnG;;AAAsF;;AAAM;;AAAoC;;AAA6C;;AAAQ;;;;;;AAArD;;AAAA;;;;;;AAChI;;AAAqF;;AAAM;;AAAoC;;AAA4D;;AAAQ;;;;;;AAApE;;AAAA;;;;;;AAJnI;;AAGI;;AACA;;AACJ;;;;;;AAFoE;;AAAA;;AACA;;AAAA;;;;;;AAGpE;;AAA2C;;AAA0G;;AAAiC;;AAAc;;AAAS;;;;;;AAE7M;;;;;;;;AACA;;AAA2E;;AAAqC;AAAA;;AAAA;;AAAA;AAAA;;AAA+B;;AAAoC;;AAAuB;;AAAS;;;;;;AArBvN;;AACI;;AACA;;AACI;;AAAoD;;AAAQ;;AAAS;;AAAyC;;AAA8B;;AAAO;;AAAS;;AAChK;;AACA;;AACI;;AAAoD;;AAAe;;AAAwC;;AAA4B;;AAAO;;AAClJ;;AACA;;AAGA;;AAOA;;AAEA;;AACA;;AACJ;;;;;;AAnBsH;;AAAA;;AAGH;;AAAA;;AAEzF;;AAAA;;AAGL;;AAAA;;AAOd;;AAAA;;AAEsB;;AAAA;;AACtB;;AAAA;;;;;;AAvCX;;AACI;;AAIA;;AAIA;;AAIA;;AAKA;;AAuBJ;;;;;;AAxCqB;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;AAIM;;AAAA;;AAKlB;;AAAA;;;;;;AAwCL;;AACI;;AACA;;AAA+C;;AAAe;;AAC9D;;AAAqD;;AAAsB;;AAC/E;;;;;;AADyD;;AAAA;;;;;;AAKrD;;AAAmG;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AACnG;;AAAoG;;AAAwB;;;;;;AAAxB;;AAAA;;;;;;AAExG;;AACI;;AACI;;AACA;;AAA+C;;AAAM;;AACrD;;AAAqD;;AAAyB;;AAClF;;AACA;;AACI;;AACA;;AAA+C;;AAAgB;;AAC/D;;AAAqD;;AAAQ;;AAAqB;;AAAS;;AAC/F;;AACJ;;;;;;AAP6D;;AAAA;;AAKQ;;AAAA;;;;;;AAMjE;;AAA2E;;AAA0B;;;;;;AAA1B;;AAAA;;;;;;AAC3E;;AAA4G;;AAAgB;;AAA8B;;AAAkC;;AAAO;;;;;;AAAvF;;AAAA;;AAA8C;;AAAA;;;;;;AAC1J;;AAA6G;;AAAE;;AAA8B;;AAAkC;;AAAO;;;;;;AAAzC;;AAAA;;;;;;AAK7I;;AAAuH;;AAAoB;;;;;;AAApB;;AAAA;;;;;;AACvH;;AAAsH;;AAAoB;;;;;;AAApB;;AAAA;;;;;;AACtH;;AAA8G;;AAAoB;;;;;;AAApB;;AAAA;;;;;;AAC9G;;AAA+G;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;AAGnH;;AACI;;AACA;;AAA+C;;AAAc;;AAC7D;;AAAuD;;AAAoB;;AAC/E;;;;;;AAD2D;;AAAA;;;;;;AA3C/D;;AACI;;AAKA;;AACI;;AACA;;AAA+C;;AAAM;;AACrD;;AACA;;AACJ;;AACA;;AAYA;;AACI;;AACA;;AAA+C;;AAAe;;AAC9D;;AACA;;AACA;;AACJ;;AACA;;AACI;;AACA;;AAA+C;;AAAS;;AACxD;;AACA;;AACA;;AACA;;AAEJ;;AACA;;AAKJ;;;;;;AA5CqB;;AAAA;;AAQV;;AAAA;;AACA;;AAAA;;AAEF;;AAAA;;AAeoD;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAKE;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAG1C;;AAAA;;;;;;AAOrB;;AAA0F;;AAAuG;;AAAwC;;AAAwB;;AAAS;;;;QDhKrQ6e,gB;AAkBT,gCACYniB,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIYuD,cAJZ,EAKYtD,mBALZ,EAMYC,SANZ,EAM+B;AAAA;;AALnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAuD,cAAA,GAAAA,cAAA;AACA,aAAAtD,mBAAA,GAAAA,mBAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AAER,aAAKE,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKW,SAAL,GAAiB,KAAKhB,eAAL,CAAqB+R,YAArB,EAAjB;AACA,aAAKtQ,WAAL,GAAmB,KAAKT,SAAxB;AACA,aAAKc,MAAL,GAAc,IAAd;AACH;;;;mCAEO;AACJ,eAAKlB,QAAL;AACH;;;mCAEO;AAAA;;AACJ,eAAKd,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,gBAAGA,MAAM,CAAC,IAAD,CAAT,EAAgB;AACZ,sBAAI,CAACxB,EAAL,GAAUwB,MAAM,CAAC,IAAD,CAAhB;;AACA,sBAAI,CAAC2G,aAAL,CAAmB,QAAI,CAACnI,EAAxB;AACH;;AAED,gBAAGwB,MAAM,CAAC,QAAD,CAAT,EAAoB;AAChB,sBAAI,CAACwJ,MAAL,GAAcxJ,MAAM,CAAC,QAAD,CAApB;AACH;AACJ,WATD;;AAWA,cAAI4G,cAAc,GAAGxG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAX,CAArB;;AAEA,cAAGqG,cAAc,IAAI,WAAlB,IAAiCA,cAAc,IAAI,IAAtD,EAA2D;AACvDtG,wBAAY,CAACE,UAAb,CAAwB,gBAAxB;AACH;AACJ;;;sCAGa;AACV;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA,eAAKnB,SAAL,CAAeoB,IAAf;AACH;;;sCAEaoG,Q,EAAQ;AAAA;;AAClB,eAAKnE,cAAL,CAAoBiE,aAApB,CAAkC,KAAKpH,KAAvC,EAA8CsH,QAA9C,EAAwD,CAAxD,EAA2D5G,SAA3D,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,sBAAI,CAACmG,MAAL,GAAcnG,QAAQ,CAACmG,MAAvB;AAEA,kBAAIua,EAAE,GAAI,QAAI,CAACva,MAAL,CAAYM,QAAZ,GAAqB,GAAtB,GAA8B,QAAI,CAACN,MAAL,CAAYI,KAAZ,GAAkB,GAAzD;AACA,sBAAI,CAACoa,SAAL,GAAiBD,EAAE,GAAG,GAAtB;AAEA,kBAAIE,GAAG,GAAI,QAAI,CAACza,MAAL,CAAYxD,KAAZ,GAAkB,GAAnB,GAA2B,QAAI,CAACwD,MAAL,CAAYM,QAAZ,GAAqB,GAA1D;AACA,sBAAI,CAACoa,UAAL,GAAkBD,GAAG,GAAG,GAAxB;AAEA,kBAAIE,GAAG,GAAI,QAAI,CAAC3a,MAAL,CAAYxD,KAAZ,GAAkB,GAAnB,GAA2B,QAAI,CAACwD,MAAL,CAAYM,QAAZ,GAAqB,GAAhD,GAAwD,QAAI,CAACN,MAAL,CAAYO,KAAZ,GAAkB,GAApF;AACA,sBAAI,CAACqa,UAAL,GAAkBD,GAAG,GAAG,GAAxB;AAEA,kBAAIE,GAAG,GAAI,QAAI,CAAC7a,MAAL,CAAYxD,KAAZ,GAAkB,GAAnB,GAA2B,QAAI,CAACwD,MAAL,CAAYI,KAAZ,GAAkB,GAA7C,GAAqD,QAAI,CAACJ,MAAL,CAAYO,KAAZ,GAAkB,GAAjF;AACA,sBAAI,CAACua,UAAL,GAAkBD,GAAG,GAAG,GAAxB,CAbQ,CAeR;;AACA,kBAAIE,GAAG,GAAI,QAAI,CAAC/a,MAAL,CAAYI,KAAZ,GAAkB,GAAnB,GAA2B,QAAI,CAACJ,MAAL,CAAYM,QAAZ,GAAqB,GAA1D;AACA,sBAAI,CAAC0a,UAAL,GAAkBD,GAAG,GAAG,GAAxB;AACH;AACJ,WArBL,EAsBI,UAAAjiB,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AACA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WA5BL;AA8BH;;;yCAEgB4F,Q,EAAUE,S,EAAW9F,M,EAAM;AAAA;;AACxC,cAAGA,MAAM,IAAI,CAAb,EAAe;AACX,gBAAI8gB,SAAS,GAAG,CAAC,oBAAD,CAAhB;AACH,WAFD,MAEO;AACH,gBAAIA,SAAS,GAAG,CAAC,oBAAD,CAAhB;AACH;;AAED,eAAKrf,cAAL,CAAoBsE,gBAApB,CAAqC,KAAKzH,KAA1C,EAAiDsH,QAAjD,EAA2DE,SAA3D,EAAsE9F,MAAtE,EAA8EhB,SAA9E,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,kBAAGM,MAAM,IAAI,CAAb,EAAe;AACX,wBAAI,CAACf,kBAAL;AACH,eAHO,CAKR;;;AACA,sBAAI,CAACb,SAAL,CAAeoB,IAAf;AACH;AACJ,WAVL,EAWI,UAAAb,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAlBL;AAoBH;;;6CAEiB;AAAA;;AACd,eAAK7B,mBAAL,CAAyBc,kBAAzB,CAA4C,KAAKC,SAAL,CAAeU,GAA3D,EAAgEZ,SAAhE,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY;AACR,sBAAI,CAACC,WAAL,GAAmBD,QAAQ,CAACC,WAA5B;AACA,sBAAI,CAACO,OAAL,GAAeR,QAAQ,CAACC,WAAT,CAAqBO,OAApC;AACA,sBAAI,CAACE,IAAL,GAAYV,QAAQ,CAACC,WAAT,CAAqBS,IAAjC;;AACA,sBAAI,CAACM,iBAAL;AACH;AACJ,WARL,EASI,UAAA/B,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAhBL;AAkBH;;;4CAEgB;AAAA;;AACb,cAAG,KAAK6F,MAAL,CAAYI,KAAZ,IAAqB,IAAxB,EAA6B;AACzB,gBAAIC,GAAG,GAAI,KAAKL,MAAL,CAAYM,QAAZ,GAAqB,IAAtB,GAA+B,KAAKN,MAAL,CAAYI,KAAZ,GAAkB,IAAjD,GAA0D,KAAKJ,MAAL,CAAYO,KAAZ,GAAkB,IAAtF;AACA,iBAAKP,MAAL,CAAYM,QAAZ,GAAuBD,GAAG,GAAG,IAA7B;AACH;;AAED,cAAG,KAAKL,MAAL,CAAYM,QAAZ,IAAwB,CAA3B,EAA6B;AACzB,gBAAG,KAAKjG,OAAL,GAAe,CAAlB,EAAoB;AAChB,kBAAImG,GAAG,GAAI,KAAKnG,OAAL,GAAa,IAAd,GAAuB,KAAK2F,MAAL,CAAYM,QAAZ,GAAqB,IAAtD;AACA,mBAAKrF,SAAL,GAAiBuF,GAAG,GAAG,IAAvB;;AAEA,kBAAG,KAAKvF,SAAL,GAAiB,CAApB,EAAsB;AAClB,qBAAKZ,OAAL,GAAe,KAAKY,SAApB;AACH;;AAED,kBAAG,KAAKA,SAAL,IAAkB,CAArB,EAAuB;AACnB,qBAAKZ,OAAL,GAAe,CAAf;AACA,qBAAKE,IAAL,GAAY,KAAKU,SAAjB;AACH;AACJ,aAZD,MAYO,IAAI,KAAKZ,OAAL,IAAgB,CAApB,EAAsB;AACzB,kBAAIoG,IAAI,GAAI,KAAKlG,IAAL,GAAU,IAAX,GAAoB,KAAKyF,MAAL,CAAYM,QAAZ,GAAqB,IAApD;AACA,mBAAKrF,SAAL,GAAiBwF,IAAI,GAAG,IAAxB;AACA,mBAAKlG,IAAL,GAAY,KAAKU,SAAjB;AACH;AAEJ,WAnBD,MAmBO;AACH,iBAAKnB,WAAL,CAAiBU,SAAjB,GAA6B,KAAKV,WAAL,CAAiBU,SAAjB,GAA8B,KAAKwF,MAAL,CAAYM,QAAZ,GAAuB,CAAC,CAAnF;AACH;;AAED,eAAKxG,WAAL,CAAiBO,OAAjB,GAA2B,KAAKA,OAAhC;AACA,eAAKP,WAAL,CAAiBS,IAAjB,GAAwB,KAAKA,IAA7B;;AAGA,eAAKjC,mBAAL,CAAyB8C,qBAAzB,CAA+C,KAAK3C,KAApD,EAA2D,KAAKqB,WAAhE,EAA6EX,SAA7E,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAH,EAAY,CACX;AACJ,WAJL,EAKI,UAAAf,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WAZL;AAcH;;;6CAGiB;AACd,cAAG,KAAKL,WAAL,CAAiBsD,SAAjB,IAA8B,0BAAjC,EAA4D;AACxDuD,kBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,8EAA8E,KAAK/G,WAAL,CAAiB6I,MAA/F,GAAwG,2KAA/H;AAEH,WAHD,MAGO;AACHhC,kBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,8EAA8E,KAAK/G,WAAL,CAAiB6I,MAA/F,GAAwG,2KAA/H;AACH;AACJ;;;wCAGed,Q,EAAQ;AACpBrI,sBAAY,CAAC6C,OAAb,CAAqB,gBAArB,EAAuC/C,IAAI,CAACgD,SAAL,CAAeuF,QAAf,CAAvC;AACH;;;iCAGQf,G,EAAG;AACRH,gBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,2CAA2CC,GAA3C,GAAiD,4CAAjD,GAAgG,KAAKhH,WAAL,CAAiB6I,MAAxI;AACH;;;iCAEQ7B,G,EAAG;AACRH,gBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,SAASC,GAAhC;AACH;;;;;;;uBAjOQwZ,gB,EAAgB,+H,EAAA,uH,EAAA,yI,EAAA,uI,EAAA,iJ,EAAA,yH;AAAA,K;;;YAAhBA,gB;AAAgB,8B;AAAA,kFAHd,CAAC,wEAAD,EAAiB,sEAAjB,EAAgC,gFAAhC,CAGc,E;AAHqC,e;AAAA,a;AAAA,gvH;AAAA;AAAA;ACblE;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAAjf,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AAA4B;;AAAe;;AAC/C;;AACJ;;AACJ;;AACA;;AAEA;;AACI;;AAMA;;AAMA;;AAMA;;AAqCA;;AAEA;;AA2CA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAgB;;AAC5C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAA0F;AAAA,mBAAS,IAAA6E,gBAAA,yCAAiD,CAAjD,CAAT;AAA4D,WAA5D;;AAA8D;;AAAE;;AAC9J;;AACJ;;AACJ;;AACJ;;AAEA;;AA+CA;;AAGA;;AAEA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAmB;;AAC/C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAA0F;AAAA,mBAAS,IAAAA,gBAAA,iBAA6B,CAA7B,EAAgC,CAAhC,CAAT;AAA2C,WAA3C;;AAA6C;;AAAE;;AAC7I;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAkB;;AAC9C;;AACA;;AACI;;AAAoF;;AAAQ;;AAC5F;;AAA0F;AAAA,mBAAS,IAAAA,gBAAA,iBAA6B,CAA7B,EAAgC,CAAhC,CAAT;AAA2C,WAA3C;;AAA6C;;AAAE;;AAC7I;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;AAjM6C;;AAAA;;AAMC;;AAAA;;AAMA;;AAAA;;AAMpB;;AAAA;;AAuCb;;AAAA;;AAyDA;;AAAA;;AA+CF;;AAAA;;;;;;;;;;sEDhKEoa,gB,EAAgB;cAN5B,uDAM4B;eANlB;AACP/e,kBAAQ,EAAE,SADH;AAEPC,qBAAW,EAAE,0BAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,sEAAjB,EAAgC,gFAAhC;AAHJ,S;AAMkB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEhB7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACqBwB;;;;;;AAAsF;;;;;;AACtF;;;;;;AAA8D;;;;;;AAElE;;AACI;;AACJ;;;;;;;;AAIA;;AAAiJ;AAAA;;AAAA;;AAAA;AAAA;;AAAjJ;;;;;;AACA;;AAAwG;;AAAiB;;;;;;;;AAIzH;;AAAuH;AAAA;;AAAA;;AAAA;AAAA;;AAAvH;;;;;;AACA;;AAAmF;;AAAY;;;;;;AAU/F;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;AAaI;;AAAmD;;AAA0B;;;;;;AAA1B;;AAAA;;;;;;AACnD;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAA4E;;AAAE;;;;;;AAC9E;;AAAkD;;AAAE;;;;;;AAepD;;AAAuE;;AAAoB;;;;;;AAA9C;;AAA0B;;AAAA;;;;;;AAQvE;;AAAkE;;AAAkB;;;;;;AAA1C;;AAAwB;;AAAA;;;;;;AAWlE;;AACI;;AAAsB;;AAAU;;AAEhC;;AACI;;AACJ;;AACJ;;;;;;AAL0B;;AAAA;;AAGlB;;AAAA;;;;;;AARZ;;AACI;;AACA;;AAAwC;;AAAqB;;AAC7D;;AAA8B;;AAA2B;;AAA4B;;AAA0B;;AAC/G;;AAOJ;;;;;;AAT4C;;AAAA;;AACV;;AAAA;;AAAuD;;AAAA;;AAChF;;AAAA;;;;;;AALb;;AACI;;AAYJ;;;;;;AAZS;;AAAA;;;;;;AAsBL;;AACI;;AAAsB;;AAAkB;;AAExC;;AACI;;AACJ;;AACJ;;;;;;AAL0B;;AAAA;;AAGlB;;AAAA;;;;;;AALZ;;AACI;;AAOJ;;;;;;AAPS;;AAAA;;;;;;AAsBT;;AACI;;AACJ;;;;;;AAEA;;AACI;;AACJ;;;;;;AAEA;;AACI;;AACJ;;;;;;AAEA;;AACI;;AACJ;;;;;;;;AAjKJ;;AAAiD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAE7C;;AACI;;AACI;;AACA;;AACJ;;AACA;;AAGJ;;AAEA;;AACI;;AACA;;AAIA;;AACA;;AACA;;AACA;;AAAO;;AAAqC;;AAChD;;AAEA;;AAED;;AACK;;AAAuB;;AAAmB;;AAC1C;;AAAuH;AAAA;;AAAA;;AAAA;AAAA;;AAAvH;;AACA;;AAGL;;AAEA;;AACK;;AAAuB;;AAAW;;AAClC;;AAA0F;AAAA;;AAAA;;AAAA;AAAA;;AAAiE;;AAC3J;;AAGL;;AAEA;;AACI;;AAA+B;;AAAM;;AACrC;;AAA0B;;AAAC;;AAC3B;;AAAwE;AAAA;;AAAA;;AAAA;AAAA;;AAAxE;;AACA;;AAA0B;;AAAK;;AACnC;;AAEC;;AACI;;AACA;;AACI;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACR;;AAEA;;AAEA;;AACI;;AAA+B;;AAAiB;;AAChD;;AAAsF;AAAA;;AAAA;;AAAA;AAAA;;AAAtF;;AACA;;AAA0B;;AAAI;;AAClC;;AAEA;;AACI;;AAAO;;AAAmB;;AAC1B;;AAA8C;AAAA;;AAAA;;AAAA;AAAA;;AAC1C;;AAAkB;;AAAwB;;AAC1C;;AACJ;;AACJ;;AAEA;;AACI;;AAAO;;AAAqB;;AAC5B;;AAA0C;AAAA;;AAAA;;AAAA;AAAA;;AACtC;;AAAkB;;AAAsB;;AACxC;;AACJ;;AACJ;;AAEA;;AAA6B;;AAAmB;;AAEhD;;AAeA;;AACA;;AACI;;AAA2F;AAAA;;AAAA;;AAAA;AAAA;;AAA3F;;AACA;;AAA0F;AAAA;;AAAA;;AAAA;AAAA;;AAA1F;;AACA;;AAA0F;AAAA;;AAAA;;AAAA;AAAA;;AAA1F;;AACJ;;AAEA;;AAUA;;AACI;;AAAoH;AAAA;;AAAA;;AAAA;AAAA;;AAApH;;AACA;;AAAyG;AAAA;;AAAA;;AAAA;AAAA;;AAAzG;;AACJ;;AAEA;;AACI;;AAA4B;AAAA;;AAAA;;AAAA;AAAA;;AAAmB;;AACnD;;AAEA;;AACI;;AAA2B;AAAA;;AAAA;;AAAA;AAAA;;AAA8B;;AAAmB;;AAChF;;AAEA;;AAIA;;AAIA;;AAIA;;AAKA;;AACI;;AACJ;;AACJ;;;;;;;;;;;;AAnKiB;;AAAA;;AACA;;AAAA;;AAEJ;;AAAA;;AAMmB;;AAAA;;AAC4B;;AAAA;;AAIhB;;AAAA;;AACqB;;AAAA;;AAS8D;;AAAA;;AACjH;;AAAA;;AAOoF;;AAAA;;AACpF;;AAAA;;AAQiE;;AAAA;;AAO5D;;AAAA;;AACD;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAO4E;;AAAA;;AAMxC;;AAAA;;AAElC;;AAAA;;AAM8B;;AAAA;;AAE9B;;AAAA;;AAMX;;AAAA;;AAiB0F;;AAAA;;AACD;;AAAA;;AACA;;AAAA;;AAGzF;;AAAA;;AAWmH;;AAAA;;AACX;;AAAA;;AAW7E;;AAAA;;AAIC;;AAAA;;AAID;;AAAA;;AAIA;;AAAA;;AAMsD;;AAAA;;;;;;;;AAI1F;;AACI;;AAAuB;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAsB;;AAAS;;AACxH;;AAA4B;;AAAgC;AAAA;;AAAA;;AAAA;AAAA;;AAAmC;;AAA2B;;AAAS;;AACvI;;;;QDtKCyf,kB;AA2BT,kCACY/iB,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIY8R,gBAJZ,EAKYzF,kBALZ,EAMYpM,mBANZ,EAOYiV,cAPZ,EAQYC,aARZ,EASYjV,SATZ,EAS+B;AAAA;;AARnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAA8R,gBAAA,GAAAA,gBAAA;AACA,aAAAzF,kBAAA,GAAAA,kBAAA;AACA,aAAApM,mBAAA,GAAAA,mBAAA;AACA,aAAAiV,cAAA,GAAAA,cAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAjV,SAAA,GAAAA,SAAA;AAER,aAAKc,SAAL,GAAiB,KAAKhB,eAAL,CAAqB+R,YAArB,EAAjB;AACA,aAAK3R,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKF,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAKyf,kBAAL,GAA0B,IAA1B;AACA,aAAKC,YAAL,GAAoB,CAApB;AACA,aAAK/d,MAAL,GAAc,IAAd;AACA,aAAKge,YAAL,GAAoB,IAApB;AACA,aAAK/X,KAAL,GAAa,IAAI,mDAAJ,CAAU,IAAV,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwC,IAAxC,EAA8C,IAA9C,CAAb;AACA,aAAKsP,YAAL,GAAoB,IAAI,iEAAJ,CAAiB,IAAjB,EAAuB,IAAvB,EAA6B,IAA7B,EAAmC,IAAnC,CAApB;AACA,aAAKyL,kBAAL,GAA0B,EAA1B;AACA,aAAK3K,GAAL,GAAW,EAAX;AACH;;;;mCAEO;AACJ,eAAKpF,iBAAL;AACA,eAAK4I,gBAAL;AACA,eAAK/a,QAAL;AACH;;;sCAEa;AACV;AACA,eAAKV,SAAL,CAAeoB,IAAf;AACH;;;mCAEO;AAAA;;AACJ,eAAKxB,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,oBAAI,CAACxB,EAAL,GAAU,CAAV;;AAEA,gBAAGwB,MAAM,CAAC,IAAD,CAAN,IAAgB,CAAnB,EAAqB;AACjB,sBAAI,CAACxB,EAAL,GAAUwB,MAAM,CAAC,IAAD,CAAhB;AACH;;AAED,gBAAG,QAAI,CAACxB,EAAL,IAAW,CAAd,EAAgB;AACZ,sBAAI,CAACsY,eAAL,CAAqB,QAAI,CAACtY,EAA1B;AACH,aAFD,MAEO;AACH,sBAAI,CAACmK,QAAL,GAAgB,IAAI,yDAAJ,CAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,IAA7B,EAAmC,IAAnC,EAAyC,EAAzC,EAA6C,EAA7C,EAAiD,EAAjD,EAAqD,EAArD,EAAyD,EAAzD,CAAhB,CADG,CAEH;AACH;AACJ,WAbD;AAcH;;;wCAEenK,E,EAAE;AAAA;;AACd,eAAKyS,gBAAL,CAAsB6F,eAAtB,CAAsCtY,EAAtC,EAA0CyB,SAA1C,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACgI,QAAT,IAAqBhI,QAAQ,CAACgI,QAAT,CAAkB9H,GAA1C,EAA8C;AAC1C,sBAAI,CAAC8H,QAAL,GAAgBhI,QAAQ,CAACgI,QAAzB,CAD0C,CAE1C;;AAEA,kBAAIuZ,IAAI,GAAG,EAAX;AACAA,kBAAI,CAAC9gB,IAAL,CAAU,QAAI,CAACuH,QAAL,CAAc6N,YAAxB;AAEA0L,kBAAI,CAAC,CAAD,CAAJ,CAAQjc,OAAR,CAAgB,UAAAC,OAAO,EAAI;AACvBA,uBAAO,CAACsQ,YAAR,CAAqBvQ,OAArB,CAA6B,UAAAC,OAAO,EAAI;AACpC,0BAAI,CAACoR,GAAL,CAASlW,IAAT,CAAc8E,OAAO,CAAC,CAAD,CAArB;AACH,iBAFD;AAGH,eAJD;AAMH,aAbD,MAaO;AACH,sBAAI,CAACjF,MAAL,GAAc,QAAd;AACH;AACJ,WAlBL,EAmBI,UAAArB,KAAK,EAAI;AACL,oBAAI,CAACqB,MAAL,GAAc,QAAd,CADK,CAEL;AACH,WAtBL;AAwBH;;;4CAEgB;AAAA;;AACb,eAAKuK,kBAAL,CAAwB0G,iBAAxB,GAA4CjS,SAA5C,CACI,UAAAU,QAAQ,EAAI;AACR,oBAAI,CAAC8Q,UAAL,GAAkB9Q,QAAQ,CAAC8Q,UAA3B;AACH,WAHL,EAII,UAAA7R,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;AACH,WAPL;AASH;;;2CAEe;AAAA;;AACZ,eAAKR,mBAAL,CAAyB0b,gBAAzB,CAA0C,KAAK3a,SAAL,CAAeU,GAAzD,EAA8D,CAA9D,EAAiE,CAAjE,EAAoEZ,SAApE,CACI,UAAAU,QAAQ,EAAI;AACR,oBAAI,CAAC2b,SAAL,GAAiB3b,QAAQ,CAAC2b,SAA1B;AACH,WAHL,EAII,UAAA1c,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;AACH,WAPL;AASH;;;iCAEK;AACF,cAAG,KAAKsH,KAAL,CAAWwC,gBAAX,IAA+B,IAA/B,IAAuC,KAAKxC,KAAL,CAAWwC,gBAAX,IAA+B,EAAtE,IAA4E,KAAKxC,KAAL,CAAWiO,YAAX,IAA2B,IAA1G,EAA+G;AAE3G,gBAAIgN,IAAI,GAAG,EAAX;AACAA,gBAAI,CAAC/gB,IAAL,CAAU,KAAK8F,KAAL,CAAWiO,YAArB;;AAEA,gBAAG,KAAKmC,GAAL,CAASC,QAAT,CAAkB,KAAKrQ,KAAL,CAAWwC,gBAA7B,CAAH,EAAkD;AAC9C,kBAAI0Y,MAAM,GAAG,mDAAmD,KAAKlb,KAAL,CAAWwC,gBAA9D,GAAiF,qCAA9F;AACA,qBAAOlC,KAAK,CAAC4a,MAAD,CAAZ;AAEH,aAJD,MAIO,IAAGC,MAAM,CAACC,SAAP,CAAiBH,IAAI,CAAC,CAAD,CAArB,KAA6B,KAAhC,EAAsC;AACzC,qBAAO3a,KAAK,CAAC,2CAAD,CAAZ;AAEH,aAHM,MAGA;AACH,kBAAI0P,MAAM,GAAG,EAAb;AACAA,oBAAM,CAAC9V,IAAP,CAAY,KAAK8F,KAAL,CAAWwC,gBAAvB;AACAwN,oBAAM,CAAC9V,IAAP,CAAY,KAAK8F,KAAL,CAAWiO,YAAvB;AACA,mBAAKmC,GAAL,CAASlW,IAAT,CAAc,KAAK8F,KAAL,CAAWwC,gBAAzB;AAEA,mBAAKxC,KAAL,CAAWwC,gBAAX,GAA8B,IAA9B;AACA,mBAAKxC,KAAL,CAAWiO,YAAX,GAA0B,IAA1B;AACA,mBAAK8M,kBAAL,CAAwB7gB,IAAxB,CAA6B8V,MAA7B;AACH;AACJ;AACJ;;;4CAEgB;AACb,cAAG,KAAKV,YAAL,CAAkB+L,MAAlB,IAA4B,IAA5B,IAAoC,KAAK/L,YAAL,CAAkB+L,MAAlB,IAA4B,EAAhE,IAAsE,KAAK/L,YAAL,CAAkBW,MAAlB,IAA4B,IAAlG,IAA0G,KAAKX,YAAL,CAAkBY,MAAlB,IAA4B,IAAtI,IAA8I,KAAK6K,kBAAL,CAAwB,CAAxB,CAAjJ,EAA4K;AAExK,iBAAKzL,YAAL,CAAkBA,YAAlB,GAAiC,KAAKyL,kBAAtC;AAGA,gBAAIM,MAAM,GAAG,KAAK/L,YAAL,CAAkB+L,MAA/B;AACA,iBAAK/L,YAAL,CAAkB+L,MAAlB,GAA2B,IAA3B;AAEA,gBAAIpL,MAAM,GAAG,KAAKX,YAAL,CAAkBW,MAA/B;AACA,iBAAKX,YAAL,CAAkBW,MAAlB,GAA2B,IAA3B;AAEA,gBAAIC,MAAM,GAAG,KAAKZ,YAAL,CAAkBY,MAA/B;AACA,iBAAKZ,YAAL,CAAkBY,MAAlB,GAA2B,IAA3B;AAEA,gBAAIoL,UAAU,GAAG,KAAKhM,YAAL,CAAkBA,YAAnC;AACA,iBAAKA,YAAL,CAAkBA,YAAlB,GAAiC,IAAjC;AAEA,gBAAIiM,aAAa,GAAG;AAAEF,oBAAM,EAAEA,MAAV;AAAkBpL,oBAAM,EAAEA,MAA1B;AAAkCC,oBAAM,EAAEA,MAA1C;AAAkDZ,0BAAY,EAAEgM;AAAhE,aAApB;AACA,iBAAK7Z,QAAL,CAAc6N,YAAd,CAA2BpV,IAA3B,CAAgCqhB,aAAhC;AAEA,iBAAKR,kBAAL,GAA0B,EAA1B;AACH;AACJ;;;iCAGQ/gB,I,EAAI;AACT,cAAGmhB,MAAM,CAACC,SAAP,CAAiB,KAAK3Z,QAAL,CAAc2P,MAA/B,KAA0C,KAA7C,EAAmD;AAC/C,mBAAO9Q,KAAK,CAAC,2CAAD,CAAZ;AAEH,WAHD,MAGO,IAAG,KAAKhJ,EAAL,IAAW,CAAd,EAAgB;AACnB,iBAAKkkB,OAAL,CAAaxhB,IAAb;AACH,WAFM,MAEA;AACH,iBAAKyhB,OAAL;AACH;AACJ;;;gCAGOzhB,I,EAAI;AAAA;;AACR;AACA;AACA;AAEA,cAAG,KAAKyH,QAAL,CAAc2P,MAAd,IAAwB,CAA3B,EAA6B;AACzB,iBAAKrX,MAAL,GAAc,QAAd;AAEH,WAHD,MAGO;AACH,iBAAKgQ,gBAAL,CAAsB2R,aAAtB,CAAoC,KAAKrjB,KAAzC,EAAgD,KAAKoJ,QAArD,EAA+D1I,SAA/D,CACI,UAAAU,QAAQ,EAAI;AACR,kBAAG,CAACA,QAAQ,CAACgI,QAAV,IAAsB,CAAChI,QAAQ,CAACgI,QAAT,CAAkB9H,GAA5C,EAAgD;AAC5C,wBAAI,CAACI,MAAL,GAAc,QAAd;AACH,eAFD,MAEO,IAAI,QAAI,CAACge,YAAL,IAAqB,QAAI,CAACA,YAAL,CAAkBC,IAA3C,EAAgD;AACnD,wBAAI,CAACvW,QAAL,GAAgBhI,QAAQ,CAACgI,QAAzB;AACA,wBAAI,CAACwW,SAAL,GAAiB,QAAI,CAACC,WAAL,CAAiB,QAAI,CAACC,sBAAtB,CAAjB;;AACA,wBAAI,CAAChL,cAAL,CAAoBiL,eAApB,CAAoC,QAAI,CAAChgB,GAAL,GAAS,6BAAT,GAAuC,QAAI,CAACa,SAAL,CAAeU,GAAtD,GAA4D,GAA5D,GAAkEF,QAAQ,CAACgI,QAAT,CAAkB9H,GAAxH,EAA6H,QAAI,CAACse,SAAlI,EAA6I,QAAI,CAAC5f,KAAlJ,EAAyJ,OAAzJ,EAAkK,KAAlK,EACKtB,IADL,CACU,UAACif,MAAD,EAAgB;AAClB,0BAAI,CAAC6B,kBAAL,GAA0B,IAA1B;AACA,0BAAI,CAACI,SAAL,GAAiB,EAAjB;AACAje,sBAAI,CAACO,KAAL,GAHkB,CAIlB;;AACA,0BAAI,CAACpC,SAAL,CAAeoB,IAAf;AACH,iBAPL;AAQH,eAXM,MAWA,IAAIE,QAAQ,CAACgI,QAAb,EAAsB;AACzBzH,oBAAI,CAACO,KAAL,GADyB,CAEzB;;AACA,wBAAI,CAACpC,SAAL,CAAeoB,IAAf;AACH;AACJ,aApBL,EAqBI,UAAAb,KAAK,EAAG;AACJ,kBAAIoB,YAAY,GAASpB,KAAzB,CADI,CAEJ;;AAEA,kBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,wBAAI,CAACC,MAAL,GAAc,QAAd;AACH;AACJ,aA5BL;AA8BH;AACJ;;;kCAEM;AAAA;;AACH,eAAKgQ,gBAAL,CAAsB4R,kBAAtB,CAAyC,KAAKtjB,KAA9C,EAAqD,KAAKY,SAAL,CAAeU,GAApE,EAAyE,KAAK8H,QAA9E,EAAwF1I,SAAxF,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAG,CAACA,QAAQ,CAACgI,QAAV,IAAsB,CAAChI,QAAQ,CAACgI,QAAT,CAAkB9H,GAA5C,EAAgD;AAC5C,sBAAI,CAACI,MAAL,GAAc,QAAd;AACH,aAFD,MAEO,IAAI,QAAI,CAACge,YAAL,IAAqB,QAAI,CAACA,YAAL,CAAkBC,IAA3C,EAAgD;AACnD,sBAAI,CAACvW,QAAL,GAAgBhI,QAAQ,CAACgI,QAAzB;AACA,sBAAI,CAACwW,SAAL,GAAiB,QAAI,CAACC,WAAL,CAAiB,QAAI,CAACC,sBAAtB,CAAjB;;AACA,sBAAI,CAAChL,cAAL,CAAoBiL,eAApB,CAAoC,QAAI,CAAChgB,GAAL,GAAS,6BAAT,GAAuC,QAAI,CAACa,SAAL,CAAeU,GAAtD,GAA4D,GAA5D,GAAkEF,QAAQ,CAACgI,QAAT,CAAkB9H,GAAxH,EAA6H,QAAI,CAACse,SAAlI,EAA6I,QAAI,CAAC5f,KAAlJ,EAAyJ,OAAzJ,EAAkK,KAAlK,EACKtB,IADL,CACU,UAACif,MAAD,EAAgB;AAClB,wBAAI,CAACvU,QAAL,CAActE,MAAd,GAAuB6Y,MAAM,CAACvU,QAAP,CAAgBtE,MAAvC;AACA,wBAAI,CAAC0a,kBAAL,GAA0B,IAA1B;AACA,wBAAI,CAACI,SAAL,GAAiB,EAAjB;AACA,wBAAI,CAACle,MAAL,GAAc,SAAd;;AACA,wBAAI,CAAC5B,SAAL,CAAeoB,IAAf;AACH,eAPL;AAQH,aAXM,MAWA;AACH,sBAAI,CAACkI,QAAL,GAAgBhI,QAAQ,CAACgI,QAAzB;AACA,sBAAI,CAAC1H,MAAL,GAAc,SAAd;;AACA,sBAAI,CAAC5B,SAAL,CAAeoB,IAAf;AACH;AACJ,WApBL,EAqBI,UAAAb,KAAK,EAAI;AACL,oBAAI,CAACqB,MAAL,GAAc,QAAd,CADK,CAEL;AACH,WAxBL;AA0BH;;;8CAEkB;AACfX,sBAAY,CAAC6C,OAAb,CAAqB,UAArB,EAAiC/C,IAAI,CAACgD,SAAL,CAAe,KAAKuF,QAApB,CAAjC;AACH;;;iDAEqB;AAAA;;AAClB,eAAKA,QAAL,GAAgBvI,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAhB;;AAEA,eAAK0Q,gBAAL,CAAsB4R,kBAAtB,CAAyC,KAAKtjB,KAA9C,EAAqD,KAAKY,SAAL,CAAeU,GAApE,EAAyE,KAAK8H,QAA9E,EAAwF1I,SAAxF,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAG,CAACA,QAAQ,CAACgI,QAAV,IAAsB,CAAChI,QAAQ,CAACgI,QAAT,CAAkB9H,GAA5C,EAAgD;AAC5C,sBAAI,CAACI,MAAL,GAAc,QAAd;AACH,aAFD,MAEO;AACHX,0BAAY,CAACE,UAAb,CAAwB,UAAxB;AACA,sBAAI,CAACmI,QAAL,GAAgBhI,QAAQ,CAACgI,QAAzB;AACA,sBAAI,CAAC1H,MAAL,GAAc,SAAd;AACH;AACJ,WATL,EAUI,UAAArB,KAAK,EAAI;AACL,oBAAI,CAACqB,MAAL,GAAc,QAAd,CADK,CAEL;AACH,WAbL;AAeH;;;mCAGUse,S,EAAgB;AAAA;;AACvB,eAAKN,YAAL,GAAoBM,SAAS,CAACC,MAAV,CAAiBC,KAAjB,CAAuB,CAAvB,CAApB;;AAEA,cAAI,KAAKR,YAAL,IAAqB,KAAKA,YAAL,CAAkBC,IAA3C,EAAiD;AAC7C,gBAAIQ,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,kBAAM,CAACE,MAAP,GAAgB,UAACL,SAAD,EAAoB;AAChC,sBAAI,CAACM,QAAL,GAAgBN,SAAS,CAACC,MAAV,CAAiBtC,MAAjC;;AACA,sBAAI,CAAC4C,YAAL,CAAkB,QAAI,CAACD,QAAvB;AACH,aAHD;;AAIAH,kBAAM,CAACK,aAAP,CAAqB,KAAKd,YAA1B;AACH;AACJ;;;qCAEYe,K,EAAO;AAAA;;AAChB,eAAKhB,YAAL,GAAoB,KAAKA,YAAL,GAAoB,CAAxC;AACA,cAAIiB,WAAW,GAAG,CAAC,CAAnB;AAEA,eAAKC,mBAAL,GAA2B,KAAK5L,aAAL,CAAmB6L,SAAnB,CAA6BH,KAA7B,KAAqC,OAAK,IAA1C,CAA3B,CAJgB,CAKhB;;AAEA,cAAII,UAAU,GAAG,EAAjB;;AAEA,cAAG,KAAKF,mBAAL,GAA2B,EAA9B,EAAiC;AAC7B,gBAAIE,UAAU,GAAG,EAAjB;AAEH,WAHD,MAGO,IAAG,KAAKF,mBAAL,GAA2B,EAA9B,EAAiC;AACpC,gBAAIE,UAAU,GAAG,EAAjB;AAEH,WAHM,MAGA,IAAG,KAAKF,mBAAL,GAA2B,CAA9B,EAAgC;AACnC,gBAAIE,UAAU,GAAG,EAAjB;AAEH,WAHM,MAGA,IAAG,KAAKF,mBAAL,GAA2B,GAA9B,EAAkC;AACrC,gBAAIE,UAAU,GAAG,EAAjB;AACH;;AAED,eAAK9L,aAAL,CAAmBwL,YAAnB,CAAgCE,KAAhC,EAAuCC,WAAvC,EAAoDG,UAApD,EAAgE,EAAhE,EAAoEniB,IAApE,CACI,UAAAif,MAAM,EAAI;AACN,oBAAI,CAACmC,sBAAL,GAA8BnC,MAA9B;AACA,oBAAI,CAAC6B,kBAAL,GAA0B7B,MAA1B;AAEA,oBAAI,CAACmD,qBAAL,GAA6B,QAAI,CAAC/L,aAAL,CAAmB6L,SAAnB,CAA6BjD,MAA7B,KAAsC,OAAK,IAA3C,CAA7B,CAJM,CAKN;;AAEA,gBAAG,QAAI,CAACmD,qBAAL,GAA6B,GAA7B,IAAoC,QAAI,CAACrB,YAAL,IAAqB,CAA5D,EAA8D;AAC1D,sBAAI,CAACA,YAAL,GAAoB,CAApB;AACA,qBAAO,QAAI,CAACK,sBAAZ;AACH,aAHD,MAGO;AACH,sBAAI,CAACS,YAAL,CAAkB,QAAI,CAACT,sBAAvB;AACH;AACJ,WAdL;AAeH;;;oCAEWA,sB,EAAsB;AAC9B;AACA,cAAMiB,SAAS,GAAG,KAAKC,aAAL,CAAmB,KAAKlB,sBAAL,CAA4BmB,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAAnB,CAAlB,CAF8B,CAI9B;;AACA,cAAMrB,SAAS,GAAG,IAAIsB,IAAJ,CAAS,CAACH,SAAD,CAAT,EAAsB,YAAtB,EAAoC;AAAEI,gBAAI,EAAE;AAAR,WAApC,CAAlB;AACA,iBAAO,KAAKvB,SAAL,GAAiBA,SAAxB;AACH;;;sCAEawB,O,EAAS;AACnB,cAAMC,UAAU,GAAGnZ,MAAM,CAACoZ,IAAP,CAAYF,OAAZ,CAAnB;AACA,cAAMvV,WAAW,GAAG,IAAI0V,WAAJ,CAAgBF,UAAU,CAAC9W,MAA3B,CAApB;AACA,cAAMiX,SAAS,GAAG,IAAI1V,UAAJ,CAAeD,WAAf,CAAlB;;AAEA,eAAK,IAAI4V,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,UAAU,CAAC9W,MAA/B,EAAuCkX,CAAC,EAAxC,EAA4C;AACxCD,qBAAS,CAACC,CAAD,CAAT,GAAeJ,UAAU,CAACK,UAAX,CAAsBD,CAAtB,CAAf;AACH;;AAED,cAAME,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACJ,SAAD,CAAT,EAAsB;AAAEL,gBAAI,EAAE;AAAR,WAAtB,CAAb;AACA,iBAAOQ,IAAP;AACH;;;;;;;uBA1WQc,kB,EAAkB,gI,EAAA,wH,EAAA,yI,EAAA,2I,EAAA,8I,EAAA,iJ,EAAA,uI,EAAA,4I,EAAA,0H;AAAA,K;;;YAAlBA,kB;AAAkB,gC;AAAA,kFAHhB,CAAC,0EAAD,EAAkB,wEAAlB,EAAkC,6EAAlC,EAAqD,gFAArD,EAAyE,sEAAzE,CAGgB,E;AAHuE,gB;AAAA,a;AAAA,w3J;AAAA;AAAA;ACpBtG;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAA7f,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AAEA;;AACI;;AAEI;;AAyKA;;AAIJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACI;;AAAuD;;AAA4B;;AAAQ;;AAAU;;AAAS;;AAAI;;AAClH;;AAAe;;AAAsB;;AAAM;;AAAS;;AAAsB;;AAAQ;;AAAS;;AAC3F;;AAAe;;AAAoB;;AAAO;;AAAO;;AAAoB;;AAAI;;AAAO;;AAChF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAS;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAAe;;AAAoB;;AAAK;;AAAO;;AAAoB;;AAAI;;AAAO;;AAClF;;AAEA;;AACI;;AAA+E;;AAAM;;AACzF;;AACJ;;AACJ;;AACJ;;AAGD;;AACH;;;;AAxN2G;;AAAA;;AAyKxE;;AAAA;;;;;;;;;sEDnKtB6f,kB,EAAkB;cAN9B,uDAM8B;eANpB;AACP3f,kBAAQ,EAAE,WADH;AAEPC,qBAAW,EAAE,4BAFN;AAGPC,mBAAS,EAAE,CAAC,0EAAD,EAAkB,wEAAlB,EAAkC,6EAAlC,EAAqD,gFAArD,EAAyE,sEAAzE;AAHJ,S;AAMoB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEvB/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AC2BY;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;AAGJ;;AACI;;AACJ;;;;;;AAEA;;AACI;;AACJ;;;;;;AAEA;;AACI;;AACJ;;;;;;;;AAhCJ;;AAA+C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAE3C;;AAAsB;;AAAS;;AAE/B;;AAEA;;AACI;;AAAO;;AAAM;;AACb;;AAAsE;AAAA;;AAAA;;AAAA;AAAA;;AAAtE;;AACA;;AAGJ;;AAEA;;AACI;;AAAO;;AAAQ;;AACf;;AAA4E;AAAA;;AAAA;;AAAA;AAAA;;AAA5E;;AACA;;AAGJ;;AAEA;;AAIA;;AAIA;;AAIA;;AACI;;AACJ;;AACJ;;;;;;;;;;;;AAnC0B;;AAAA;;AAMoD;;AAAA;;AAChE;;AAAA;;AAOsE;;AAAA;;AACtE;;AAAA;;AAKuB;;AAAA;;AAID;;AAAA;;AAIA;;AAAA;;AAKP;;AAAA;;AAAqD;;;;QDvCzEugB,gB;AAUT,gCACY7jB,MADZ,EAEYC,OAFZ,EAGYC,eAHZ,EAIYC,mBAJZ,EAKYC,SALZ,EAK+B;AAAA;;AAJnB,aAAAJ,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAC,mBAAA,GAAAA,mBAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AAER,aAAK4K,KAAL,GAAY,4CAAZ;AACA,aAAK9J,SAAL,GAAiB,KAAKhB,eAAL,CAAqB+R,YAArB,EAAjB;AACA,aAAK3R,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKF,GAAL,GAAW,wDAAOA,GAAlB;AACA,aAAK2B,MAAL,GAAc,IAAd;AAEH;;;;mCAEO;AACJ,eAAKlB,QAAL;AACH;;;sCAEa;AACV;AACA,eAAKV,SAAL,CAAeoB,IAAf;AACH;;;mCAEO;AAAA;;AACJ,eAAKxB,MAAL,CAAYe,MAAZ,CAAmBC,SAAnB,CAA6B,UAAAD,MAAM,EAAI;AACnC,oBAAI,CAACxB,EAAL,GAAU,CAAV;AACA,oBAAI,CAACukB,MAAL,GAAa,eAAb;;AAEA,gBAAG/iB,MAAM,CAAC,IAAD,CAAN,IAAgB,CAAnB,EAAqB;AACjB,sBAAI,CAACxB,EAAL,GAAUwB,MAAM,CAAC,IAAD,CAAhB;AACA,sBAAI,CAAC+iB,MAAL,GAAa,oBAAb;AACH;;AAED,gBAAG,QAAI,CAACvkB,EAAL,IAAW,CAAd,EAAgB;AACZ,sBAAI,CAACuY,cAAL,CAAoB,QAAI,CAACvY,EAAzB;AACH,aAFD,MAEO;AACH,sBAAI,CAACyY,OAAL,GAAe,IAAI,uDAAJ,CAAY,EAAZ,EAAgB,EAAhB,EAAmB,EAAnB,EAAsB,IAAtB,CAAf;AACH;AACJ,WAdD;AAeH;;;uCAEczY,E,EAAE;AAAA;;AACb,eAAKY,mBAAL,CAAyB2X,cAAzB,CAAwCvY,EAAxC,EAA4CyB,SAA5C,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACsW,OAAT,IAAoBtW,QAAQ,CAACsW,OAAT,CAAiBpW,GAAxC,EAA4C;AACxC,sBAAI,CAACoW,OAAL,GAAetW,QAAQ,CAACsW,OAAxB;AACH,aAFD,MAEO;AACH,sBAAI,CAAChW,MAAL,GAAc,QAAd;AACH;AACJ,WAPL,EAQI,UAAArB,KAAK,EAAI;AACL,oBAAI,CAACqB,MAAL,GAAc,QAAd,CADK,CAEL;AACH,WAXL;AAaH;;;iCAEQC,I,EAAI;AACT,cAAG,KAAK1C,EAAL,IAAW,CAAd,EAAgB;AACZ,iBAAKkkB,OAAL,CAAaxhB,IAAb;AACH,WAFD,MAEO;AACH,iBAAKyhB,OAAL;AACH;AACJ;;;gCAEOzhB,I,EAAI;AAAA;;AACR,eAAK9B,mBAAL,CAAyB4jB,YAAzB,CAAsC,KAAKzjB,KAA3C,EAAkD,KAAKY,SAAL,CAAeU,GAAjE,EAAsE,KAAKoW,OAA3E,EAAoFhX,SAApF,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACsW,OAAT,IAAoBtW,QAAQ,CAACsW,OAAT,CAAiBpW,GAAxC,EAA4C;AACxCK,kBAAI,CAACO,KAAL,GADwC,CAExC;;AACA,sBAAI,CAACpC,SAAL,CAAeoB,IAAf;AACH,aAJD,MAIO;AACH,sBAAI,CAACQ,MAAL,GAAc,QAAd;AACH;AACJ,WATL,EAUI,UAAArB,KAAK,EAAI;AACL,oBAAI,CAACqB,MAAL,GAAc,QAAd,CADK,CAEL;AACH,WAbL;AAeH;;;kCAEM;AAAA;;AACH,eAAK7B,mBAAL,CAAyB6jB,iBAAzB,CAA2C,KAAK1jB,KAAhD,EAAuD,KAAKY,SAAL,CAAeU,GAAtE,EAA2E,KAAKoW,OAAL,CAAapW,GAAxF,EAA6F,KAAKoW,OAAlG,EAA2GhX,SAA3G,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAGA,QAAQ,CAACsW,OAAT,IAAoBtW,QAAQ,CAACsW,OAAT,CAAiBpW,GAAxC,EAA4C;AACxC,sBAAI,CAACI,MAAL,GAAc,SAAd;;AACA,sBAAI,CAAC5B,SAAL,CAAeoB,IAAf;AACH,aAHD,MAGO;AACH,sBAAI,CAACQ,MAAL,GAAc,QAAd;AACH;AACJ,WARL,EASI,UAAArB,KAAK,EAAI;AACL,oBAAI,CAACqB,MAAL,GAAc,QAAd,CADK,CAEL;AACH,WAZL;AAcH;;;;;;;uBA7GQ6hB,gB,EAAgB,+H,EAAA,uH,EAAA,yI,EAAA,iJ,EAAA,yH;AAAA,K;;;YAAhBA,gB;AAAgB,8B;AAAA,kFAHd,CAAC,gFAAD,EAAqB,wEAArB,CAGc,E;AAHsB,e;AAAA,a;AAAA,kiC;AAAA;AAAA;ACXnD;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAA3gB,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AAGA;;AACI;;AAEJ;;AAuCI;;AACJ;;AACJ;;;;AAzC+F;;AAAA;;;;;;;;;sEDJlF2gB,gB,EAAgB;cAN5B,uDAM4B;eANlB;AACPzgB,kBAAQ,EAAE,SADH;AAEPC,qBAAW,EAAE,0BAFN;AAGPC,mBAAS,EAAE,CAAC,gFAAD,EAAqB,wEAArB;AAHJ,S;AAMkB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEd7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACsBQ;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAEA;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;AAIR;;AACI;;AACA;;AAAuB;;AAAgD;;AACvE;;AAAuB;;AAAkC;;AAC7D;;;;;;AAaoB;;AAAsE;;AAAQ;;;;;;AAC9E;;AAAqE;;AAAS;;;;;;AAC9E;;AAAoH;;AAAsB;;;;;;AAAtB;;AAAA;;;;;;AACpH;;AAAmH;;AAAuC;;;;;;AAAvC;;AAAA;;;;;;AACnH;;AAAyE;;AAAsD;;;;;;AAAtD;;AAAA;;;;;;AAQ7E;;AAEI;;AAEA;;AAAiC;;AAAiB;;AACtD;;;;;;AADqC;;AAAA;;;;;;AAErC;;AAEI;;AACA;;AAA4B;;AAAiB;;AACjD;;;;;;AADgC;;AAAA;;;;;;AAEhC;;AAEI;;AACA;;AAA4B;;AAAiB;;AACjD;;;;;;AADgC;;AAAA;;;;;;;;;;AApC5C;;AACI;;AACI;;AAMI;;AACI;;AAAwC;;AAA2B;;AACnE;;AACA;;AACA;;AACA;;AACA;;AACJ;;AAEA;;AACI;;AACA;;AAA4B;;AAAyD;;AACzF;;AAEA;;AAMA;;AAKA;;AAKJ;;AACJ;;AACJ;;;;;;;;AAvC6C;;AAAA;;AAQW;;AAAA;;AACrC;;AAAA;;AACA;;AAAA;;AACiD;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAKxB;;AAAA;;AAGH;;AAAA;;AAMA;;AAAA;;AAKA;;AAAA;;;;;;AAU7C;;AACI;;AACI;;AACJ;;AACJ;;;;;;;;QDzEK2gB,e;AAYT,+BACYhkB,OADZ,EAEYC,eAFZ,EAGYuD,cAHZ,EAIYrD,SAJZ,EAI+B;AAAA;;AAHnB,aAAAH,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAuD,cAAA,GAAAA,cAAA;AACA,aAAArD,SAAA,GAAAA,SAAA;AAER,aAAKE,KAAL,GAAa,KAAKJ,eAAL,CAAqBK,QAArB,EAAb;AACA,aAAKW,SAAL,GAAiB,KAAKhB,eAAL,CAAqB+R,YAArB,EAAjB;AACA,aAAKtQ,WAAL,GAAmB,KAAKT,SAAxB;AACA,aAAKwC,OAAL,GAAe,EAAf;AACA,aAAKC,IAAL,GAAY,CAAZ;AACA,aAAKC,OAAL,GAAe,KAAf;AACA,aAAK6R,aAAL,GAAqB,KAArB;AACA,aAAKzT,MAAL,GAAc,IAAd;AACH;;;;mCAEO;AACJ,eAAK8B,cAAL,CAAoB,KAAKH,IAAzB;AACA,eAAKsN,UAAL;AACH;;;qCAES;AACN,cAAG,mCAAC,CAAC,wBAAD,CAAD,CAA4BpG,MAA5B,GAAqC,CAAxC,EAA0C;AACtCrC,kBAAM,CAACC,QAAP,CAAgByI,MAAhB;AACH;AACJ;;;sCAEa;AACV;AACA,eAAK9Q,SAAL,CAAeoB,IAAf;AACH;;;mCAEO;AACJ,eAAKmC,IAAL,IAAa,CAAb;;AAEA,cAAG,KAAKA,IAAL,IAAa,KAAKM,KAAL,GAAW,CAA3B,EAA6B;AACzB,iBAAKL,OAAL,GAAe,KAAf;AACH,WAFD,MAEO;AACH,iBAAKA,OAAL,GAAe,IAAf;AACA,iBAAKE,cAAL,CAAoB,KAAKH,IAAzB,EAA+B,IAA/B;AACH;AACJ;;;uCAGcA,I,EAAoB;AAAA;;AAAA,cAAdS,MAAc,uEAAL,KAAK;;AAC/B,eAAKX,cAAL,CAAoBK,cAApB,CAAmC,KAAKxD,KAAxC,EAA+C,KAAKY,SAAL,CAAeU,GAA9D,EAAmE+B,IAAnE,EAAyE,CAAzE,EAA4E3C,SAA5E,CACI,UAAAU,QAAQ,EAAI;AACR,gBAAG,CAACA,QAAJ,EAAa;AACT,qBAAO,QAAI,CAACM,MAAL,GAAc,OAArB;AACH;;AACD,oBAAI,CAACyT,aAAL,GAAqB,IAArB;AACA,oBAAI,CAACxR,KAAL,GAAavC,QAAQ,CAACuC,KAAtB;;AAEA,gBAAG,CAACG,MAAJ,EAAW;AACP,sBAAI,CAACV,OAAL,GAAehC,QAAQ,CAACgC,OAAxB;AACA,sBAAI,CAACW,KAAL,GAAa3C,QAAQ,CAAC2C,KAAtB;AACA,sBAAI,CAACT,OAAL,GAAe,KAAf;AACH,aAJD,MAIO;AACH,kBAAIU,MAAM,GAAG,QAAI,CAACZ,OAAlB;AACA,kBAAIa,MAAM,GAAG7C,QAAQ,CAACgC,OAAtB;AACA,sBAAI,CAACA,OAAL,GAAeY,MAAM,CAACE,MAAP,CAAcD,MAAd,CAAf;AACA,sBAAI,CAACX,OAAL,GAAe,KAAf;AACH;AAEJ,WAnBL,EAoBI,UAAAjD,KAAK,EAAI;AACL,gBAAIoB,YAAY,GAAQpB,KAAxB,CADK,CAEL;;AAEA,gBAAGoB,YAAY,IAAI,IAAnB,EAAwB;AACpB,sBAAI,CAACC,MAAL,GAAc,OAAd;AACH;AACJ,WA3BL;AA6BH;;;;;;;uBAtFQiiB,e,EAAe,uH,EAAA,yI,EAAA,uI,EAAA,yH;AAAA,K;;;YAAfA,e;AAAe,6B;AAAA,kFAHb,CAAC,wEAAD,EAAiB,sEAAjB,CAGa,E;AAHkB,e;AAAA,a;AAAA,6vD;AAAA;AAAA;ACZ9C;;AACI;;AACI;;AACI;;AAAkB;AAAA,mBAAS,IAAA/gB,WAAA,EAAT;AAAsB,WAAtB;;AACd;;AACJ;;AAEA;;AACI;;AAA4B;;AAAU;;AAC1C;;AAEA;;AACI;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AAEA;;AACI;;AAMA;;AAMA;;AAMA;;AAA4F;AAAA,mBAAY,IAAAwC,QAAA,EAAZ;AAAsB,WAAtB;;AACxF;;AAyCJ;;AACJ;;AACI;;AAKR;;;;AA7EqD;;AAAA;;AAUR;;AAAA;;AAMC;;AAAA;;AAMjC;;AAAA;;AAM4B;;AAAA,gGAA4B,wBAA5B,EAA4B,EAA5B;;AACxB;;AAAA;;AA2CJ;;AAAA;;;;;;;;;sEDrEAue,e,EAAe;cAN3B,uDAM2B;eANjB;AACP7gB,kBAAQ,EAAE,QADH;AAEPC,qBAAW,EAAE,yBAFN;AAGPC,mBAAS,EAAE,CAAC,wEAAD,EAAiB,sEAAjB;AAHJ,S;AAMiB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEf5B;AAAA;;;AAAA;AAAA;AAAA;;QAAa4gB,Y,GACT,sBACWZ,MADX,EAEWpL,MAFX,EAGWC,MAHX,EAIWZ,YAJX,EAIsC;AAAA;;AAH3B,WAAA+L,MAAA,GAAAA,MAAA;AACA,WAAApL,MAAA,GAAAA,MAAA;AACA,WAAAC,MAAA,GAAAA,MAAA;AACA,WAAAZ,YAAA,GAAAA,YAAA;AACR,K;;;;;;;;;;;;;;;;;ACNP;AAAA;;;AAAA;AAAA;AAAA;;QAAa4M,Q,GACT,kBACWviB,GADX,EAEWD,WAFX,EAGW6I,MAHX,EAIW4Z,WAJX,EAKWhf,MALX,EAMWiU,MANX,EAOWC,aAPX,EAQWxE,SARX,EASWkD,OATX,EAUWhW,MAVX,EAWWuV,YAXX,EAWsC;AAAA;;AAV3B,WAAA3V,GAAA,GAAAA,GAAA;AACA,WAAAD,WAAA,GAAAA,WAAA;AACA,WAAA6I,MAAA,GAAAA,MAAA;AACA,WAAA4Z,WAAA,GAAAA,WAAA;AACA,WAAAhf,MAAA,GAAAA,MAAA;AACA,WAAAiU,MAAA,GAAAA,MAAA;AACA,WAAAC,aAAA,GAAAA,aAAA;AACA,WAAAxE,SAAA,GAAAA,SAAA;AACA,WAAAkD,OAAA,GAAAA,OAAA;AACA,WAAAhW,MAAA,GAAAA,MAAA;AACA,WAAAuV,YAAA,GAAAA,YAAA;AACR,K;;;;;;;;;;;;;;;;;ACbP;AAAA;;;AAAA;AAAA;AAAA;;QAAa8M,W,GACT,qBACWziB,GADX,EAEW0iB,WAFX,EAGW9Z,MAHX,EAIW+Z,SAJX,EAKWtf,SALX,EAMWG,MANX,EAOW4I,QAPX,EAQWgO,OARX,EASI;AACOha,UAVX,EAWWE,OAXX,EAYWE,IAZX,EAaWC,SAbX,EAcW4H,iBAdX,EAeW4C,OAfX,EAgBW3C,YAhBX,EAiBW9B,KAjBX,EAkBWyB,KAlBX,EAkByB;AAAA;;AAjBd,WAAAjI,GAAA,GAAAA,GAAA;AACA,WAAA0iB,WAAA,GAAAA,WAAA;AACA,WAAA9Z,MAAA,GAAAA,MAAA;AACA,WAAA+Z,SAAA,GAAAA,SAAA;AACA,WAAAtf,SAAA,GAAAA,SAAA;AACA,WAAAG,MAAA,GAAAA,MAAA;AACA,WAAA4I,QAAA,GAAAA,QAAA;AACA,WAAAgO,OAAA,GAAAA,OAAA;AAEA,WAAAha,MAAA,GAAAA,MAAA;AACA,WAAAE,OAAA,GAAAA,OAAA;AACA,WAAAE,IAAA,GAAAA,IAAA;AACA,WAAAC,SAAA,GAAAA,SAAA;AACA,WAAA4H,iBAAA,GAAAA,iBAAA;AACA,WAAA4C,OAAA,GAAAA,OAAA;AACA,WAAA3C,YAAA,GAAAA,YAAA;AACA,WAAA9B,KAAA,GAAAA,KAAA;AACA,WAAAyB,KAAA,GAAAA,KAAA;AACR,K;;;;;;;;;;;;;;;;;ACpBP;AAAA;;;AAAA;AAAA;AAAA;;QAAa2a,O,GACT,iBACW5iB,GADX,EAEWD,WAFX,EAGW6I,MAHX,EAIWiD,QAJX,EAI2B;AAAA;;AAHhB,WAAA7L,GAAA,GAAAA,GAAA;AACA,WAAAD,WAAA,GAAAA,WAAA;AACA,WAAA6I,MAAA,GAAAA,MAAA;AACA,WAAAiD,QAAA,GAAAA,QAAA;AACR,K;;;;;;;;;;;;;;;;;ACNP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMagX,U;AAET,0BACYxkB,OADZ,EAEYC,eAFZ,EAE2C;AAAA;;AAD/B,aAAAD,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACT;;;;sCAEQ;AACP,cAAIM,QAAQ,GAAG,KAAKN,eAAL,CAAqBO,WAArB,EAAf;;AAEA,cAAGD,QAAQ,IAAKA,QAAQ,CAAC6G,GAAT,IAAgB,OAAhC,EAAyC;AACrC,mBAAO,IAAP;AACH,WAFD,MAEO;AACH,iBAAKpH,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;;AACA,mBAAO,KAAP;AACH;AACJ;;;;;;;uBAhBQ2S,U,EAAU,8G,EAAA,uH;AAAA,K;;;aAAVA,U;AAAU,eAAVA,UAAU;;;;;sEAAVA,U,EAAU;cAFtB;AAEsB,Q;;;;;;;;;;;;;;;;;;;;;;;;ACNvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMaC,e;AAET,+BACYzkB,OADZ,EAEYC,eAFZ,EAE2C;AAAA;;AAD/B,aAAAD,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACT;;;;sCAEQ;AACP,cAAIM,QAAQ,GAAG,KAAKN,eAAL,CAAqBO,WAArB,EAAf;;AAEA,cAAGD,QAAQ,IAAKA,QAAQ,CAAC6G,GAAT,IAAgB,YAAhC,EAA8C;AAC1C,mBAAO,IAAP;AACH,WAFD,MAEO;AACH,iBAAKpH,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;;AACA,mBAAO,KAAP;AACH;AACJ;;;;;;;uBAhBQ4S,e,EAAe,8G,EAAA,uH;AAAA,K;;;aAAfA,e;AAAe,eAAfA,eAAe;;;;;sEAAfA,e,EAAe;cAF3B;AAE2B,Q;;;;;;;;;;;;;;;;;;;;;;;;ACN5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMaC,e;AAET,+BACY1kB,OADZ,EAEYC,eAFZ,EAE2C;AAAA;;AAD/B,aAAAD,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACT;;;;sCAEQ;AACP,cAAIM,QAAQ,GAAG,KAAKN,eAAL,CAAqBO,WAArB,EAAf;;AAEA,cAAGD,QAAQ,KAAKA,QAAQ,CAAC6G,GAAT,IAAgB,aAAhB,IAAiC7G,QAAQ,CAAC6G,GAAT,IAAgB,UAAtD,CAAX,EAA6E;AACzE,mBAAO,IAAP;AACH,WAFD,MAEO;AACH,iBAAKpH,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;;AACA,mBAAO,KAAP;AACH;AACJ;;;;;;;uBAhBQ6S,e,EAAe,8G,EAAA,uH;AAAA,K;;;aAAfA,e;AAAe,eAAfA,eAAe;;;;;sEAAfA,e,EAAe;cAF3B;AAE2B,Q;;;;;;;;;;;;;;;;;;;;;;;;ACN5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMaC,S;AAET,yBACY3kB,OADZ,EAEYC,eAFZ,EAE2C;AAAA;;AAD/B,aAAAD,OAAA,GAAAA,OAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACT;;;;sCAEQ;AACP,cAAIM,QAAQ,GAAG,KAAKN,eAAL,CAAqBO,WAArB,EAAf;;AAEA,cAAGD,QAAQ,KAAKA,QAAQ,CAAC6G,GAAT,IAAgB,SAAhB,IAA6B7G,QAAQ,CAAC6G,GAAT,IAAgB,aAA7C,IAA8D7G,QAAQ,CAAC6G,GAAT,IAAgB,UAA9E,IAA4F7G,QAAQ,CAAC6G,GAAT,IAAgB,OAA5G,IAAuH7G,QAAQ,CAAC6G,GAAT,IAAgB,YAA5I,CAAX,EAAqK;AACjK,mBAAO,IAAP;AACH,WAFD,MAEO;AACH,iBAAKpH,OAAL,CAAa6R,QAAb,CAAsB,CAAC,GAAD,CAAtB;;AACA,mBAAO,KAAP;AACH;AACJ;;;;;;;uBAhBQ8S,S,EAAS,8G,EAAA,uH;AAAA,K;;;aAATA,S;AAAS,eAATA,SAAS;;;;;sEAATA,S,EAAS;cAFrB;AAEqB,Q;;;;;;;;;;;;;;;;;;;;;;;;ACNtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaC,Y;AAGT,4BAAoBC,KAApB,EAAqC;AAAA;;AAAjB,aAAAA,KAAA,GAAAA,KAAA;AAChB,aAAKzkB,GAAL,GAAW,+CAAOA,GAAlB;AACH;;;;mCAGU0kB,M,EAAQzkB,K,EAAK;AACpB,cAAI4L,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EAC2BA,GAD3B,CAC+B,eAD/B,EACgD1kB,KADhD,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,QAAT,GAAoB0kB,MAAnC,EAA2C;AAAC7Y,mBAAO,EAAEA;AAAV,WAA3C,CAAP;AACH;;;uCAEc5L,K,EAAOmB,C,EAAC;AACnB,cAAIyK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EAC2BA,GAD3B,CAC+B,eAD/B,EACgD1kB,KADhD,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,iBAAT,GAA6B,GAA7B,GAAmCoB,CAAlD,EAAqD;AAACyK,mBAAO,EAAEA;AAAV,WAArD,CAAP;AACH;;;wCAEe5L,K,EAAO2H,K,EAAK;AACxB,cAAIlH,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAe8D,KAAf,CAAb;AACA,cAAIiE,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EAC2BA,GAD3B,CAC+B,eAD/B,EACgD1kB,KADhD,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,kBAAzB,EAA6CU,MAA7C,EAAqD;AAACmL,mBAAO,EAAEA;AAAV,WAArD,CAAP;AACH;;;wCAEe5L,K,EAAK;AACjB,cAAI4L,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EAC2BA,GAD3B,CAC+B,eAD/B,EACgD1kB,KADhD,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,mBAAxB,EAA6C;AAAC6L,mBAAO,EAAEA;AAAV,WAA7C,CAAP;AACH;;;;;;;uBA/BQ2Y,Y,EAAY,uH;AAAA,K;;;aAAZA,Y;AAAY,eAAZA,YAAY;;;;;sEAAZA,Y,EAAY;cADxB;AACwB,Q;;;;;;;;;;;;;;;;;;;;;;ACPzB;AAAA;;;AAAA;AAAA;AAAA;;AAAO,QAAIM,MAAM,GAAG;AAChB9kB,SAAG,EAAE,uBADW,CAEhB;AACA;;AAHgB,KAAb;;;;;;;;;;;;;;;;ACAP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOa+kB,iB;AAGT,iCAAoBN,KAApB,EAAqC;AAAA;;AAAjB,aAAAA,KAAA,GAAAA,KAAA;AAChB,aAAKzkB,GAAL,GAAW,+CAAOA,GAAlB;AACH;;;;4CAGgB;AACb,cAAI6L,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,YAAxB,EAAsC;AAAC6L,mBAAO,EAAEA;AAAV,WAAtC,CAAP;AACH;;;4CAEgB;AACb,cAAIA,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,uBAAxB,EAAiD;AAAC6L,mBAAO,EAAEA;AAAV,WAAjD,CAAP;AACH;;;;;;;uBAhBQkZ,iB,EAAiB,uH;AAAA,K;;;aAAjBA,iB;AAAiB,eAAjBA,iBAAiB;;;;;sEAAjBA,iB,EAAiB;cAD7B;AAC6B,Q;;;;;;;;;;;;;;;;;;;;;;ACP9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAQaC,a;AAGT,6BAAmBP,KAAnB,EAAoC;AAAA;;AAAjB,aAAAA,KAAA,GAAAA,KAAA;AACf,aAAKzkB,GAAL,GAAW,+CAAOA,GAAlB;AACH;;;;oCAEWC,K,EAAOuH,M,EAAc;AAC7B,cAAI9G,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAe0D,MAAf,CAAb;AACA,cAAIqE,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,cAAzB,EAAyCU,MAAzC,EAAiD;AAACmL,mBAAO,EAAEA;AAAV,WAAjD,CAAP;AACH;;;yCAEgB5L,K,EAAOsH,Q,EAAUE,S,EAAW9F,M,EAAM;AAC/C,cAAIkK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,oBAAT,GAAgCuH,QAAhC,GAA2C,GAA3C,GAAiDE,SAAjD,GAA6D,GAA7D,GAAmE9F,MAAlF,EAA0F;AAACkK,mBAAO,EAAEA;AAAV,WAA1F,CAAP;AACH;;;sCAEa5L,K,EAAOsH,Q,EAAU0d,G,EAAG;AAC9B,cAAIpZ,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,SAAT,GAAqBuH,QAArB,GAAgC,GAAhC,GAAsC0d,GAArD,EAA0D;AAACpZ,mBAAO,EAAEA;AAAV,WAA1D,CAAP;AACH;;;uCAEc5L,K,EAAOuD,a,EAA8B;AAAA,cAAfF,IAAe,uEAAR,CAAQ;AAAA,cAALkK,KAAK;AAChD,cAAI3B,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,UAAT,GAAqBwD,aAArB,GAAoC,GAApC,GAAyCF,IAAzC,GAA+C,GAA/C,GAAoDkK,KAAnE,EAA0E;AAAC3B,mBAAO,EAAEA;AAAV,WAA1E,CAAP;AACH;;;8CAEqB5L,K,EAAOwH,S,EAA0B;AAAA,cAAfnE,IAAe,uEAAR,CAAQ;AAAA,cAALkK,KAAK;AACnD,cAAI3B,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,kBAAT,GAA6ByH,SAA7B,GAAwC,GAAxC,GAA6CnE,IAA7C,GAAmD,GAAnD,GAAwDkK,KAAvE,EAA8E;AAAC3B,mBAAO,EAAEA;AAAV,WAA9E,CAAP;AACH;;;sCAEa5L,K,EAAOf,E,EAAI+lB,G,EAAG;AACxB,cAAIpZ,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,iBAAT,GAA4Bd,EAA5B,GAAgC,GAAhC,GAAqC+lB,GAApD,EAAyD;AAACpZ,mBAAO,EAAEA;AAAV,WAAzD,CAAP;AACH;;;uCAEc5L,K,EAAOf,E,EAAE;AACpB,cAAI2M,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,WAAkB,KAAKzkB,GAAL,GAAS,kBAAT,GAA6Bd,EAA/C,EAAmD;AAAC2M,mBAAO,EAAEA;AAAV,WAAnD,CAAP;AACH;;;6BAEI5L,K,EAAOilB,Y,EAA0B;AAClC,cAAIxkB,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAeohB,YAAf,CAAb;AACA,cAAIrZ,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,MAAzB,EAAiCU,MAAjC,EAAyC;AAACmL,mBAAO,EAAEA;AAAV,WAAzC,CAAP;AACH;;;iDAEwB5L,K,EAAK;AAC1B,cAAI4L,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,oBAAxB,EAA8C;AAAC6L,mBAAO,EAAEA;AAAV,WAA9C,CAAP;AACH;;;;;;;uBA7DQmZ,a,EAAa,uH;AAAA,K;;;aAAbA,a;AAAa,eAAbA,aAAa;;;;;sEAAbA,a,EAAa;cADzB;AACyB,Q;;;;;;;;;;;;;;;;;;;;;;ACR1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaG,e;AAGT,+BAAmBV,KAAnB,EAAoC;AAAA;;AAAjB,aAAAA,KAAA,GAAAA,KAAA;AACf,aAAKzkB,GAAL,GAAW,+CAAOA,GAAlB;AACH;;;;sCAEaC,K,EAAOoJ,Q,EAAkB;AACnC,cAAI3I,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAeuF,QAAf,CAAb;AACA,cAAIwC,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAGA,iBAAO,KAAKwkB,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,gBAAzB,EAA2CU,MAA3C,EAAmD;AAACmL,mBAAO,EAAEA;AAAV,WAAnD,CAAP;AACH;;;2CAEkB5L,K,EAAOuD,a,EAAe6F,Q,EAAkB;AACvD,cAAI3I,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAeuF,QAAf,CAAb;AACA,cAAIwC,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWW,GAAX,CAAe,KAAKplB,GAAL,GAAS,sBAAT,GAAiCwD,aAAjC,GAAiD,GAAjD,GAAuD6F,QAAQ,CAAC9H,GAA/E,EAAoFb,MAApF,EAA4F;AAACmL,mBAAO,EAAEA;AAAV,WAA5F,CAAP;AACH;;;wCAEe8I,U,EAAU;AACtB,cAAI9I,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,WAAT,GAAqB2U,UAApC,EAAgD;AAAC9I,mBAAO,EAAEA;AAAV,WAAhD,CAAP;AACH;;;yCAEgB2I,Q,EAAkB;AAAA,cAARlR,IAAQ,uEAAD,CAAC;AAC/B,cAAIuI,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd,CAD+B,CAG/B;;AAEA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,YAAT,GAAuBwU,QAAvB,GAAiC,GAAjC,GAAqClR,IAApD,EAA0D;AAACuI,mBAAO,EAAEA;AAAV,WAA1D,CAAP;AACH;;;oDAE2BqR,S,EAAS;AACjC,cAAIrR,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,aAAT,GAAwBkd,SAAvC,EAAkD;AAACrR,mBAAO,EAAEA;AAAV,WAAlD,CAAP;AACH;;;+CAEsB2I,Q,EAAQ;AAC3B,cAAI3I,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,mBAAT,GAA8BwU,QAA7C,EAAuD;AAAC3I,mBAAO,EAAEA;AAAV,WAAvD,CAAP;AACH;;;wCAEe5L,K,EAAOf,E,EAAIyC,M,EAAM;AAC7B,cAAIkK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAGA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,mBAAT,GAA8Bd,EAA9B,GAAmC,GAAnC,GAAyCyC,MAAxD,EAAgE;AAACkK,mBAAO,EAAEA;AAAV,WAAhE,CAAP;AACH;;;yCAEgB5L,K,EAAOf,E,EAAE;AACtB,cAAI2M,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAGA,iBAAO,KAAKwkB,KAAL,WAAkB,KAAKzkB,GAAL,GAAS,WAAT,GAAsBd,EAAxC,EAA4C;AAAC2M,mBAAO,EAAEA;AAAV,WAA5C,CAAP;AACH;;;+CAEsB5L,K,EAAOf,E,EAAE;AAC5B,cAAI2M,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAGA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,kBAAT,GAA6Bd,EAA5C,EAAgD;AAAC2M,mBAAO,EAAEA;AAAV,WAAhD,CAAP;AACH;;;;;;;uBAhEQsZ,e,EAAe,uH;AAAA,K;;;aAAfA,e;AAAe,eAAfA,eAAe;;;;;sEAAfA,e,EAAe;cAD3B;AAC2B,Q;;;;;;;;;;;;;;;;;;;;;;ACP5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QASaE,kB;AAGT,kCAAmBZ,KAAnB,EAAoC;AAAA;;AAAjB,aAAAA,KAAA,GAAAA,KAAA;AACf,aAAKzkB,GAAL,GAAW,+CAAOA,GAAlB;AACH;;;;2CAGkBwD,a,EAAa;AAC5B,cAAIqI,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,cAAT,GAA0BwD,aAAzC,EAAwD;AAACqI,mBAAO,EAAEA;AAAV,WAAxD,CAAP;AACH;;;iDAEwB5L,K,EAAO0B,M,EAAM;AAClC,cAAIkK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,qBAAT,GAAiC2B,MAAhD,EAAwD;AAACkK,mBAAO,EAAEA;AAAV,WAAxD,CAAP;AACH;;;8CAEqB5L,K,EAAOqB,W,EAAwB;AACjD,cAAIZ,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAexC,WAAf,CAAb;AACA,cAAIuK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWW,GAAX,CAAe,KAAKplB,GAAL,GAAS,yBAAT,GAAmCsB,WAAW,CAACC,GAA9D,EAAmEb,MAAnE,EAA2E;AAACmL,mBAAO,EAAEA;AAAV,WAA3E,CAAP;AACH;;;6CAEoB5L,K,EAAOqB,W,EAAwB;AAChD,cAAIZ,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAexC,WAAf,CAAb;AACA,cAAIuK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAGA,iBAAO,KAAKwkB,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,uBAAzB,EAAkDU,MAAlD,EAA0D;AAACmL,mBAAO,EAAEA;AAAV,WAA1D,CAAP;AACH;;;4CAEmBlH,W,EAAasgB,G,EAAG;AAChC,cAAIpZ,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AAEA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,eAAT,GAA0B2E,WAA1B,GAAwC,GAAxC,GAA8CsgB,GAA7D,EAAkE;AAACpZ,mBAAO,EAAEA;AAAV,WAAlE,CAAP;AACH;;;uCAEcqR,S,EAAS;AACpB,cAAIrR,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AAEA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,8BAAT,GAA0Ckd,SAAzD,EAAoE;AAACrR,mBAAO,EAAEA;AAAV,WAApE,CAAP;AACH;;;yCAEgBrI,a,EAA4B;AAAA,cAAbF,IAAa,uEAAN,CAAM;AAAA,cAAH2hB,GAAG;AACzC,cAAIpZ,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AAEA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,iCAAT,GAA4CwD,aAA5C,GAA4D,GAA5D,GAAkEyhB,GAAlE,GAAwE,GAAxE,GAA8E3hB,IAA7F,EAAmG;AAACuI,mBAAO,EAAEA;AAAV,WAAnG,CAAP;AACH;;;0CAEiB5L,K,EAAOuD,a,EAAe0Z,S,EAAWvF,O,EAAgB;AAC/D,cAAIjX,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAe6T,OAAf,CAAb;AACA,cAAI9L,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAGA,iBAAO,KAAKwkB,KAAL,CAAWW,GAAX,CAAe,KAAKplB,GAAL,GAAS,iCAAT,GAA2CwD,aAA3C,GAA2D,GAA3D,GAAiE0Z,SAAhF,EAA2Fxc,MAA3F,EAAmG;AAACmL,mBAAO,EAAEA;AAAV,WAAnG,CAAP;AACH;;;qCAEY5L,K,EAAOuD,a,EAAemU,O,EAAgB;AAC/C,cAAIjX,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAe6T,OAAf,CAAb;AACA,cAAI9L,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAGA,iBAAO,KAAKwkB,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,4BAAT,GAAwCwD,aAAxD,EAAuE9C,MAAvE,EAA+E;AAACmL,mBAAO,EAAEA;AAAV,WAA/E,CAAP;AACH;;;wCAEe5L,K,EAAOid,S,EAAS;AAC5B,cAAIrR,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAGA,iBAAO,KAAKwkB,KAAL,WAAkB,KAAKzkB,GAAL,GAAS,mBAAT,GAA+Bkd,SAAjD,EAA4D;AAACrR,mBAAO,EAAEA;AAAV,WAA5D,CAAP;AACH;;;0CAEiB5L,K,EAAOuD,a,EAAe0G,M,EAAQjI,Q,EAAQ;AACpD,cAAI4J,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,UAAT,GAAsBwD,aAAtB,GAAsC,GAAtC,GAA4C0G,MAA5C,GAAqD,GAArD,GAA2DjI,QAA1E,EAAoF;AAAC4J,mBAAO,EAAEA;AAAV,WAApF,CAAP;AACH;;;6CAEoB5L,K,EAAOuD,a,EAAe7B,M,EAAM;AAC7C,cAAIkK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,mBAAT,GAA+BwD,aAA/B,GAA+C,GAA/C,GAAqD7B,MAApE,EAA4E;AAACkK,mBAAO,EAAEA;AAAV,WAA5E,CAAP;AACH;;;4CAEmB5L,K,EAAgB;AAAA,cAAT+E,KAAS,uEAAD,CAAC;AAChC,cAAI6G,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,uCAAT,GAAmDgF,KAAlE,EAAyE;AAAC6G,mBAAO,EAAEA;AAAV,WAAzE,CAAP;AACH;;;uCAEc5L,K,EAAOuD,a,EAAa;AAC/B,cAAIqI,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,kBAAT,GAA8BwD,aAA7C,EAA4D;AAACqI,mBAAO,EAAEA;AAAV,WAA5D,CAAP;AACH;;;4CAEmB5L,K,EAAOuD,a,EAAe8G,M,EAAM;AAC5C,cAAIuB,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,uBAAT,GAAmCwD,aAAnC,GAAmD,GAAnD,GAAyD8G,MAAxE,EAAgF;AAACuB,mBAAO,EAAEA;AAAV,WAAhF,CAAP;AACH;;;oCAEW5L,K,EAAOuD,a,EAAe8G,M,EAAM;AACpC,cAAIuB,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,cAAT,GAA0BwD,aAA1B,GAA0C,GAA1C,GAAgD8G,MAA/D,EAAuE;AAACuB,mBAAO,EAAEA;AAAV,WAAvE,CAAP;AACH;;;sCAEa5L,K,EAAOI,Q,EAAkB;AACnC,cAAIK,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAezD,QAAf,CAAb;AACA,cAAIwL,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,gBAAzB,EAA2CU,MAA3C,EAAmD;AAACmL,mBAAO,EAAEA;AAAV,WAAnD,CAAP;AACH;;;wCAEe5L,K,EAAOqlB,U,EAAU;AAC7B,cAAIzZ,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,mBAAT,GAA+BslB,UAA9C,EAA0D;AAACzZ,mBAAO,EAAEA;AAAV,WAA1D,CAAP;AACH;;;yCAEgB5L,K,EAAOuD,a,EAAuB;AAAA,cAARF,IAAQ,uEAAD,CAAC;AAC3C,cAAIuI,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,oBAAT,GAAgCwD,aAAhC,GAAgD,GAAhD,GAAsDF,IAArE,EAA2E;AAACuI,mBAAO,EAAEA;AAAV,WAA3E,CAAP;AACH;;;mCAEU5L,K,EAAOO,K,EAAK;AACnB,cAAIE,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAetD,KAAf,CAAb;AACA,cAAIqL,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,aAAzB,EAAwCU,MAAxC,EAAgD;AAACmL,mBAAO,EAAEA;AAAV,WAAhD,CAAP;AACH;;;qCAEY5L,K,EAAOslB,O,EAAO;AACvB,cAAI1Z,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,gBAAT,GAA4BulB,OAA3C,EAAoD;AAAC1Z,mBAAO,EAAEA;AAAV,WAApD,CAAP;AACH;;;sCAEa5L,K,EAAOuD,a,EAAuB;AAAA,cAARF,IAAQ,uEAAD,CAAC;AACxC,cAAIuI,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC1kB,KADxC,CAAd;AAEA,iBAAO,KAAKwkB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,iBAAT,GAA6BwD,aAA7B,GAA6C,GAA7C,GAAmDF,IAAlE,EAAwE;AAACuI,mBAAO,EAAEA;AAAV,WAAxE,CAAP;AACH;;;;;;;uBAnJQwZ,kB,EAAkB,uH;AAAA,K;;;aAAlBA,kB;AAAkB,eAAlBA,kBAAkB;;;;;sEAAlBA,kB,EAAkB;cAD9B;AAC8B,Q;;;;;;;;;;;;;;;;;;;;;;ACT/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaG,Y;AAGT,4BAAoBf,KAApB,EAAqC;AAAA;;AAAjB,aAAAA,KAAA,GAAAA,KAAA;AAChB,aAAKzkB,GAAL,GAAW,+CAAOA,GAAlB;AACH;;;;uCAGc2E,W,EAAa8C,S,EAAWT,G,EAAG;AACtC,cAAI6E,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,QAAT,GAAoB2E,WAApB,GAAkC,GAAlC,GAAwC8C,SAAxC,GAAoD,GAApD,GAA0DT,GAAzE,EAA8E;AAAC6E,mBAAO,EAAEA;AAAV,WAA9E,CAAP;AACH;;;oCAEW7E,G,EAAG;AACX,cAAI6E,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,eAAT,GAA2BgH,GAA1C,EAA+C;AAAC6E,mBAAO,EAAEA;AAAV,WAA/C,CAAP;AACH;;;+CAEsBrI,a,EAAa;AAChC,cAAIqI,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,OAAT,GAAmBwD,aAAlC,EAAiD;AAACqI,mBAAO,EAAEA;AAAV,WAAjD,CAAP;AACH;;;yCAEa;AACV,cAAIA,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,UAAxB,EAAoC;AAAC6L,mBAAO,EAAEA;AAAV,WAApC,CAAP;AACH;;;sCAEayN,Q,EAAUE,W,EAAaC,a,EAAe7U,S,EAAWJ,O,EAAO;AAClE,cAAIqH,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,WAAT,GAAuBsZ,QAAvB,GAAkC,GAAlC,GAAwCE,WAAxC,GAAsD,GAAtD,GAA4DC,aAA5D,GAA4E,GAA5E,GAAkF7U,SAAlF,GAA8F,GAA9F,GAAoGJ,OAAnH,EAA4H;AAACqH,mBAAO,EAAEA;AAAV,WAA5H,CAAP;AACH;;;8CAEqB4Z,S,EAAS;AAC3B,cAAI5Z,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,YAAT,GAAwBylB,SAAvC,EAAkD;AAAC5Z,mBAAO,EAAEA;AAAV,WAAlD,CAAP;AACH;;;mCAEUlK,M,EAAM;AACb,cAAIkK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,cAAT,GAA0B2B,MAAzC,EAAiD;AAACkK,mBAAO,EAAEA;AAAV,WAAjD,CAAP;AACH;;;4CAEmB3M,E,EAAE;AAClB,cAAI2M,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,kBAAT,GAA8Bd,EAA7C,EAAiD;AAAC2M,mBAAO,EAAEA;AAAV,WAAjD,CAAP;AACH;;;oCAEWlK,M,EAAM;AACd,cAAIkK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,eAAT,GAA2B2B,MAA1C,EAAkD;AAACkK,mBAAO,EAAEA;AAAV,WAAlD,CAAP;AACH;;;sCAEalK,M,EAAM;AAChB,cAAIkK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,iBAAT,GAA6B2B,MAA5C,EAAoD;AAACkK,mBAAO,EAAEA;AAAV,WAApD,CAAP;AACH;;;mCAEO;AACJ,cAAIA,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,UAAxB,EAAoC;AAAC6L,mBAAO,EAAEA;AAAV,WAApC,CAAP;AACH;;;iCAEQ6Z,U,EAAYpiB,I,EAAI;AACrB,cAAIuI,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,YAAT,GAAwB0lB,UAAxB,GAAqC,GAArC,GAA2CpiB,IAA1D,EAAgE;AAACuI,mBAAO,EAAEA;AAAV,WAAhE,CAAP;AACH;;;;;;;uBAlEQ2Z,Y,EAAY,uH;AAAA,K;;;aAAZA,Y;AAAY,eAAZA,YAAY;;;;;sEAAZA,Y,EAAY;cADxB;AACwB,Q;;;;;;;;;;;;;;;;;;;;;;ACPzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAIaG,a;AAGT,+BAAc;AAAA;;AACV,aAAK3lB,GAAL,GAAW,+CAAOA,GAAlB;AACH;;;;wCAEeA,G,EAAa4lB,I,EAAY3lB,K,EAAe4lB,I,EAAcja,M,EAAc;AAChF;AAEA,iBAAO,IAAInN,OAAJ,CAAY,UAASC,OAAT,EAAkBonB,MAAlB,EAAwB;AACvC,gBAAIC,QAAQ,GAAQ,IAAIC,QAAJ,EAApB;AACA,gBAAIC,GAAG,GAAG,IAAIC,cAAJ,EAAV;AAEAH,oBAAQ,CAACI,MAAT,CAAgBN,IAAhB,EAAsBD,IAAtB;;AAEAK,eAAG,CAACG,kBAAJ,GAAyB;AACrB,kBAAGH,GAAG,CAACI,UAAJ,IAAkB,CAArB,EAAuB;AACnB,oBAAGJ,GAAG,CAACtkB,MAAJ,IAAc,GAAjB,EAAqB;AACjBjD,yBAAO,CAACoC,IAAI,CAACC,KAAL,CAAWklB,GAAG,CAAC5kB,QAAf,CAAD,CAAP;AACH,iBAFD,MAEO;AACHykB,wBAAM,CAACG,GAAG,CAAC5kB,QAAL,CAAN;AACH;AACJ;AACJ,aARD;;AAUA4kB,eAAG,CAACK,IAAJ,CAAS1a,MAAT,EAAiB5L,GAAjB,EAAsB,IAAtB;AACAimB,eAAG,CAACM,gBAAJ,CAAqB,eAArB,EAAsCtmB,KAAtC;AACAgmB,eAAG,CAACO,IAAJ,CAAST,QAAT;AACH,WAnBM,CAAP;AAoBH;;;;;;;uBA9BQJ,a;AAAa,K;;;aAAbA,a;AAAa,eAAbA,aAAa;;;;;sEAAbA,a,EAAa;cADzB;AACyB,Q;;;;;;;;;;;;;;;;;;;;ACJ1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOac,c;AAMT,8BAAmBhC,KAAnB,EAAoC;AAAA;;AAAjB,aAAAA,KAAA,GAAAA,KAAA;AACf,aAAKzkB,GAAL,GAAW,+CAAOA,GAAlB;AACH;;;;iCAEQwE,O,EAAgB;AACrB,cAAI9D,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAeU,OAAf,CAAb;AACA,cAAIqH,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AAEA,iBAAO,KAAKF,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,UAAzB,EAAqCU,MAArC,EAA6C;AAACmL,mBAAO,EAAEA;AAAV,WAA7C,CAAP;AACH;;;+BAEMrH,O,EAAwB;AAAA,cAAfkiB,QAAe,uEAAJ,IAAI;;AAC3B,cAAGA,QAAQ,IAAI,IAAf,EAAoB;AAChBliB,mBAAO,CAACkiB,QAAR,GAAmBA,QAAnB;AACH;;AAED,cAAIhmB,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAeU,OAAf,CAAb;AACA,cAAIqH,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AAEA,iBAAO,KAAKF,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,OAAzB,EAAkCU,MAAlC,EAA0C;AAACmL,mBAAO,EAAEA;AAAV,WAA1C,CAAP;AACH;;;sCAEU;AACP,cAAI1L,QAAQ,GAAGW,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAf;;AAEA,cAAG,CAACd,QAAJ,EAAa;AACT,iBAAKA,QAAL,GAAgB,IAAhB;AACH;;AAED,cAAGA,QAAQ,IAAI,WAAf,EAA2B;AACvB,iBAAKA,QAAL,GAAgBA,QAAhB;AACH,WAFD,MAEO;AACH,iBAAKA,QAAL,GAAgB,IAAhB;AACH;;AAED,iBAAO,KAAKA,QAAZ;AACH;;;uCAEW;AACR,cAAIU,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAhB;;AAEA,cAAG,CAACJ,SAAJ,EAAc;AACV,iBAAKA,SAAL,GAAiB,IAAjB;AACH;;AAED,cAAGA,SAAS,IAAI,WAAhB,EAA4B;AACxB,iBAAKA,SAAL,GAAiBA,SAAjB;AACH,WAFD,MAEO;AACH,iBAAKA,SAAL,GAAiB,IAAjB;AACH;;AAED,iBAAO,KAAKA,SAAZ;AACH;;;mCAEO;AACJ,cAAIZ,KAAK,GAAGe,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;;AAEA,cAAGhB,KAAK,IAAI,WAAZ,EAAwB;AACpB,iBAAKA,KAAL,GAAaA,KAAb;AACH,WAFD,MAEO;AACH,iBAAKA,KAAL,GAAa,IAAb;AACH;;AAED,iBAAO,KAAKA,KAAZ;AACH;;;0CAEiBuE,O,EAAgB;AAC9B,cAAI9D,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAeU,OAAf,CAAb;AACA,cAAIqH,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWW,GAAX,CAAe,KAAKplB,GAAL,GAAS,oBAAxB,EAA8CU,MAA9C,EAAsD;AAACmL,mBAAO,EAAEA;AAAV,WAAtD,CAAP;AACH;;;kDAEyBpE,S,EAAW6E,O,EAAO;AACxC,cAAIT,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,8BAAT,GAA0CyH,SAA1C,GAAsD,GAAtD,GAA4D6E,OAA3E,EAAoF;AAACT,mBAAO,EAAEA;AAAV,WAApF,CAAP;AACH;;;uCAEc3M,E,EAAE;AACb,cAAI2M,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAGA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,kBAAT,GAA4Bd,EAA3C,EAA+C;AAAC2M,mBAAO,EAAEA;AAAV,WAA/C,CAAP;AACH;;;wCAEe3M,E,EAAE;AACd,cAAI2M,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAGA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,mBAAT,GAA6Bd,EAA5C,EAAgD;AAAC2M,mBAAO,EAAEA;AAAV,WAAhD,CAAP;AACH;;;wCAEe3M,E,EAAE;AACd,cAAI2M,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAGA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,mBAAT,GAA6Bd,EAA5C,EAAgD;AAAC2M,mBAAO,EAAEA;AAAV,WAAhD,CAAP;AACH;;;2CAEkB8B,Q,EAAQ;AACvB,cAAI9B,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,SAAT,GAAqB2N,QAApC,EAA8C;AAAC9B,mBAAO,EAAEA;AAAV,WAA9C,CAAP;AACH;;;0CAEiB8B,Q,EAAU+W,M,EAAM;AAC9B,cAAI7Y,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,CAAd;AACA,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,eAAT,GAA2B2N,QAA3B,GAAsC,GAAtC,GAA4C+W,MAA3D,EAAmE;AAAC7Y,mBAAO,EAAEA;AAAV,WAAnE,CAAP;AACH;;;2CAEe;AACZ,cAAIA,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,oBAAxB,EAA8C;AAAC6L,mBAAO,EAAEA;AAAV,WAA9C,CAAP;AACH;;;0CAEiBvI,I,EAAI;AAClB,cAAIuI,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,sBAAT,GAAkCsD,IAAjD,EAAuD;AAACuI,mBAAO,EAAEA;AAAV,WAAvD,CAAP;AACH;;;2CAEkBvI,I,EAAI;AACnB,cAAIuI,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,uBAAT,GAAmCsD,IAAlD,EAAwD;AAACuI,mBAAO,EAAEA;AAAV,WAAxD,CAAP;AACH;;;uCAEc3M,E,EAAIyC,M,EAAM;AACrB,cAAIkK,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,kBAAT,GAA8Bd,EAA9B,GAAmC,GAAnC,GAAyCyC,MAAxD,EAAgE;AAACkK,mBAAO,EAAEA;AAAV,WAAhE,CAAP;AACH;;;uCAEclK,M,EAAQ8jB,S,EAAS;AAC5B,cAAI5Z,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,iBAAT,GAA6B2B,MAA7B,GAAsC,GAAtC,GAA4C8jB,SAA3D,EAAsE;AAAC5Z,mBAAO,EAAEA;AAAV,WAAtE,CAAP;AACH;;;yCAEa;AACV,cAAIA,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,qBAAxB,EAA+C;AAAC6L,mBAAO,EAAEA;AAAV,WAA/C,CAAP;AACH;;;wCAEe3M,E,EAAE;AACd,cAAI2M,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,WAAkB,KAAKzkB,GAAL,GAAS,mBAAT,GAA+Bd,EAA/B,GAAoC,cAAtD,EAAsE;AAAC2M,mBAAO,EAAEA;AAAV,WAAtE,CAAP;AACH;;;sCAEapE,S,EAAS;AACnB,cAAIoE,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,UAAT,GAAsByH,SAArC,EAAgD;AAACoE,mBAAO,EAAEA;AAAV,WAAhD,CAAP;AACH;;;yCAEgBpE,S,EAAS;AACtB,cAAIoE,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,oBAAT,GAAgCyH,SAA/C,EAA0D;AAACoE,mBAAO,EAAEA;AAAV,WAA1D,CAAP;AACH;;;uCAEcpE,S,EAAS;AACpB,cAAIoE,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,+BAAT,GAA2CyH,SAA1D,EAAqE;AAACoE,mBAAO,EAAEA;AAAV,WAArE,CAAP;AACH;;;yCAEgBrH,O,EAAgB;AAC7B,cAAI9D,MAAM,GAAGI,IAAI,CAACgD,SAAL,CAAeU,OAAf,CAAb;AACA,cAAIqH,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWI,IAAX,CAAgB,KAAK7kB,GAAL,GAAS,2BAAzB,EAAsDU,MAAtD,EAA8D;AAACmL,mBAAO,EAAEA;AAAV,WAA9D,CAAP;AACH;;;sCAEa4Z,S,EAAS;AACnB,cAAI5Z,OAAO,GAAG,IAAI,gEAAJ,GAAkB8Y,GAAlB,CAAsB,cAAtB,EAAsC,kBAAtC,EACmBA,GADnB,CACuB,eADvB,EACwC,KAAKzkB,QAAL,EADxC,CAAd;AAEA,iBAAO,KAAKukB,KAAL,CAAWG,GAAX,CAAe,KAAK5kB,GAAL,GAAS,iBAAT,GAA6BylB,SAA5C,EAAuD;AAAC5Z,mBAAO,EAAEA;AAAV,WAAvD,CAAP;AACH;;;;;;;uBA3LQ4a,c,EAAc,uH;AAAA,K;;;aAAdA,c;AAAc,eAAdA,cAAc;;;;;sEAAdA,c,EAAc;cAD1B;AAC0B,Q;;;;;;;;;;;;;;;;;;;;;;ACP3B;AAAA;;;AAAA;AAAA;AAAA,O,CAAA;AACA;AACA;;;AAEO,QAAME,WAAW,GAAG;AACzBzW,gBAAU,EAAE;AADa,KAApB;AAIP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACfA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAI,sEAAYA,UAAhB,EAA4B;AAC1B;AACD;;AAED,gFAAyB0W,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,aAAIrlB,OAAO,CAAClB,KAAR,CAAcumB,GAAd,CAAJ;AAAA,KADZ","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {Deposito} from '../../models/deposito';\nimport {GLOBAL} from '../../../services/global';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'deposito',\n    templateUrl: './deposito.component.html',\n    providers: [RestauranteService, UsuarioService]\n}) \n\nexport class DepositoComponent implements OnInit{\t\t\t\t\n    public identity;\n    public token;\n    public restaurante;\n    public status;\n    public status2;\n    public error;\n    public url;\n    public deposito;\n    public tipo;\n    public cobro;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _restauranteService: RestauranteService,\n        private _location: Location\n    ){\n        this.url = GLOBAL.url;\n        this.token = this._usuarioService.getToken();\n        this.identity = this._usuarioService.getIdentity();\n        this.deposito = new Deposito(null,null,null,null,null,[],[],[],null);\n        this.error = null;\n        this.tipo = 1;\n        this.cobro = {};\n    }\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                this.obtenerRestaurante(params['id']);\n            }\n        })\n\n        let identityR = JSON.parse(localStorage.getItem('identityR'));\n\n        if(identityR != \"undefined\" && identityR != null){\n            localStorage.removeItem('identityR');\n        }\n    }\n\n\n    backClicked() {\n        this._location.back();\n    }\n\n\n    cambiarTipo(n){\n        this.tipo = n;\n    }\n\n\n    obtenerRestaurante(id){\n        this._restauranteService.obtenerRestaurante(id).subscribe(\n            response => {\n                if(response.restaurante){\n                    this.restaurante = response.restaurante;\n                    this.deposito.restaurante = this.restaurante._id;\n                    console.log(this.restaurante);\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n\n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    onSubmit(form){\n        this.deposito.credito.push(this.restaurante.credito);\n        this.deposito.debe.push(this.restaurante.debe);\n        this.deposito.ralphDebe.push(this.restaurante.ralphDebe);\n\n        var ralphDebe = this.restaurante.ralphDebe;\n        var debe = this.restaurante.debe*-1;\n        var credito = this.restaurante.credito;\n        var deposito = this.deposito.cantidad;\n\n        if(ralphDebe > 0){\n            debe = ((debe*1000) - (ralphDebe*1000))/1000;\n\n            if(debe >= 0){\n                ralphDebe = 0;\n                deposito = ((deposito*1000) - (debe*1000))/1000;\n\n                if(deposito >= 0){\n                    credito = ((deposito*1000) + (credito*1000))/1000;\n                    debe = 0;\n\n                } else {\n                    debe = deposito;\n                }\n\n            } else {\n                ralphDebe = debe*-1;\n                debe = 0;\n                credito = ((deposito*1000) + (credito*1000))/1000;\n            }\n\n        } else {\n            deposito = ((deposito*1000) - (debe*1000))/1000;\n            if(deposito >= 0){\n                debe = 0;\n                credito = ((deposito*1000) + (credito*1000))/1000;\n\n            } else {\n                debe = deposito;\n            }\n        }\n\n        this.deposito.ralphDebe.push(ralphDebe);\n        this.deposito.debe.push(debe);\n        this.deposito.credito.push(credito);\n\n\n        this._restauranteService.crearDeposito(this.token, this.deposito).subscribe(\n            response => {\n                if(response){\n                    console.log(response);\n                    form.reset();\n                    this.status2 = 'success';\n                    this.restaurante.ralphDebe = ralphDebe;\n                    this.restaurante.debe = debe;\n                    this.restaurante.credito = credito;\n                    this.actualizarCredito();\n                    this.deposito.credito = [];\n                    this.deposito.debe = [];\n                    this.deposito.ralphDebe = [];\n\n                } else {\n                    this.status2 = 'error';\n                    this.error = response.message;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                \n                if(errorMessage != null){\n                    this.status2 = 'error';\n                    if(errorMessage.error.message){\n                        this.error = errorMessage.error.message;\n                    } else {\n                        this.error = 'Error en el servidor';\n                    }\n                }\n            }\n        )\n    }\n\n\n    onSubmit2(form){\n        this.cobro.cantidad = this.deposito._id;\n        this.cobro.nota = this.deposito.fecha;\n        this.cobro.restaurante = this.restaurante._id;\n\n        var credito = this.restaurante.credito;\n        var debe = this.restaurante.debe;\n\n        if(credito > 0){\n            var resultado = ((credito*1000) - (this.cobro.cantidad*1000))/1000;\n\n            if(resultado > 0){\n                credito = resultado;\n            }\n    \n            if(resultado <= 0){\n                credito = 0;\n                debe = resultado;\n            }\n\n        } else if (credito <= 0){\n            var resultado2 = ((debe*1000) - (this.cobro.cantidad*1000))/1000;\n            debe = resultado2;\n        }\n\n\n        this._restauranteService.crearCobro(this.token, this.cobro).subscribe(\n            response => {\n                if(response){\n                    console.log(response);\n                    form.reset();\n                    this.status2 = 'success2';\n                    this.restaurante.credito = credito;\n                    this.restaurante.debe = debe;\n                    this.actualizarCredito();\n                    this.deposito.credito = [];\n                    this.deposito.debe = [];\n                    this.deposito.ralphDebe = [];\n\n                } else {\n                    this.status2 = 'error2';\n                    this.error = response.message;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                \n                if(errorMessage != null){\n                    this.status2 = 'error2';\n                    if(errorMessage.error.message){\n                        this.error = errorMessage.error.message;\n                    } else {\n                        this.error = 'Error en el servidor';\n                    }\n                }\n            }\n        )\n    }\n\n\n    actualizarCredito(){\n        this._restauranteService.actualizarRestaurante(this.token, this.restaurante).subscribe(\n            response => {\n                if(response){\n                    this.restaurante = response.restaurante;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }        \n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom col-10\">\n                <p class=\"text-center mt-1\" *ngIf=\"tipo == 1\">Nuevo depósito</p>\n                <p class=\"text-center mt-1\" *ngIf=\"tipo == 2\">Nuevo cobro</p>\n            </div>\n\n            <div class=\"navbars flex-grow-1\" *ngIf=\"restaurante\">\n                <p class=\"clickable text-right mr-1\" [routerLink]=\"['/admin/historial', restaurante._id]\">\n                    <i class=\"icon fas fa-history\"></i>\n                </p>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 50px;\"></p>\n\n    <div class=\"container\" *ngIf=\"restaurante\">\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                Ha ocurrido un error.\n            </p>\n        </div>\n\n        \n        <div class=\"credito-info2 container d-block mt-2 border-bottom\" *ngIf=\"restaurante\">            \n            <div>    \n                <div class=\"res-nom2 avatar flex-grow-1 mt-1\">\n                    <p class=\"text-center\"><img src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/><span class=\"pl-3\">{{restaurante.nombre}}</span></p>\n                </div>\n            </div>\n            <hr>\n\n            <div class=\"row\"> \n                <p class=\"pl-4 text col-8\">Crédito disponible:</p>\n                <p class=\"text-credito flex-grow-1 text-right pr-5\">{{'$' + restaurante.credito}}</p>\n            </div>\n    \n            <div class=\"row\">\n                <p class=\"pl-4 text col-8\">Debe a Ralph:</p>\n                <p class=\"text-debe flex-grow-1 text-right pr-5\">{{'$' + (restaurante.debe*-1)}}</p>\n            </div>\n    \n            <div class=\"row\">\n                <p class=\"pl-4 text col-8\">Ralph le debe:</p>\n                <p class=\"text-credito flex-grow-1 text-right pr-5\">{{'$' + restaurante.ralphDebe}}</p>\n            </div>\n        </div>\n\n        <br>\n\n        <div *ngIf=\"tipo == 1\" class=\"panel-body p-3 m-1 producto-nota\">\n            <form autocomplete=\"off\" #depositoForm=\"ngForm\" (ngSubmit)=\"onSubmit(depositoForm)\">\n                <div class=\"form-group\">\n                    <label class=\"ml-2\">Cantidad a pagar</label>\n                    <input type=\"number\" name=\"cantidad\" #cantidad=\"ngModel\" [(ngModel)]=\"deposito.cantidad\" class=\"form-control\" placeholder=\"Escribe sólo números...\" required />\n                </div>\n            \n                <div class=\"form-group\">\n                    <label class=\"ml-2\">Método de pago</label>\n                    <select name=\"metodoPago\" #metodoPago=\"ngModel\" [(ngModel)]=\"deposito.metodoPago\" class=\"custom-select\" required>\n                        <option value=null>Seleccionar</option>\n                        <option value=\"Efectivo\">Pago en efectivo</option>\n                        <option value=\"Oxxo\">Pago con Oxxo</option>\n                        <option value=\"Paypal\">Pago con Paypal</option>\n                        <option value=\"Transferencia\">Transferencia bancaria</option>\n                    </select>\n                </div>\n\n                <div class=\"producto-nota panel panel-default mt-3\">\n                    <p class=\"ml-2\">Nota <span class=\"text-muted\">(Opcional)</span></p>\n                    <textarea autocomplete=\"off\" name=\"nota\" #nota=\"ngModel\" [(ngModel)]=\"deposito.nota\" class=\"form-control producto-notabox\" placeholder=\"Escribe una nota...\"></textarea>\n                </div>\n            \n                <br>\n\n                <div class=\"alert alert-success text-center\" *ngIf=\"status2 == 'success'\">\n                    Se ha creado el depósito correctamente\n                </div>\n            \n                <div class=\"alert alert-danger text-center\" *ngIf=\"status2 == 'error'\">\n                    {{error}}\n                </div>\n\n                <p class=\"text-center\">\n                    <input type=\"submit\" value=\"Confirmar depósito\" class=\"btn btn-success mt-3 px-4\" [disabled]=\"!depositoForm.form.valid\">\n                </p>\n            </form>\n        </div>\n\n        <div *ngIf=\"tipo == 2\" class=\"panel-body p-3 m-1 producto-nota\">\n            <form autocomplete=\"off\" #cobroForm=\"ngForm\" (ngSubmit)=\"onSubmit2(cobroForm)\">\n                <div class=\"form-group\">\n                    <label class=\"ml-2\">Cantidad a cobrar</label>\n                    <input type=\"number\" name=\"_id\" #_id=\"ngModel\" [(ngModel)]=\"deposito._id\" class=\"form-control\" placeholder=\"Escribe sólo números...\" required />\n                </div>\n\n                <div class=\"producto-nota panel panel-default mt-3\">\n                    <p class=\"ml-2\">Nota</p>\n                    <textarea autocomplete=\"off\" name=\"fecha\" #fecha=\"ngModel\" [(ngModel)]=\"deposito.fecha\" class=\"form-control producto-notabox\" placeholder=\"Escribe una nota...\" required></textarea>\n                </div>\n            \n                <br>\n\n                <div class=\"alert alert-success text-center\" *ngIf=\"status2 == 'success2'\">\n                    Se ha creado el cobro correctamente\n                </div>\n            \n                <div class=\"alert alert-danger text-center\" *ngIf=\"status2 == 'error2'\">\n                    {{error}}\n                </div>\n\n                <p class=\"text-center\">\n                    <input type=\"submit\" value=\"Confirmar cobro\" class=\"btn btn-success mt-3 px-4\" [disabled]=\"!cobroForm.form.valid\">\n                </p>\n            </form>\n        </div>\n    </div>\n\n    <p style=\"height: 40px;\"></p>\n\n    <div id=\"myModal\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\">\n                <a (click)=\"cambiarTipo(1)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Depósito\n                </a>\n                <a (click)=\"cambiarTipo(2)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Cobro\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <nav class=\"navbar-bottom navbar-default fixed-bottom\">\n        <a href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\" class=\"btn-navbar col-12 border-top\">                \n            <p class=\"text-center text-depositar\">\n                <span *ngIf=\"tipo == 1\">Depósito</span>\n                <span *ngIf=\"tipo == 2\">Cobro</span>\n                <i class=\"ml-2 categorias-icon fas fa-sort-up\"></i>\n            </p>\n        </a>\n    </nav>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\n\n@Component({\n    selector: 'estadisticas',\n    templateUrl: './estadisticas.component.html',\n    providers: []\n})\n\nexport class EstadisticasComponent implements OnInit{\n\n    constructor(){\n\n    }\n\n    ngOnInit(){\n        console.log('component ha sido cargado');\n    }\n\n    // // if (window.matchMedia('(display-mode: standalone)').matches) {\n    // //     console.log('display-mode is standalone');\n    // // }\n}","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {PedidoService} from '../../../services/pedido.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {Restaurante} from '../../../restaurantes/models/restaurante';\nimport {Location} from '@angular/common';\nimport * as $ from 'jquery';\n\n@Component({\n    selector: 'historialRes',\n    templateUrl: './historialRes.component.html',\n    providers: [UsuarioService, PedidoService, RestauranteService]\n}) \n\nexport class HistorialResComponent implements OnInit{\t\t\t\t\n    public token;\n    public status;\n    public total;\n    public pedidos;\n    public page: number;\n    public pages: number;\n    public loading: boolean;\n    public restaurante: Restaurante;\n    public depositos;\n    public deposit;\n    public cobros;\n    public tipo;\n    public restauranteId;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _restauranteService: RestauranteService,\n        private _pedidoService: PedidoService,\n        private _location: Location\n    ){\n        this.token = this._usuarioService.getToken();\n        this.pedidos = [];\n        this.page = 1;\n        this.loading = true;\n        this.status = null;\n        this.tipo = 1;\n    }\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                this.restauranteId = params['id'];\n                this.obtenerRestaurante();\n                this.obtenerPedidos(this.page);\n            }\n        })\n    }\n\n\n    backClicked() {\n        // this._router.navigate(['/restaurante/inicio']);\n        this._location.back();\n    }\n\n\n    cambiarTipo(n){\n        if(this.tipo != n){\n            this.tipo = n;\n            this.loading = true;\n            this.page = 1;\n            \n            if(n == 1){\n                this.obtenerPedidos(this.page);\n                \n            } else if(n == 2){\n                this.obtenerDepositos(this.page);\n                \n            } else if(n == 3){\n                this.obtenerCobros(this.page);\n            }\n        }\n    }\n\n\n    onScroll(){\n        this.page += 1;\n\n        if(this.page >= this.pages+1){\n            return  this.loading = false;\n            \n        } else {\n            if(this.tipo == 1){\n                this.obtenerPedidos(this.page, true);\n                \n            } else if(this.tipo == 2){\n                this.obtenerDepositos(this.page, true);\n                \n            } else if(this.tipo == 3){\n                this.obtenerCobros(this.page, true);\n            }\n            this.loading = true;\n        }\n    }\n\n\n    obtenerRestaurante(){\n        this._restauranteService.obtenerRestaurante(this.restauranteId).subscribe(\n            response => {\n                if(response.restaurante){\n                    this.restaurante = response.restaurante;\n                    localStorage.setItem('identityR', JSON.stringify(this.restaurante));\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n    \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    obtenerPedidos(page, adding = false){\n        this._pedidoService.obtenerPedidos(this.token, this.restauranteId, page, 1).subscribe(\n            response => {\n                if(!response){\n                    return this.status = 'error';\n                }\n                this.pages = response.pages\n\n                if(!adding){\n                    this.pedidos = response.pedidos;\n                    this.total = response.total;\n                    this.loading = false;\n                } else {\n                    var arrayA = this.pedidos;\n                    var arrayB = response.pedidos;\n                    this.pedidos = arrayA.concat(arrayB);\n                    this.loading = false;\n                }            \n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    obtenerDepositos(page, adding = false){\n        this._restauranteService.obtenerDepositos(this.token, this.restauranteId, page).subscribe(\n            response => {\n                if(response){\n                    this.pages = response.pages\n    \n                    if(!adding){\n                        this.depositos = response.depositos;\n                        this.total = response.total;\n                        this.loading = false;\n                    } else {\n                        var arrayA = this.depositos;\n                        var arrayB = response.depositos;\n                        this.depositos = arrayA.concat(arrayB);\n                        this.loading = false;\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n\n    obtenerCobros(page, adding = false){\n        this._restauranteService.obtenerCobros(this.token, this.restauranteId, page).subscribe(\n            response => {\n                if(response){\n                    // const sortedActivities = this.cobros.slice().sort((a, b) => b.fecha - a.fecha);\n                    this.pages = response.pages\n    \n                    if(!adding){\n                        this.cobros = response.cobros;\n                        this.total = response.total;\n                        this.loading = false;\n                    } else {\n                        var arrayA = this.cobros;\n                        var arrayB = response.cobros;\n                        this.cobros = arrayA.concat(arrayB);\n                        this.loading = false;\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    cargarDeposito(deposit){\n        this.deposit = deposit;\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom flex-grow-1\">\n                <p class=\"text-center mt-1\">Historial</p>\n            </div>\n        </div>\n    </nav>\n\n    <div class=\"credito-info container d-block mt-2 border-bottom\" style=\"height: 200px\" *ngIf=\"restaurante\">            \n        <div class=\"row\"> \n            <p class=\"pl-4 text col-8\">Crédito disponible:</p>\n            <p class=\"text-credito flex-grow-1 text-right pr-5\">{{'$' + restaurante.credito}}</p>\n        </div>\n\n        <div class=\"row\">\n            <p class=\"pl-4 text col-8\">Debo a Ralph:</p>\n            <p class=\"text-debe flex-grow-1 text-right pr-5\">{{'$' + (restaurante.debe*-1)}}</p>\n        </div>\n\n        <div class=\"row\">\n            <p class=\"pl-4 text col-8\">Ralph te debe:</p>\n            <p class=\"text-credito flex-grow-1 text-right pr-5\">{{'$' + restaurante.ralphDebe}}</p>\n        </div>\n    </div>\n    \n    <div class=\"container\">\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                Ha ocurrido un error.\n            </p>\n        </div>\n\n        <div *ngIf=\"tipo == 1\" class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n            <div *ngFor=\"let pedido of pedidos\" class=\"mb-3 mt-2\"> \n                <div class=\"card\" *ngIf=\"pedido.status != 'Cancelado'\" style=\"height: 115px;\" [routerLink]=\"['/restaurante/pedido', pedido._id, 2]\">\n                    <div class=\"card-body pedido-card\">\n                        <div class=\"row\">\n                            <p class=\"text-muted flex-grow-1 text-center mx-5\">\n                                {{(pedido.fecha | amFromUnix) | amLocale:'es' | amDateFormat:'LL'}}\n                            </p>\n                        </div>\n                        <div class=\"row card-credito\">\n                            <p class=\"pedido-card-text col-9 text-right ml-1\">Total:</p>\n                            <p class=\"text-credito flex-grow-1 text-left pl-3\" *ngIf=\"!pedido.cupon && restaurante && restaurante.servicioDomicilio == false\">{{'$' + pedido.total}}</p>\n                            <p class=\"text-credito flex-grow-1 text-left pl-3\" *ngIf=\"!pedido.cupon && restaurante && restaurante.servicioDomicilio == true\">{{'$' + (pedido.total + pedido.envio)}}</p>\n                            <p class=\"text-credito flex-grow-1 text-left pl-3\" *ngIf=\"pedido.cupon\">{{'$' + ((pedido.total*100) + (pedido.envio*100) - (pedido.cupon*100))/100}}</p>\n                        </div>\n  \n                        <div class=\"row pedido-line mb-1\">\n                            <p class=\"credito-card-text col-4 ml-2\">Pedido</p>\n                            <p class=\"pedido-card-text col-5 text-right\" *ngIf=\"!pedido.cupon || (pedido.comision - pedido.cupon + pedido.envio) >= 0\">Comisión:</p>\n                            <p class=\"text-debe flex-grow-1 text-left pl-1\" *ngIf=\"!pedido.cupon\">{{'-$' + pedido.comision}}</p>\n                            <p class=\"text-debe flex-grow-1 text-left pl-1\" *ngIf=\"pedido.cupon && (pedido.comision - pedido.cupon + pedido.envio) >= 0\">{{'-$' + ((pedido.comision*100) - (pedido.cupon*100) + (pedido.envio*100))/100}}</p>\n                            <p class=\"pedido-card-text col-5 text-right\" *ngIf=\"pedido.cupon && (pedido.comision - pedido.cupon + pedido.envio) < 0\">Obtuviste:</p>\n                            <p class=\"text-credito flex-grow-1 text-left pl-1\" *ngIf=\"pedido.cupon && (pedido.comision - pedido.cupon + pedido.envio) < 0\">{{'+$' + (((pedido.comision*100) - (pedido.cupon*100) + (pedido.envio*100))/100 * -1)}}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div *ngIf=\"tipo == 2\" class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n            <div *ngFor=\"let deposito of depositos\" class=\"mb-3 mt-2\"> \n                <div class=\"card\">\n                    <div class=\"card-body pedido-card\">\n                        <div class=\"row\">\n                            <!-- <p class=\"text-muted flex-grow-1 text-center mx-5\"> -->\n                            <p class=\"text-muted col-10 ml-1 pl-5 text-center\">\n                                {{(deposito.fecha | amFromUnix) | amLocale:'es' | amDateFormat:'LL'}}\n                            </p>\n                            <i class=\"flex-grow-1 px-1 icon-trash2 fas fa-info-circle\" (click)=\"cargarDeposito(deposito)\" href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\"></i>\n                        </div>\n                        <div class=\"row\">\n                            <span class=\"ml-3 deposito-text col-4\">Pago</span>\n                            <span class=\"deposito-text col-5 text-right\">Cantidad:</span>\n                            <span class=\"deposito-cant flex-grow-1\">{{'$' + deposito.cantidad}}</span>\n                        </div>\n                        <hr *ngIf=\"deposito.nota\">\n                        <div class=\"mt-2 text-center deposito-nota\" *ngIf=\"deposito.nota\">\n                            <span class=\"\">{{'*' + deposito.nota + '*'}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div *ngIf=\"tipo == 3\" class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n            <div *ngFor=\"let cobro of cobros\" class=\"mb-3 mt-2\"> \n                <div class=\"card\">\n                    <div class=\"card-body pedido-card\">\n                        <div class=\"row\">\n                            <p class=\"text-muted flex-grow-1 text-center mx-5\">\n                                {{(cobro.fecha | amFromUnix) | amLocale:'es' | amDateFormat:'LL'}}\n                            </p>\n                        </div>\n                        <div class=\"row\">\n                            <span class=\"ml-2 deposito-text col-4\">Cobro</span>\n                            <span class=\"deposito-text col-5 text-right\">Cantidad:</span>\n                            <span class=\"deposito-cant2 flex-grow-1\">{{'$' + cobro.cantidad}}</span>\n                        </div>\n                        <hr *ngIf=\"cobro.nota\">\n                        <div class=\"mt-2 text-center deposito-nota\" *ngIf=\"cobro.nota\">\n                            <span class=\"\">{{'*' + cobro.nota + '*'}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal2\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-body\" *ngIf=\"deposit\">\n                        <p class=\"modal-credito mb-1\">Cantidad del pago: <strong>{{'$' + deposit.cantidad}}</strong></p>\n                        <p class=\"modal-credito text-muted\" *ngIf=\"deposit.metodoPago == 'Efectivo' || deposit.metodoPago == 'Oxxo'\">{{'Pago en ' + deposit.metodoPago}}</p>\n                        <p class=\"modal-credito text-muted\" *ngIf=\"deposit.metodoPago == 'Transferencia' || deposit.metodoPago == 'Paypal'\">{{'Pago con ' + deposit.metodoPago}}</p>\n                        <hr>\n                        <strong class=\"text\">Antes del pago</strong>\n                        <div class=\"row modal-credito mt-1\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Crédito disponible:</span>\n                            <span class=\"text-credito flex-grow-1 text-right mr-1 pr-5\">{{'$' + deposit.credito[0]}}</span>\n                        </div>\n                        <div class=\"row modal-credito\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Debo a Ralph:</span>\n                            <span class=\"text-debe flex-grow-1 text-right mr-1 pr-5\">{{'$' + (deposit.debe[0]*-1)}}</span>\n                        </div>\n                        <div class=\"row modal-credito\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Ralph te debe:</span>\n                            <span class=\"text-credito flex-grow-1 text-right mr-1 pr-5\">{{'$' + deposit.ralphDebe[0]}}</span>\n                        </div>\n                        <hr>                        \n                        <strong class=\"text\">Después del pago</strong>\n                        <div class=\"row modal-credito mt-1\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Crédito disponible:</span>\n                            <span class=\"text-credito flex-grow-1 text-right mr-1 pr-5\">{{'$' + deposit.credito[1]}}</span>\n                        </div>\n                        <div class=\"row modal-credito\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Debo a Ralph:</span>\n                            <span class=\"text-debe flex-grow-1 text-right mr-1 pr-5\">{{'$' + (deposit.debe[1]*-1)}}</span>\n                        </div>\n                        <div class=\"row modal-credito\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Ralph te debe:</span>\n                            <span class=\"text-credito flex-grow-1 text-right mr-1 pr-5\">{{'$' + deposit.ralphDebe[1]}}</span>\n                        </div>                   \n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\">Aceptar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div *ngIf=\"loading\">\n            <p class=\"text-center pt-2\">\n                <img src=\"../../../../assets/loading.gif\" width=\"20px\">\n            </p>\n        </div>\n        <p style=\"height: 40px;\"></p>\n\n        <!-- <nav class=\"navbar-bottom navbar-default fixed-bottom\">\n            <a [routerLink]=\"['/restaurante/depositos']\" class=\"btn-navbar col-12 border-top\">                \n                <p class=\"text-center text-depositar\"><i class=\"fas fa-dollar-sign mr-2\"></i>Depositar</p>\n            </a>\n        </nav> -->\n\n        <div id=\"myModal\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <a (click)=\"cambiarTipo(1)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                        Pedidos\n                    </a>\n                    <a (click)=\"cambiarTipo(2)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                        Pagos\n                    </a>\n                    <a (click)=\"cambiarTipo(3)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                        Cobros\n                    </a>\n                </div>\n            </div>\n        </div>\n\n        <nav class=\"navbar-bottom navbar-default fixed-bottom\">\n            <a href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\" class=\"btn-navbar col-12 border-top\">                \n                <p class=\"text-center text-depositar\">\n                    <span *ngIf=\"tipo == 1\">Pedidos</span>\n                    <span *ngIf=\"tipo == 2\">Pagos</span>\n                    <span *ngIf=\"tipo == 3\">Cobros</span>\n                    <i class=\"ml-2 categorias-icon fas fa-sort-up\"></i>\n                </p>\n            </a>\n        </nav>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {GLOBAL} from '../../../services/global';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {PedidoService} from '../../../services/pedido.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {Pedido} from '../../../models/pedido';\nimport {Notificacion} from '../../../models/notificacion';\nimport {Location} from '@angular/common';\n\n@Component({\n    selector: 'inicioA',\n    templateUrl: './inicioA.component.html',\n    providers: [UsuarioService, PedidoService, RestauranteService]\n}) \n\nexport class InicioAComponent implements OnInit{\t\t\t\t\n    public url: any;\n    public token;\n    public identity;\n    public status;\n    public total;\n    public notificacion: Notificacion;\n    public pedidos: Pedido[];\n    public usuario: any;\n    public page: any;\n    public pages: any;\n    public statusAdmin: any;\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _pedidoService: PedidoService,\n        private _restauranteService: RestauranteService,\n        private _location: Location\n    ){\n        this.url = GLOBAL.url;\n        this.token = this._usuarioService.getToken();\n        this.identity = this._usuarioService.getIdentity();\n        this.usuario = this.identity;\n        this.status = null;\n        this.pedidos = [];\n        this.page = 1;\n        this.notificacion = new Notificacion(null,null,\"\",null,\"\",\"\");\n    }\n\n\n    ngOnInit(){\n        this.obtenerPedidos();\n    }\n    \n\n    onScroll(){\n        this.page += 1;\n\n        if(this.page == this.pages+1){\n\n        } else {\n            this.obtenerPedidos(true);\n        }\n    }\n\n\n    backClicked() {\n        // this._router.navigate(['/']);\n        this._location.back();\n    }\n\n\n    obtenerPedidos(adding = false){\n        this._pedidoService.obtenerPedidosUsuario(this.token, 0, this.page, 3).subscribe(\n            response => {\n                if(!response){\n                    this.status = 'error';\n                } else {\n                    this.pages = response.pages;\n                    console.log(response);\n\n                    if(!adding){\n                        this.pedidos = response.pedidos;\n                        this.total = response.total;\n                    } else {\n                        var arrayA = this.pedidos;\n                        var arrayB = response.pedidos;\n                        this.pedidos = arrayA.concat(arrayB);\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    actualizarUsuario(municipioId){\n        this.usuario.municipio = municipioId;\n\n        this._usuarioService.actualizarUsuario(this.usuario).subscribe(\n            response => {\n                if(response.usuario){\n                    localStorage.setItem('identity', JSON.stringify(this.identity));\n                    // this._router.navigate(['/']);\n                    this._location.back();\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n    \n\n    cargarStatus(statusAdmin){\n        this.statusAdmin = statusAdmin;\n    }\n\n\n    actualizarAdmin(){\n        this.usuario.imagen = this.statusAdmin;\n\n        this._usuarioService.actualizarUsuario(this.usuario).subscribe(\n            response => {\n                if(response.usuario){\n                    localStorage.setItem('identity', JSON.stringify(this.identity));\n                    this.token = this._usuarioService.getToken();\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    // push(title, body, url){\n    //     this.notificacion.title = title;\n    //     this.notificacion.body = body;\n    //     this.notificacion.restaurante = this.identityR._id;\n    //     this.notificacion.url = url;\n\n    //     this._pedidoService.push(this.token, this.notificacion).subscribe();\n    // }\n    \n\n    activarRestaurantes(horas){\n        this._restauranteService.activarRestaurantes(this.token, horas).subscribe();\n    }\n\n\n    logout(){\n        localStorage.clear();\n        this.identity = null;\n        this.token = null;\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom col-10 mt-1\">\n                <p class=\"text-center\">Admin Ralph</p>\n            </div>\n            \n            <div class=\"navbars flex-grow-1\" (click)=\"drawer.toggle()\">\n                <p class=\"text-right\">\n                    <i class=\"icon fas fa-bars\"></i>\n                </p>\n            </div>\n        </div>\n          \n        <mat-sidenav-container>\n            <mat-sidenav #drawer position=\"end\" fixedInViewport=\"true\">\n                <mat-toolbar  style=\"height: 90px;\">\n                    <p class=\"mt-3 drawer-title\">{{identity.nombre + ' ' + identity.apellido}}</p>\n                </mat-toolbar>\n                <mat-nav-list class=\"mt-2\">\n                    <p class=\"text-right\"><a class=\"drawer-list\" href=\"#myModal5\" data-toggle=\"modal\" data-target=\"#myModal5\" (click)=\"drawer.toggle()\">Activar restaurantes</a></p>\n                    <hr>\n                    <p *ngIf=\"identity.imagen == 'a'\" class=\"text-right\"><a class=\"drawer-list\" href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\" (click)=\"drawer.toggle()\" (click)=\"cargarStatus('b')\">Estoy en la calle</a></p>\n                    <p *ngIf=\"identity.imagen == 'b'\" class=\"text-right\"><a class=\"drawer-list\" href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\" (click)=\"drawer.toggle()\" (click)=\"cargarStatus('a')\">Estoy en la casa</a></p>\n                    <hr>\n                    <p class=\"text-right clickable\" [routerLink]=\"['/admin/registrar-restaurante']\"><a class=\"drawer-list\" (click)=\"drawer.toggle()\">Registrar restaurante</a></p>\n                    <hr>\n                    <p class=\"text-right clickable\" [routerLink]=\"['/admin/pedido-prueba']\"><a class=\"drawer-list\" (click)=\"drawer.toggle()\">Enviar pedidos de prueba</a></p>\n                    <hr>\n                    <p class=\"text-right clickable\" [routerLink]=\"['/admin/usuarios']\"><a class=\"drawer-list\" (click)=\"drawer.toggle()\">Usuarios</a></p>\n                    <hr>\n                    <p class=\"text-right clickable\" [routerLink]=\"['/admin/restaurantes']\"><a class=\"drawer-list\" (click)=\"drawer.toggle()\">Restaurantes</a></p>\n                    <hr>\n                    <!-- <p class=\"text-right clickable\" [routerLink]=\"['/admin/visitas']\"><a class=\"drawer-list\" (click)=\"drawer.toggle()\">Visitas</a></p>\n                    <hr> -->\n                    <p class=\"text-right clickable\" [routerLink]=\"['/admin/estadisticas']\"><a class=\"drawer-list\" (click)=\"drawer.toggle()\">Estadísticas</a></p>\n                    <hr>\n                    <p *ngIf=\"identity.municipio == '5ea75e1d006fd271928efe34'\" class=\"text-right\"><a class=\"drawer-list\" (click)=\"drawer.toggle()\" (click)=\"actualizarUsuario('5ea75e0f006fd271928efe33')\">Cambiar a Jamay</a></p>\n                    <p *ngIf=\"identity.municipio == '5ea75e0f006fd271928efe33'\" class=\"text-right\"><a class=\"drawer-list\" (click)=\"drawer.toggle()\" (click)=\"actualizarUsuario('5ea75e1d006fd271928efe34')\">Cambiar a Ocotlán</a></p>\n                    <hr>\n                    <p class=\"text-right\"><a href=\"#myModal4\" data-toggle=\"modal\" data-target=\"#myModal4\" class=\"drawer-list\" (click)=\"drawer.toggle()\" >Cerrar sesión</a></p>\n                    <hr>\n                    <p class=\"text-center mt-5\"><a class=\"drawer-close m-5 py-5\" (click)=\"drawer.toggle()\">Cerrar ventana</a></p>\n                </mat-nav-list>\n            </mat-sidenav>    \n        </mat-sidenav-container>\n    </nav>\n\n    <div id=\"myModal4\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Cerrar sesión?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" [routerLink]=\"['/login']\" (click)=\"logout()\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal5\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Activar restaurantes?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\" href=\"#myModal7\" data-toggle=\"modal\" data-target=\"#myModal7\">Retrasados</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"activarRestaurantes(0)\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal6\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\" *ngIf=\"statusAdmin\">\n                <h5 *ngIf=\"statusAdmin == 'b'\" class=\"modal-title\">¿Estarás en la calle?</h5>\n                <h5 *ngIf=\"statusAdmin == 'a'\" class=\"modal-title\">¿Estarás en la casa?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarAdmin()\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal7\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Selecciona las horas anteriores</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\" (click)=\"activarRestaurantes(1)\">1</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\" (click)=\"activarRestaurantes(2)\">2</button><br/><br/><br/>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\" (click)=\"activarRestaurantes(3)\">3</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\" (click)=\"activarRestaurantes(4)\">4</button><br/><br/><br/>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\" (click)=\"activarRestaurantes(5)\">5</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\" (click)=\"activarRestaurantes(6)\">6</button><br/><br/><br/>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\" (click)=\"activarRestaurantes(7)\">7</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\" (click)=\"activarRestaurantes(8)\">8</button><br/>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div>\n        <div class=\"info container d-block mt-2\" style=\"height: 175px\" >  \n            <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n                <p class=\"text-center\">\n                    Ha ocurrido un error.\n                </p>\n            </div>\n\n            <div class=\"row\" style=\"height: 40px\" *ngIf=\"pedidos[0]\"> \n                <p class=\"pl-4 subtitle col-10\">\n                    {{'Pedidos: ' + total}}\n                </p>\n            </div>\n\n            <div *ngIf=\"pedidos.length == 0\" class=\"sinpedidos\">\n                <p style=\"height: 80px;\"></p>\n                <p class=\"text-center\"><i class=\"sinpedidos-icon fas fa-clipboard-list\"></i></p>\n                <p class=\"text-center\">No hay pedidos</p>\n            </div>\n\n            <div class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n                <div *ngFor=\"let pedido of pedidos\" class=\"mb-4 mt-2\"> \n                    <div class=\"card\" [routerLink]=\"['/admin/pedido', pedido._id]\">\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <p class=\"pedido-card-tiempo flex-grow-1 text-center mx-5\">\n                                    {{(pedido.fecha | amFromUnix) | amLocale:'es' | amTimeAgo}}\n                                </p>\n                            </div>\n                            \n                            <div class=\"row mb-2\">\n                                <div class=\"col-2 avatar2\">\n                                    <img src=\"{{url + 'obtener-imagen-restaurante/' + pedido.restaurante.imagen}}\"/>\n                                </div>                            \n                                <p class=\"pedido-card-text2\">{{pedido.restaurante.nombre}}</p>\n                            </div>\n\n                            <div class=\"row\">\n                                <p  class=\"pedido-card-icon pl-4 col-2\">{{pedido.contenido.length}}</p>\n                                <p *ngIf=\"pedido.contenido.length == 1\" class=\"pedido-card-text ml-1\">Producto</p>\n                                <p *ngIf=\"pedido.contenido.length > 1\" class=\"pedido-card-text ml-1\">Productos</p>\n                                <p *ngIf=\"!pedido.cupon\" class=\"pedido-card-total flex-grow-1 text-right\">{{'$' + (pedido.total + pedido.envio)}}</p>\n                                <p *ngIf=\"pedido.cupon\" class=\"pedido-card-total flex-grow-1 text-right\">{{'$' + (pedido.total + pedido.envio - pedido.cupon)}}</p>\n                            </div>\n\n                            <div class=\"row pedido-line2 mb-4\">\n                                <i class=\"pedido-card-icon fa fa-map-marker-alt col-2 mt-1 ml-1\"></i>                    \n                                <div class=\"pedido-card-text\">{{pedido.direccion}}</div>\n                            </div>\n\n                            <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'En espera'\">\n                                <i class=\"icon-status-camino far fa-clock col-2 mt-1 ml-1\"></i>\n                                <p class=\"pedido-card-text\">{{pedido.status}}</p>\n                            </div>\n                            <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'En preparacion'\">\n                                <i class=\"icon-status-camino fas fa-utensils col-2 mt-1 ml-1\"></i>\n                                <p class=\"pedido-card-text\">En preparación</p>\n                            </div>\n                            <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'En camino'\">\n                                <i class=\"icon-status-camino fas fa-biking col-2 mt-1\"></i>\n                                <p class=\"pedido-card-text ml-1\">{{pedido.status}}</p>\n                            </div>\n                            <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'Completado'\">\n                                <i class=\"icon-status-completado fas fa-check-circle col-2 mt-1 ml-1\"></i>\n                                <p class=\"pedido-card-text\">{{pedido.status}}</p>\n                            </div>\n                            <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'Cancelado'\">\n                                <i class=\"icon-status-cancelado fas fa-times-circle col-2 mt-1 ml-1\"></i>\n                                <p class=\"pedido-card-text\">{{pedido.status}}</p>\n                            </div>\n                            <div class=\"row\" *ngIf=\"pedido && pedido.restaurante.servicioDomicilio == false\">\n                                <p class=\"text-right mt-2 mr-1\"><i class=\"icon-status-camino fas fa-biking ml-3\"></i></p>\n                                <p class=\"text-detalle-pedido ml-2\">Mandaditos</p>\n                            </div>\n                            <div class=\"row\" *ngIf=\"pedido && pedido.restaurante.servicioDomicilio == true\">\n                                <p class=\"text-right mt-2 mr-1\"><i class=\"icon-status-camino fas fa-biking ml-3\"></i></p>\n                                <p class=\"text-detalle-pedido ml-2\">Envío por ellos</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <p style=\"height: 40px;\"></p>\n        </div>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {CuponService} from '../../../services/cupon.service';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'mensajesSMS',\n    templateUrl: './mensajesSMS.component.html',\n    providers: [UsuarioService, CuponService]\n}) \n\nexport class MensajesSMSComponent implements OnInit{\t\t\t\t\n    public identity: any;\n    public token: any;\n    public status: any;\n    public cupones: any;\n    public usuarios: any;\n    public restaurantes: any;\n    public usuariosSinCupon: any;\n    public usuariosConCupon: any;\n    public GrupoAusuarios: any;\n    public GrupoBusuarios: any;\n    public GrupoCusuarios: any;\n    public GrupoDusuarios: any;\n    public GrupoArestaurantes: any;\n    public GrupoBrestaurantes: any;\n    public GrupoCrestaurantes: any;\n    public GrupoDrestaurantes: any;\n    public select: any;\n    public n1: any;\n    public n2: any;\n    public grupo: any;\n\n    // Va a ser cada 4 días. Ya se decidió\n    // Algunas semanas va a ser cada 3 días. Para experimentar\n\n    constructor(\n        private _usuarioService: UsuarioService,\n        private _cuponService: CuponService,\n        private _location: Location\n    ){\n        this.identity = this._usuarioService.getIdentity();\n        this.token = this._usuarioService.getToken();\n        this.cupones = [];\n        this.usuarios = [];\n        this.restaurantes = [];\n        this.usuariosSinCupon = [[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];\n        this.usuariosConCupon = [[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];\n        this.GrupoAusuarios = [];\n        this.GrupoBusuarios = [];\n        this.GrupoCusuarios = [];\n        this.GrupoDusuarios = [];\n        this.GrupoArestaurantes = [];\n        this.GrupoBrestaurantes = [];\n        this.GrupoCrestaurantes = [];\n        this.GrupoDrestaurantes = [];\n        this.select = false;\n        this.n1 = 0;\n        this.n2 = 0;\n\n\n        this.grupo = 1;\n    }\n\n    ngOnInit(){\n        // this.obtenerCupones();\n        this.obtenerUsuarios();\n    }\n\n    backClicked() {\n        this._location.back();\n    }\n    \n    // obtenerCupones(){\n    //     this._cuponService.todosLosCupones(this.token).subscribe(\n    //         response => {\n    //             if(response){\n    //                 response.cupones.forEach(element => {\n    //                     if(!this.cupones.includes(element.usuario)){\n    //                         this.cupones.push(element.usuario);\n    //                     }\n    //                 });\n    //             }\n    //         },\n    //         error => {\n    //             var errorMessage = <any>error;\n    //             console.log(errorMessage);\n        \n    //             if(errorMessage != null){\n    //                 this.status = 'error';\n    //             }\n    //         }\n    //     )\n    // }\n    \n    \n    obtenerUsuarios(){\n        this._usuarioService.todosLosUsuarios().subscribe(\n            response => {\n                if(response){\n                    \n                    response.usuarios.forEach(element => {\n                        if(element.municipio == '5ea75e24006fd271928efe35'){\n                            var m = (response.usuarios.indexOf(element));\n                            response.usuarios.splice(m, 1);\n                        }\n\n                        if(element.rol == 'USUARIO'){\n                            this.usuarios.push(element);\n\n                        } else {\n                            this.restaurantes.push(element);\n                        }\n\n                    });\n\n                    setTimeout(() => {\n                        this.ordenarUsuarios();\n                    }, 500)\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    ordenarUsuarios(){\n        this._usuarioService.todosLosUsuarios().subscribe(\n            response => {\n                if(response){\n                    console.log('Todos los usuarios son: ' + this.usuarios);\n                    console.log('Todos los restaurantes son: ' + this.restaurantes);\n\n                    var n = 1;\n                    \n                    this.usuarios.forEach(element => {\n\n                        if(n == 1){\n                            this.GrupoAusuarios.push(element)\n\n                        } else if(n == 2){\n                            this.GrupoBusuarios.push(element)\n                        \n                        } else if(n == 3){\n                            this.GrupoCusuarios.push(element)\n                        \n                        } else if(n == 4){\n                            this.GrupoDusuarios.push(element)\n                        }\n                        \n                        n = n + 1;\n\n                        if(n == 5){\n                            n = 1;\n                        }\n\n                    });\n\n\n                    var x = 1;\n\n                    this.restaurantes.forEach(element => {\n\n                        if(x == 1){\n                            this.GrupoArestaurantes.push(element)\n\n                        } else if(x == 2){\n                            this.GrupoBrestaurantes.push(element)\n                        \n                        } else if(x == 3){\n                            this.GrupoCrestaurantes.push(element)\n                        \n                        } else if(x == 4){\n                            this.GrupoDrestaurantes.push(element)\n                        }\n                        \n                        x = x + 1;\n\n                        if(x == 5){\n                            x = 1;\n                        }\n\n                    });\n\n                    console.log('El GrupoAusuarios es -> ' + this.GrupoAusuarios);\n                    console.log('El GrupoBusuarios es -> ' + this.GrupoBusuarios);\n                    console.log('El GrupoCusuarios es -> ' + this.GrupoCusuarios);\n                    console.log('El GrupoDusuarios es -> ' + this.GrupoDusuarios);\n                    console.log('El GrupoArestaurantes es -> ' + this.GrupoArestaurantes);\n                    console.log('El GrupoBrestaurantes es -> ' + this.GrupoBrestaurantes);\n                    console.log('El GrupoCrestaurantes es -> ' + this.GrupoCrestaurantes);\n                    console.log('El GrupoDrestaurantes es -> ' + this.GrupoDrestaurantes);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    \n    // ordenarUsuarios(grupo){\n    //     this.select = true;\n    //     this.grupo = grupo;\n\n    //     if(grupo == 1){\n    //         var array = this.GrupoA;\n\n    //     } else if(grupo == 2){\n    //         var array = this.GrupoB;\n\n    //     } else if(grupo == 3){\n    //         var array = this.GrupoC;\n\n    //     } else if(grupo == 4){\n    //         var array = this.GrupoD;\n    //     }\n\n    //     var elementsConCupon = 0;\n    //     var elementsSinCupon = 0;\n    //     var x = 0;\n    //     var y = 0;\n        \n    //     array.forEach(element => {\n    //         // if(element._id == '5f0a618cef8bca480c1d2366'){\n    //         //     var m = (array.indexOf(element));\n    //         //     array.splice(m, 1);\n    //         //     console.log(true);\n    //         // }\n\n    //         if(this.cupones.includes(element._id)){\n    //             this.usuariosConCupon[x].push('52' + element.telefono);\n\n    //             elementsConCupon = elementsConCupon + 1;\n\n    //             if(elementsConCupon == 5){\n    //                 x = x + 1;\n    //                 elementsConCupon = 0;\n    //             }\n\n    //         } else {\n    //             this.usuariosSinCupon[y].push('52' + element.telefono);\n                \n    //             elementsSinCupon = elementsSinCupon + 1;\n\n    //             if(elementsSinCupon == 5){\n    //                 y = y + 1;\n    //                 elementsSinCupon = 0;\n    //             }\n    //         }\n    //     });\n\n    //     console.log(this.usuariosSinCupon);\n    //     console.log(this.usuariosConCupon);\n    // }\n\n    // copyMessage(cupon: boolean){\n    //     const selBox = document.createElement('textarea');\n    //     selBox.style.position = 'fixed';\n    //     selBox.style.left = '0';\n    //     selBox.style.top = '0';\n    //     selBox.style.opacity = '0';\n    //     if(cupon == true){\n    //         selBox.value = this.usuariosConCupon[this.n1];\n    //         this.n1 = this.n1 + 1;\n    //     } else {\n    //         selBox.value = this.usuariosSinCupon[this.n2];\n    //         this.n2 = this.n2 + 1;\n    //     }\n    //     document.body.appendChild(selBox);\n    //     selBox.focus();\n    //     selBox.select();\n    //     document.execCommand('copy');\n    //     document.body.removeChild(selBox);\n    // }\n}\n","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"icono-Ralph navbar-brand\">\n                <img src=\"../../../../assets/icono.png\"/>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 50px;\"></p>\n\n    <div class=\"container\">\n        <!-- <div class=\"panel-body p-3 m-1\">\n            <div *ngIf=\"!select\">\n                <p class=\"text-center\">La última vez mandaste sms al grupo {{grupo}}</p>\n                <br>\n    \n                <h4 class=\"text-center\">Selecciona un nuevo grupo</h4>\n                <br>\n    \n                <p class=\"text-center\"><button class=\"btn btn-primary px-5\" (click)=\"ordenarUsuarios(1)\">Grupo 1</button></p>\n                <p class=\"text-center\"><button class=\"btn btn-primary px-5\" (click)=\"ordenarUsuarios(2)\">Grupo 2</button></p>\n                <p class=\"text-center\"><button class=\"btn btn-primary px-5\" (click)=\"ordenarUsuarios(3)\">Grupo 3</button></p>\n                <p class=\"text-center\"><button class=\"btn btn-primary px-5\" (click)=\"ordenarUsuarios(4)\">Grupo 4</button></p>\n            </div>\n\n            <div *ngIf=\"select\">\n                <h4 class=\"text-center\">Seleccionaste el grupo {{grupo}}</h4>\n                <hr>\n                <br>\n\n                <h4 class=\"text-center\">Usuarios sin cupón</h4>\n                <p class=\"text-center\">Teléfonos en el arreglo {{n2}} = <strong>{{usuariosSinCupon[n2].length}}</strong> números</p>\n\n                <p class=\"text-center\"><button class=\"btn btn-primary px-5\" (click)=\"copyMessage(false)\">Copiar arreglo</button></p>\n\n                <br>\n                <hr>\n                <br>\n\n                <h4 class=\"text-center\">Usuarios con cupón</h4>\n                <p class=\"text-center\">Teléfonos en el arreglo {{n1}} = <strong>{{usuariosConCupon[n1].length}}</strong> números</p>\n\n                <p class=\"text-center\"><button class=\"btn btn-warning px-5\" (click)=\"copyMessage(true)\">Copiar arreglo</button></p>\n            </div>\n        </div> -->\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {PedidoService} from '../../../services/pedido.service';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'pedido',\n    templateUrl: './pedidoA.component.html',\n    providers: [UsuarioService, PedidoService, RestauranteService]\n}) \n\nexport class PedidoAComponent implements OnInit{\t\t\t\n    public token;\n    public status;\n    public pedido;\n    public id;\n    public usuarios;\n    public restaurante;\n    public resultado;\n    public credito;\n    public debe;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _pedidoService: PedidoService,\n        private _restauranteService: RestauranteService,\n        private _location: Location\n    ){\n        this.token = this._usuarioService.getToken();\n        this.status = null;\n    }\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                this.id = params['id'];\n                this.obtenerPedido(this.id);\n            }\n        })\n\n        let pedidoProducto = JSON.parse(localStorage.getItem('pedidoProducto'));\n\n        if(pedidoProducto != \"undefined\" && pedidoProducto != null){\n            localStorage.removeItem('pedidoProducto');\n        }\n    }\n\n    backClicked() {\n        // this._router.navigate(['/admin/inicio']);\n        this._location.back();\n    }\n\n    obtenerPedido(pedidoId){\n        this._pedidoService.obtenerPedido(this.token, pedidoId, 1).subscribe(\n            response => {\n                if(response){\n                    this.pedido = response.pedido;\n                    console.log(this.pedido);\n                    this.obtenerUsuarios(this.pedido.restaurante);\n                    this.obtenerRestaurante(this.pedido.restaurante);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);     \n                   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    actualizarPedido(pedidoId, usuarioId, status){\n        this._pedidoService.actualizarPedido(this.token, pedidoId, usuarioId, status).subscribe(\n            response => {\n                if(response){\n                    // this._router.navigate(['/admin/inicio']);\n                    this._location.back();\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    eliminarPedido(pedidoId){\n        this._pedidoService.eliminarPedido(this.token, pedidoId).subscribe(\n            response => {\n                if(response){\n                    // this._router.navigate(['/admin/inicio']);\n                    this._location.back();\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerUsuarios(restauranteId){\n        this._usuarioService.obtenerUsuarios(restauranteId).subscribe(\n            response => {\n                if(response){\n                    this.usuarios = response.usuarios;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerRestaurante(id){\n        this._restauranteService.obtenerRestaurante(id). subscribe(\n            response => {\n                if(response){\n                    this.restaurante = response.restaurante;\n                    console.log(this.restaurante);\n                    this.credito = response.restaurante.credito;\n                    this.debe = response.restaurante.debe;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    actualizarCredito(){\n        if(this.pedido.cupon != null){\n            var com = (this.pedido.comision*1000) - (this.pedido.cupon*1000) + (this.pedido.envio*1000);\n            this.pedido.comision = com / 1000;\n        }\n\n        if(this.pedido.comision >= 0){\n            if(this.credito > 0){\n                var res = (this.credito*1000) - (this.pedido.comision*1000);\n                this.resultado = res / 1000;\n    \n                if(this.resultado > 0){\n                    this.credito = this.resultado;\n                }\n        \n                if(this.resultado <= 0){\n                    this.credito = 0;\n                    this.debe = this.resultado;\n                }\n            } else if (this.credito <= 0){\n                var res2 = (this.debe*1000) - (this.pedido.comision*1000);\n                this.resultado = res2 / 1000;\n                this.debe = this.resultado;\n            }\n\n        } else {\n            this.restaurante.ralphDebe = this.restaurante.ralphDebe + (this.pedido.comision * -1);\n        }\n        \n        this.restaurante.credito = this.credito;\n        this.restaurante.debe = this.debe;\n        \n\n        this._restauranteService.actualizarRestaurante(this.token, this.restaurante).subscribe(\n            response => {\n                if(response){\n                    console.log(response);\n                    alert('Crédito: ' + response.restaurante.credito + ', Debe: ' + response.restaurante.debe +', Rdeb: ' + response.restaurante.ralphDebe);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    whatsAppMandaditos(){\n        if(this.restaurante.municipio == '5ea75e0f006fd271928efe33'){\n            window.location.href = 'https://api.whatsapp.com/send?phone=523921009557&text=Hola!%20Hay%20un%20pedido%20nuevo%20en%20la%20app';\n\n        } else {\n            window.location.href = 'https://api.whatsapp.com/send?phone=523921220020&text=Hola!%20Hay%20un%20pedido%20nuevo%20en%20la%20app';\n        }\n    }\n\n    whatsApp(tel, n){\n        if(n == 1){\n            window.location.href = 'https://api.whatsapp.com/send?phone=52' + tel + '&text=%C2%A1Hola!%20Soy%20de%20la%20aplicaci%C3%B3n%20Ralph,%20para%20ordenar%20comida%20a%20domicilio.';\n\n        } else {\n            window.location.href = 'https://api.whatsapp.com/send?phone=52' + tel + '&text=Ralph%20-%20Tienes%20un%20pedido%20nuevo%20en%20la%20app';\n        }\n    }\n\n    copyMessage(tel){\n        const selBox = document.createElement('textarea');\n        selBox.style.position = 'fixed';\n        selBox.style.left = '0';\n        selBox.style.top = '0';\n        selBox.style.opacity = '0';\n        selBox.value = tel;\n        document.body.appendChild(selBox);\n        selBox.focus();\n        selBox.select();\n        document.execCommand('copy');\n        document.body.removeChild(selBox);\n    }\n\n    funcionProducto(producto){\n        localStorage.setItem('pedidoProducto', JSON.stringify(producto));\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom flex-grow-1\">\n                <p class=\"text-center mt-1\">Detalles pedido</p>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 45px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                Ha ocurrido un error.\n            </p>\n        </div>\n\n        <div class=\"row\" style=\"height: 35px\" *ngIf=\"pedido\"> \n            <p class=\"text-right mr-4 mt-3 flex-grow-1 text\">\n                {{(pedido.fecha | amFromUnix) | amLocale:'es' | amDateFormat:'LL'}}\n            </p>\n        </div>\n\n        <div class=\"mt-4\" *ngIf=\"pedido\">\n            <div *ngFor=\"let productoPedido of pedido.contenido\" class=\"mb-3\"> \n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <div class=\"row detalle-pedido\">\n                            <p class=\"col-12 text-muted text-center\">{{'Sección: ' + productoPedido.seccion}}</p>\n                            <!-- <p class=\"col-12 text-muted\">{{'Sección: ' + productoPedido.seccion}}</p> -->\n                        </div>\n\n                        <div class=\"row detalle-pedido\">\n                            <p class=\"ml-1 col-2 text-center\">{{productoPedido.cantidad}}</p>\n                            <p class=\"\">{{productoPedido.producto}}</p>\n                            <p class=\"detalle-pedido-total flex-grow-1 text-right\">{{'$' + productoPedido.total}}</p>\n                        </div>\n\n                        <div class=\"row detalle-ing mt-1 mb-3\" *ngIf=\"productoPedido.ingredientes\">\n                            <div class=\"col-2\"></div>\n                            <div class=\"flex-grow-1 ml-1\">\n                                <span class=\"btn-gray\">Detalles:</span>\n                                <div *ngFor=\"let ingrediente of productoPedido.ingredientes\">\n                                    <span class=\"pl-3 text-justify producto-ing\">{{'-' + ingrediente}}</span>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class=\"row detalle-pedido\">\n                            <div class=\"pl-4 col-9 text-justify\"><span *ngIf=\"productoPedido.nota\">{{'* ' + productoPedido.nota + ' *' }}</span></div>\n                            <a [routerLink]=\"['/restaurante/detalle-producto', productoPedido._id]\" (click)=\"funcionProducto(productoPedido)\" *ngIf=\"productoPedido._id\" class=\"ml-3 text-left mt-1\"><i class=\"flex-grow-1 icon-trash fas fa-info-circle\"></i></a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <p style=\"height: 5px;\"></p>\n\n        <div *ngIf=\"pedido\">\n            <div class=\"row\">\n                <p class=\"text-right col-4 mt-2 mr-2\"><i class=\"pedido-card-icon fas fa-user\"></i></p>\n                <p class=\"text-detalle-pedido\">{{pedido.usuario.nombre + ' ' + pedido.usuario.apellido}}</p>\n            </div>\n            <div class=\"row\" *ngIf=\"pedido\">\n                <p class=\"text-right col-4 mt-2 mr-2\"><i class=\"pedido-card-icon fa fa-map-marker-alt\"></i></p>\n                <p class=\"text-detalle-pedido\">{{pedido.direccion}}</p>\n            </div>\n            <div class=\"row\" *ngIf=\"pedido\">\n                <p class=\"text-right col-4 mt-2 ml-1 mr-1\"><i class=\"pedido-card-icon fas fa-phone-alt\"></i></p>\n                <p class=\"text-detalle-pedido\">{{pedido.usuario.telefono}}</p>\n            </div>\n            <p class=\"text-center\">\n                <button class=\"btn btn-success px-4 mx-1\" type=\"submit\" (click)=\"whatsApp(pedido.usuario.telefono, 1)\"><i class=\"text fab fa-whatsapp\"></i></button>\n                <button class=\"btn btn-primary px-4 mx-1\" type=\"submit\" (click)=\"copyMessage(pedido.usuario.telefono)\"><i class=\"text fas fa-copy\"></i></button>    \n            </p>\n            <br>\n            <div class=\"row mt-2\">\n                <p class=\"text flex-grow-1 d-block text-right mr-3\"><strong>Subtotal:<span class=\"detalle-pedido-total ml-3\">{{' ' + '$' + pedido.total}}</span></strong></p>\n            </div>\n            <div class=\"row mt-2\">\n                <p class=\"text flex-grow-1 d-block text-right mr-3\">Costo de envío:<span class=\"detalle-pedido-total ml-3\">{{' ' + '$' + pedido.envio}}</span> </p>\n            </div>\n            <div class=\"row mb-2\" *ngIf=\"pedido.cupon\">\n                <p class=\"text flex-grow-1 d-block text-right mr-3\">Cupón:<span class=\"detalle-pedido-total3 ml-3\">{{' ' + '- $' + pedido.cupon}}</span> </p>\n            </div>\n            <div class=\"row\" *ngIf=\"pedido\">\n                <p *ngIf=\"!pedido.cupon\" class=\"text-detalle-pedido flex-grow-1 text-right mr-5 mt-2\">Total:<span class=\"detalle-pedido-total2\">{{' ' + '$' + (pedido.total + pedido.envio)}}</span> </p>\n                <p *ngIf=\"pedido.cupon\" class=\"text-detalle-pedido flex-grow-1 text-right mr-5 mt-2\">Total:<span class=\"detalle-pedido-total2\">{{' ' + '$' + (pedido.total + pedido.envio - pedido.cupon)}}</span> </p>\n            </div>\n        </div>\n\n        <div id=\"myModal\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Pedido enviado?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarPedido(pedido._id, pedido.usuario._id, 2)\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <p *ngIf=\"pedido && pedido.status == 'En espera'\" class=\"text-center mt-3\"><button class=\"btn btn-info px-3 mt-1\" href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\"><i class=\"fas fa-check-circle mr-2\"></i>Marcar en preparación</button></p>\n        <p *ngIf=\"pedido\" class=\"text-center mt-3\"><button class=\"btn btn-success px-3 mt-1\" href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\"><i class=\"fas fa-check-circle mr-2\"></i>El pedido fue completado</button></p>\n        <p *ngIf=\"pedido\" class=\"text-center mt-3\"><button class=\"btn btn-danger px-4\" href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\"><i class=\"fas fa-times-circle mr-2\"></i>El pedido fue cancelado</button></p>\n        <br>\n        <p *ngIf=\"pedido\" class=\"text-center mt-3\"><button class=\"btn btn-secondary px-4\" href=\"#myModal5\" data-toggle=\"modal\" data-target=\"#myModal5\"><i class=\"fas fa-times-circle mr-2\"></i>Cobrar crédito</button></p>\n        <br>\n        <p *ngIf=\"pedido\" class=\"text-center mt-3\"><button class=\"btn btn-warning px-4\" href=\"#myModal4\" data-toggle=\"modal\" data-target=\"#myModal4\"><i class=\"fas fa-times-circle mr-2\"></i>Eliminar pedido</button></p>\n        <br>\n\n        <div id=\"myModal2\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Pedido completado?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarPedido(pedido._id, 0, 3)\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal3\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Pedido cancelado?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarPedido(pedido._id, 0, 4)\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal4\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Eliminar pedido?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"eliminarPedido(pedido._id)\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal5\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Cobrar crédito?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarCredito()\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal6\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Marcar en preparación?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarPedido(pedido._id, pedido.usuario, 1)\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <br>\n        <p *ngIf=\"restaurante && restaurante.servicioDomicilio == false\" class=\"text-center\"><button class=\"btn btn-success px-4\" type=\"submit\" (click)=\"whatsAppMandaditos()\"><i class=\"text mr-2 fab fa-whatsapp\"></i>Contactar a mandaditos</button></p>\n\n        <div *ngIf=\"usuarios\">\n            <div *ngFor=\"let usuario of usuarios\">\n                <div *ngIf=\"usuario.correo != 'rafachido12@hotmail.com'\">\n                    <span class=\"text ml-3\">{{usuario.nombre + ' ' + usuario.apellido}}</span>\n                    <div class=\"input-group px-2\">\n                        <input autocomplete=\"off\" type=\"text\" class=\"form-control\" value=\"{{usuario.telefono}}\" aria-describedby=\"basic-addon1\" class=\"form-control\">\n                        <div class=\"input-group-append\">\n                            <button class=\"btn btn-success px-4\" type=\"submit\" (click)=\"whatsApp(usuario.telefono, 2)\"><i class=\"text fab fa-whatsapp\"></i></button>\n                          <button class=\"btn btn-primary px-4\" type=\"submit\" (click)=\"copyMessage(usuario.telefono)\"><i class=\"text fas fa-copy\"></i></button>\n                        </div>\n                    </div>\n                    <br>\n                </div>\n            </div>\n        </div>\n\n        <p style=\"height: 45px;\"></p>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {PedidoService} from '../../../services/pedido.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {Pedido} from '../../../models/pedido';\nimport {Notificacion} from '../../../models/notificacion';\nimport {Cupon} from '../../../models/cupon';\nimport {GLOBAL} from '../../../services/global';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'pedidoPrueba',\n    templateUrl: './pedidoPrueba.component.html',\n    providers: [UsuarioService, PedidoService, RestauranteService]\n})\n\nexport class PedidoPruebaComponent implements OnInit{\n    public status: string;\n    public restaurantes: any;\n    public restaurante: any;\n    public restauranteId: string;\n    public credito: number;\n    public debe: number;\n    public ralphDebe: number;\n    public pedido: Pedido;\n    public token: any;\n    public error: string;\n    public notificacion: Notificacion;\n    public url: any;\n    public cantidad: any;\n    public numero: any;\n    public cupon: Cupon;\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _pedidoService: PedidoService,\n        private _restauranteService: RestauranteService,\n        private _location: Location\n    ){\n        this.url = GLOBAL.url;\n        this.token = this._usuarioService.getToken();\n        this.restaurantes = [];\n        this.restauranteId = null;\n        this.credito = null;\n        this.error = null;\n        this.pedido = new Pedido(\"\",\"\",\"\",\"\",\"\",\"\",[],\"\",\"\",0,null),\n        this.notificacion = new Notificacion(null,null,\"\",null,\"\",\"\");\n        this.cupon = new Cupon(null,null,\"\",null,null,null,null);\n    }\n\n    ngOnInit(){\n        this.obtenerRestaurantesAdmin();\n    }\n\n    backClicked() {\n        // this._router.navigate(['/admin/inicio']);\n        this._location.back();\n    }\n    \n    obtenerRestaurantesAdmin(){\n        this._restauranteService.obtenerRestaurantesAdmin(this.token, 0).subscribe(\n            response => {\n                if(response){\n                    this.restaurantes = response.restaurantes;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerRestaurante(id){\n        this._restauranteService.obtenerRestaurante(id). subscribe(\n            response => {\n                if(response){\n                    this.restaurante = response.restaurante;\n                    this.restauranteId = response.restaurante._id;\n                    this.credito = response.restaurante.credito;\n                    this.debe = response.restaurante.debe;\n                    this.ralphDebe = response.restaurante.ralphDebe;\n                    if(!this.restaurante.envio){\n                        this.restaurante.envio = [];\n                    }\n                    \n                    setTimeout(() => {\n                        if(this.restaurante.FBads){\n                            var elemento = [];\n                            elemento.push(document.getElementById('activo'));\n                            elemento[0].checked=true;\n                        } else {\n                            var elemento = [];\n                            elemento.push(document.getElementById('inactivo'));\n                            elemento[0].checked=true;\n                        }\n\n                        if(this.restaurante.servicioDomicilio){\n                            var elemento = [];\n                            elemento.push(document.getElementById('ellos'));\n                            elemento[0].checked=true;\n                        } else {\n                            var elemento = [];\n                            elemento.push(document.getElementById('mandados'));\n                            elemento[0].checked=true;\n                        }\n                    }, 200);\n                    \n                    if(this.restaurante.pedidoMinimo){\n                        this.cupon.cupones = this.restaurante.pedidoMinimo;\n                    }\n\n                    console.log(response.restaurante);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    darDeAltaRestaurante(status){\n        this._restauranteService.darDeAltaRestaurante(this.token, this.restauranteId, status).subscribe(\n            response => {\n                if(response){\n                    this.restaurante = response.restaurante;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    cargarEnvio(n){\n        this.pedido.cupon = n;\n    }\n\n    pedidoPrueba(){\n        this.status = null;\n        this.pedido.restaurante = this.restauranteId;\n        this.pedido.contenido = [ \n            {\n                \"cantidad\" : \"1\",\n                \"seccion\" : \"Desayunos\",\n                \"producto\" : \"Chilaquiles\",\n                \"total\" : 95,\n                \"nota\" : \"Sin cebolla\",\n                \"comision\" : 9.5,\n            }, \n            {\n                \"cantidad\" : \"2\",\n                \"seccion\" : \"Refresco\",\n                \"producto\" : \"Pepsi\",\n                \"total\" : 30,\n                \"nota\" : null,\n                \"comision\" : 3,\n            }\n        ];\n        this.pedido.total = \"125\";\n        this.pedido.comision = \"12.5\";\n        this.pedido.direccion = \"Madero #345\";\n        this.pedido.envio = 20;\n        var pedido = this.pedido;\n\n        this._pedidoService.crearPedido(this.token, pedido).subscribe(\n            response => {\n                if(response){\n                    // console.log(response.pedido);\n                    this.status = 'pedido-success'                  \n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                \n                if(errorMessage != null){\n                    this.status = 'pedido-error';\n                    if(errorMessage.error.message){\n                        this.error = errorMessage.error.message;\n                    } else {\n                        this.error = 'Error en el servidor';\n                    }\n                }\n            }\n        )\n    }\n\n    actualizarRestaurante(){\n        this.obtenerRestaurante(this.restauranteId);\n    }\n\n    actualizarCredito(form, numero){\n        this.numero = numero;\n\n        if (this.numero == 1){\n            this.cantidad = this.cupon.nombre;\n\n        } else if(this.numero == 2){\n            this.cantidad = this.cupon.status;\n\n        } else {\n            this.cantidad = this.cupon.fechaVencimiento;\n        }\n\n\n        this._restauranteService.actualizarCredito(this.token, this.restauranteId, this.numero, this.cantidad).subscribe(\n            response => {\n                if(response){\n                    this.credito = response.restaurante.credito;\n                    this.debe = response.restaurante.debe;\n                    this.ralphDebe = response.restaurante.ralphDebe;\n                    this.status = 'credito-success'\n                    form.reset();\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                \n                if(errorMessage != null){\n                    this.status = 'credito-error';\n                    if(errorMessage.error.message){\n                        this.error = errorMessage.error.message;\n                    } else {\n                        this.error = 'Error en el servidor';\n                    }\n                }\n            }\n        )\n    }\n\n    opcionesRestaurante(param){\n        var opcion;\n        if(param == 0){\n            if(this.restaurante.pedidoMinimo || this.restaurante.pedidoMinimo == 0){\n                opcion = this.restaurante.pedidoMinimo;\n            } else { return }\n\n        } else if (param == 1){\n            opcion = true;\n\n        } else if (param == 2){\n            opcion = false;\n        }\n        \n        this._restauranteService.opcionesRestaurante(this.token, this.restauranteId, opcion).subscribe(\n            response => {\n                if(response){\n                    // console.log(response);\n                    if(param == 0){\n                        this.status = 'success1'\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    servicioDom(servicioDomicilio){\n        var opcion;\n\n        if (servicioDomicilio == 1){\n            opcion = true;\n\n        } else if (servicioDomicilio == 2){\n            opcion = false;\n\n        } else if (servicioDomicilio == 0){\n            if(this.restaurante.envio[0] || this.restaurante.envio[0] == 0){\n                if(this.restaurante.envio.length == 3 && this.restaurante.envio[2] == null){\n                    this.restaurante.envio.pop();\n                    this.restaurante.envio.pop();\n                } else if (this.restaurante.envio.length == 3 && this.restaurante.envio[1] == 0){\n                    return alert(\"No puedes dejar con un $0 la opción de 'Si el pedido es mayor a'\")\n                }\n                opcion = this.restaurante.envio;\n            }\n        }\n\n        this._restauranteService.servicioDom(this.token, this.restauranteId, opcion).subscribe(\n            response => {\n                if(response){\n                    // console.log(response);\n                    if(servicioDomicilio == 0){\n                        if(this.restaurante.envio.length == 1){\n                            this.status = 'success2'\n                        } else {\n                            this.status = 'success3'\n                        }\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    activarRestaurantes(){\n        this._restauranteService.activarRestaurantes(this.token).subscribe(\n            response => {\n                if(response){\n                    console.log(response);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    push(){\n        // this.notificacion.title = title;\n        // this.notificacion.body = body;\n        // this.notificacion.url = url;\n        this.notificacion.restaurantes = 'all';\n        this.notificacion.title = 'Activa tu restaurante';\n        this.notificacion.body = 'No olvides activar tu restaurante, en caso de que vayas a vender. De lo contrario, mantenlo desactivado.';\n        this.notificacion.url = '/restaurante/inicio';\n\n        this._pedidoService.push(this.token, this.notificacion).subscribe(\n            response => {\n                if(response){\n                    // console.log(response);\n                    this.status = 'notif-success'                  \n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'notif-error';\n                }\n            }\n        );\n    }\n\n    notificationRequest(){\n        Notification.requestPermission( function(permission){\n            if (permission == 'granted'){\n                // console.log('granted');\n            }\n        }).then(e => {\n            this.vapid();\n        })\n    }\n\n    vapid(){\n        if(navigator.serviceWorker){\n            const token = this.token;\n            navigator.serviceWorker.getRegistration().then(reg => {\n            \n                this.getPublicKey().then( function(key){                    \n                    reg.pushManager.subscribe({\n                        userVisibleOnly: true,\n                        applicationServerKey: key\n                    }).then(res => res.toJSON())\n                    .then(subscription => {\n                        fetch(GLOBAL.url + 'subscribe', {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json', 'Authorization': token},\n                            body: JSON.stringify(subscription)\n                        })\n                        .catch(console.log);\n                    })\n                })\n            })\n        } else {\n            // console.log('no lo soporta');\n        } \n    }\n\n    getPublicKey(){\n        const token = this.token;\n        return fetch(this.url + 'key', {\n            headers: { 'Authorization': token},\n        })\n        .then(res => res.arrayBuffer())\n        // retornar arreglo, pero como un UnitBarray\n        .then(key => new Uint8Array(key));\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"icono-Ralph navbar-brand\">\n                <img src=\"../../../../assets/icono.png\"/>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 50px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"panel-body p-3 m-1\">\n\n            <p class=\"text-center\" *ngIf=\"restauranteId == '5eb504b22242eb66ca714e7b'\">\n                <button class=\"btn btn-primary px-5 mb-3 text\" (click)=\"notificationRequest()\">Activar notificaciones</button>\n            </p>\n\n            <!-- <p class=\"text-center\" *ngIf=\"restauranteId != null\">\n                <a href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\" class=\"btn btn-secondary px-5 mb-3 text\">Activar restaurantes</a>\n            </p> -->\n\n            <div id=\"myModal2\" class=\"modal\">\n                <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Activarlos?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"activarRestaurantes()\">Sí</button>\n                    </div>\n                </div>\n                </div>\n            </div>\n\n            <div class=\"form-group\">\n                <label>Nombre del restaurante</label>\n                <select ngModel class=\"custom-select\" (ngModelChange)=\"obtenerRestaurante($event)\">\n                    <option value=\"0\">Selecciona un restaurante</option>\n                    <option *ngFor=\"let restaurante of restaurantes\" [ngValue]=\"restaurante._id\">{{restaurante.nombre}}</option>\n                </select>\n            </div>\n\n            <!-- <div *ngFor=\"let restaurante of restaurantes\">\n                <span>{{restaurante.nombre}}</span>\n                <br>\n                <span>{{restaurante.llamadas}}</span>\n            </div> -->\n\n            <div *ngIf=\"restaurante\">\n                <hr>  \n                <div class=\"res-nom2 avatar flex-grow-1 mt-4\">\n                    <p class=\"text-center\"><img src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/><span class=\"pl-3\">{{restaurante.nombre}}</span></p>\n                </div>\n            </div>\n\n            <p class=\"text-center mt-5\"><button *ngIf=\"restauranteId != null\" class=\"btn btn-success\" (click)=\"cargarEnvio(20)\" href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\">Pedido de prueba sin cupón</button></p>\n            <p class=\"text-center mt-5\"><button *ngIf=\"restauranteId != null\" class=\"btn btn-success\" (click)=\"cargarEnvio(30)\" href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\">Pedido de prueba cupón de $10</button></p>\n            <p class=\"text-center mt-5\"><button *ngIf=\"restauranteId != null\" class=\"btn btn-success\" (click)=\"cargarEnvio(40)\" href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\">Pedido de prueba cupón de $20</button></p>\n            <div class=\"alert alert-success\" *ngIf=\"status == 'pedido-success'\">\n                Se ha creado el pedido correctamente\n            </div>\n            <div class=\"alert alert-danger\" *ngIf=\"status == 'pedido-error'\">\n                <p>{{error}}</p>\n            </div>\n\n            <div id=\"myModal\" class=\"modal\">\n                <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h5 class=\"modal-title\">¿Confirmar pedido?</h5>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                            <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"pedidoPrueba()\">Si</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <p class=\"text-center mt-5\"><button *ngIf=\"credito != null\" class=\"btn btn-primary\" (click)=\"actualizarRestaurante()\">Actualizar crédito</button></p>\n            \n            <br>\n\n            <p class=\"text-center\" *ngIf=\"credito != null\">{{'Crédito: ' + credito}}</p>\n            <p class=\"text-center\" *ngIf=\"credito != null\">{{'Debe: ' + debe}}</p>\n            <p class=\"text-center\" *ngIf=\"credito != null\">{{'Ralph le debe: ' + ralphDebe}}</p>\n            <!-- <p class=\"text-center\"><button *ngIf=\"credito != null\" class=\"btn btn-success\" (click)=\"creditoa30()\">Modificar crédito a 30</button></p> -->\n\n            <br>\n\n            <form *ngIf=\"restauranteId != null\" autocomplete=\"off\" #form=\"ngForm\" (ngSubmit)=\"actualizarCredito(form, 1)\" class=\"mb-3\">\n                <div class=\"input-group px-2\">\n                    <input autocomplete=\"off\" placeholder=\"Crédito\" type=\"text\" class=\"form-control\" aria-describedby=\"basic-addon1\" name=\"nombre\" #nombre=\"ngModel\" [(ngModel)]=\"cupon.nombre\" class=\"form-control\" required>\n                    <div class=\"input-group-append\">\n                      <button class=\"btn btn-success px-4\" type=\"submit\"><i class=\"fas fa-check\"></i></button>\n                    </div>\n                </div>\n            </form>\n\n            <form *ngIf=\"restauranteId != null\" autocomplete=\"off\" #form=\"ngForm\" (ngSubmit)=\"actualizarCredito(form, 2)\" class=\"mb-3\">\n                <div class=\"input-group px-2\">\n                    <input autocomplete=\"off\" placeholder=\"Debe\" type=\"text\" class=\"form-control\" aria-describedby=\"basic-addon1\" name=\"status\" #status=\"ngModel\" [(ngModel)]=\"cupon.status\" class=\"form-control\" required>\n                    <div class=\"input-group-append\">\n                      <button class=\"btn btn-danger px-4\" type=\"submit\"><i class=\"fas fa-check\"></i></button>\n                    </div>\n                </div>\n            </form>\n\n            <form *ngIf=\"restauranteId != null\" autocomplete=\"off\" #form=\"ngForm\" (ngSubmit)=\"actualizarCredito(form, 3)\" class=\"mb-5\">\n                <div class=\"input-group px-2\">\n                    <input autocomplete=\"off\" placeholder=\"Ralph le debe\" type=\"text\" class=\"form-control\" aria-describedby=\"basic-addon1\" name=\"fechaVencimiento\" #fechaVencimiento=\"ngModel\" [(ngModel)]=\"cupon.fechaVencimiento\" class=\"form-control\" required>\n                    <div class=\"input-group-append\">\n                      <button class=\"btn btn-warning px-4\" type=\"submit\"><i class=\"fas fa-check\"></i></button>\n                    </div>\n                </div>\n            </form>\n            \n            <div class=\"alert alert-success\" *ngIf=\"status == 'credito-success'\">\n                Se ha actualizado el crédito correctamente\n            </div>\n            <div class=\"alert alert-danger\" *ngIf=\"status == 'credito-error'\">\n                <p>{{error}}</p>\n            </div>\n\n            <hr *ngIf=\"restauranteId != null\">\n\n            <fieldset>\n                <div *ngIf=\"restauranteId != null\" class=\"text-center mt-4\">\n                    <p class=\"text\">Publicidad en Facebook</p>\n                    <input type=\"radio\" id=\"activo\" name=\"FB\" value=\"activo\" (click)=\"opcionesRestaurante(1)\">\n                    <label class=\"ml-2 mr-3\" for=\"activo\">Activo</label>\n                    <input class=\"ml-3\" type=\"radio\" id=\"inactivo\" name=\"FB\" value=\"inactivo\" (click)=\"opcionesRestaurante(2)\">\n                    <label class=\"ml-2\" for=\"inactivo\">Inactivo</label>\n                    <hr>\n                </div>\n            </fieldset>\n\n            <fieldset>\n                <div *ngIf=\"restauranteId != null\" class=\"text-center mt-4\">\n                    <p class=\"text\">¿Quén hace los envíos?</p>\n                    <input type=\"radio\" id=\"ellos\" name=\"envios\" value=\"ellos\" (click)=\"servicioDom(1)\">\n                    <label class=\"ml-2 mr-3\" for=\"ellos\">Ellos mismos</label>\n                    <input class=\"ml-3\" type=\"radio\" id=\"mandados\" name=\"envios\" value=\"mandados\" (click)=\"servicioDom(2)\">\n                    <label class=\"ml-2\" for=\"mandados\">Mandaditos</label>\n                    <hr>\n                </div>\n            </fieldset>\n\n            <!-- <form *ngIf=\"restauranteId != null\" autocomplete=\"off\" #form=\"ngForm\" (ngSubmit)=\"opcionesRestaurante(0)\" class=\"mb-5 mt-4\">\n                <p class=\"text text-center\">Pedido mínimo</p>\n                <div class=\"input-group px-2\">\n                    <input autocomplete=\"off\" placeholder=\"Pedido mínimo\" type=\"number\" class=\"form-control\" aria-describedby=\"basic-addon1\" name=\"cupones\" #cupones=\"ngModel\" [(ngModel)]=\"cupon.cupones\" class=\"form-control\">\n                    <div class=\"input-group-append\">\n                      <button class=\"btn btn-success px-4\" type=\"submit\"><i class=\"fas fa-check\"></i></button>\n                    </div>\n                </div>\n            </form> -->\n\n            <div *ngIf=\"restauranteId != null\">\n                <div class=\"form-group mt-4\">\n                    <p class=\"text text-center\">Pedido mínimo</p>\n                    <div class=\"input-group px-2\">\n                        <input autocomplete=\"off\" maxlength=\"4\" placeholder=\"Pedido mínimo\" name=\"pedidoMinimo\" #pedidoMinimo=\"ngModel\" [(ngModel)]=\"restaurante.pedidoMinimo\" type=\"number\" aria-describedby=\"basic-addon1\" class=\"form-control\">\n                        <div class=\"input-group-append\">\n                          <button class=\"btn btn-success px-4\" (click)=\"opcionesRestaurante(0)\"><i class=\"fas fa-check\"></i></button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"alert alert-success text-center\" *ngIf=\"status == 'success1'\">\n                    Se ha actualizado correctamente\n                </div> \n    \n                <hr>\n    \n                <div class=\"form-group mt-4\">\n                    <p class=\"text text-center\">Costo de envío estandar</p>\n                    <div class=\"input-group px-2\">\n                        <input autocomplete=\"off\" maxlength=\"4\" placeholder=\"Pedido mínimo\" name=\"envio[0]\" #envio=\"ngModel\" [(ngModel)]=\"restaurante.envio[0]\" type=\"number\" aria-describedby=\"basic-addon1\" class=\"form-control\">\n                        <div class=\"input-group-append\">\n                          <button class=\"btn btn-success px-4\" (click)=\"servicioDom(0)\"><i class=\"fas fa-check\"></i></button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"alert alert-success text-center\" *ngIf=\"status == 'success2'\">\n                    Se ha actualizado correctamente\n                </div> \n    \n                <hr>\n    \n                <div class=\"form-group mt-4\">\n                    <div  class=\"row mb-2\">\n                        <label class=\"col-9 mt-1\">Si el pedido es mayor a </label>\n                        <input autocomplete=\"off\" maxlength=\"4\" type=\"number\" name=\"envio[1]\" #envio=\"ngModel\" [(ngModel)]=\"restaurante.envio[1]\" class=\"form-control col-3\" required />\n                    </div>\n                    <div  class=\"row mb-2\">\n                        <label class=\"col-9 mt-1\">El envío cuesta</label>\n                        <input autocomplete=\"off\" maxlength=\"4\" type=\"number\" name=\"envio[2]\" #envio=\"ngModel\" [(ngModel)]=\"restaurante.envio[2]\" class=\"form-control col-3\" required />\n                    </div>\n                    <div class=\"alert alert-success text-center\" *ngIf=\"status == 'success3'\">\n                        Se ha actualizado correctamente\n                    </div> \n                    <p class=\"text-center mt-4\"><button (click)=\"servicioDom(0)\" class=\"btn btn-success px-4\"><i class=\"fas fa-check pr-2\"></i>Actualizar</button></p>\n                </div>\n            </div>\n\n            <!-- <p class=\"text-center\" *ngIf=\"restauranteId != null\">Status: {{restaurante.status}}</p>\n            <p class=\"text-center\"><button *ngIf=\"restauranteId != null && restaurante.status == 'por activar'\" class=\"btn btn-warning\" (click)=\"darDeAltaRestaurante(1)\">Dar de alta Restaurante</button></p>\n            <p class=\"text-center\"><button *ngIf=\"restauranteId != null && restaurante.status == 'activo'\" class=\"btn btn-danger\" (click)=\"darDeAltaRestaurante(1)\">Desactivar Restaurante</button></p>\n            <p class=\"text-center\"><button *ngIf=\"restauranteId != null && restaurante.status == 'inactivo'\" class=\"btn btn-success\" (click)=\"darDeAltaRestaurante(2)\">Activar Restaurante</button></p> -->\n            <!-- <div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\n                Se ha dado de alta correctamente\n            </div> -->\n            <div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\n                <p>Ha ocurrido un error</p>\n            </div>\n\n            <br>\n\n            <!-- <p *ngIf=\"restauranteId != null\" class=\"text-center\"><button class=\"btn btn-primary\" (click)=\"push()\">Enviar notificaciones</button></p>\n            <div class=\"alert alert-success\" *ngIf=\"status == 'notif-success'\">\n                Se han enviado las notificaciones correctamente\n            </div> -->\n            <div class=\"alert alert-danger\" *ngIf=\"status == 'notif-error'\">\n                <p>Ha ocurrido un error</p>\n            </div>\n        </div>\n    </div>\n   <p style=\"height: 5px;\"></p>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {Restaurante} from '../../../restaurantes/models/restaurante';\nimport {Municipio} from '../../models/municipio';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {MunicipiosService} from '../../../services/municipio.service';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'registrarRest',\n    templateUrl: './registrarRest.component.html',\n    providers: [RestauranteService, UsuarioService, MunicipiosService]\n}) \n\nexport class RegistrarRestComponent implements OnInit{\t\t\t\t\n    public restaurante: Restaurante;\n    public token: any;\n    public identity: any;\n    public restaurantes: any;\n    public restauranteId: any;\n    public usuarios: any;\n    public municipios: Municipio[];\n    public status: string;\n    public error: string;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _restauranteService: RestauranteService,\n        private _municipiosService: MunicipiosService,\n        private _location: Location\n    ){\n        this.restaurante = new Restaurante(\"\",\"\",\"\",\"\",\"\",\"\",\"\",null,\"\",null,null,0,null,\"\",null,null,null);\n        this.token = this._usuarioService.getToken();\n        this.identity = this._usuarioService.getIdentity();\n        this.error = null;\n    }\n\n    ngOnInit(){\n        this.obtenerMunicipios();\n        this.obtenerRestaurantesAdmin();\n    }\n\n    obtenerMunicipios(){\n        this._municipiosService.obtenerMunicipios().subscribe(\n            response => {\n                this.municipios = response.municipios;\n                this.municipios.splice(2, 1);\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n                this.error = errorMessage.error.message;\n            }\n        )\n    }\n\n    backClicked() {\n        // this._router.navigate(['/admin/inicio']);\n        this._location.back();\n    }\n\n    onSubmit(form){\n        // console.log(form._directives);\n        this._restauranteService.registrarRestaurante(this.token, this.restaurante).subscribe(\n            response => {\n                if(response.restaurante && response.restaurante._id){\n                    // console.log(response.restaurante);\n                    form.reset();\n                    this.status = 'success';\n                    this.obtenerRestaurantesAdmin();\n                } else {\n                    // console.log(response);\n                    this.status = 'error';\n                    this.error = response.message;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                \n                if(errorMessage != null){\n                    this.status = 'error';\n                    if(errorMessage.error.message){\n                        this.error = errorMessage.error.message;\n                    } else {\n                        this.error = 'Error en el servidor';\n                    }\n                }\n            }\n        );\n    }\n\n    obtenerRestaurantesAdmin(){\n        this._restauranteService.obtenerRestaurantesAdmin(this.token, 0).subscribe(\n            response => {\n                if(response){\n                    this.restaurantes = response.restaurantes\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerUsuarios(id){\n        this.restauranteId = id;\n        this._usuarioService.obtenerUsuarios(id).subscribe(\n            response => {\n                if(response){\n                    this.usuarios = response.usuarios;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    actualizarPermisosUsuario(usuarioId, permiso){\n        this.status = null;\n\n        this._usuarioService.actualizarPermisosUsuario(usuarioId, permiso).subscribe(\n            response => {\n                if(response){\n                    this.obtenerUsuarios(this.restauranteId);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error2';\n                    this.error = errorMessage.error.message;\n                }\n            }\n        )\n    }\n\n    CrarUsuarioConPermisos(form){\n        this.status = null;\n\n        this._usuarioService.actualizarPermisosUsuario(this.restauranteId, this.restaurante.visitas).subscribe(\n            response => {\n                if(response){\n                    console.log(response);\n                    this.obtenerUsuarios(this.restauranteId);\n                    form.reset();\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error2';\n                    this.error = errorMessage.error.message;\n                }\n            }\n        )\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"icono-Ralph navbar-brand\">\n                <img src=\"../../../../assets/icono.png\"/>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 60px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"panel-body p-3 m-1\">\n        \n            <form autocomplete=\"off\" #restauranteForm=\"ngForm\" (ngSubmit)=\"onSubmit(restauranteForm)\">\n            \n               <div class=\"form-group\">\n                    <label>Correo electrónico del propietario</label>\n                    <input type=\"text\" name=\"propietario\" #propietario=\"ngModel\" [(ngModel)]=\"restaurante.propietario\" class=\"form-control\" required />\n                    <span *ngIf=\"!propietario.valid && propietario.touched\">\n                        El correo es obligatorio\n                    </span>\n               </div>\n\n               <div class=\"form-group\">\n                <label>Municipio</label>\n                <select name=\"municipio\" #municipio=\"ngModel\" [(ngModel)]=\"restaurante.municipio\" class=\"custom-select\">\n                    <option value=\"0\">Selecciona un municipio</option>\n                    <option *ngFor=\"let municipio of municipios\" value=\"{{municipio._id}}\">{{municipio.nombre}}</option>\n                </select>\n                </div>\n           \n               <div class=\"form-group\">\n                    <label>¿Cuenta con servicio a domicilio?</label>\n                    <select name=\"servicioDomicilio\" #servicioDomicilio=\"ngModel\" [(ngModel)]=\"restaurante.servicioDomicilio\" class=\"custom-select\">\n                        <option value=null>Seleccionar</option>\n                        <option value=\"true\">Ellos mismos los harán</option>\n                        <option value=\"false\">Los harán mandaditos</option>\n                    </select>\n               </div>\n            \n                <div class=\"alert alert-success text-center\" *ngIf=\"status == 'success'\">\n                    Se ha creado el restaurante correctamente\n                </div>\n            \n                <div class=\"alert alert-danger text-center\" *ngIf=\"status == 'error'\">\n                    {{error}}\n                </div>\n\n                <p class=\"text-center\">\n                    <input type=\"submit\" value=\"Crear\" class=\"btn btn-success mt-3 px-4\" [disabled]=\"!restauranteForm.form.valid\">\n                </p>\n            </form>\n\n            <p style=\"height: 25px;\" class=\"border-bottom\"></p>\n\n            <p class=\"text-detalle-pedido text-center\">Otorgar permisos</p>\n            <div class=\"form-group mb-4\">\n                <label>Nombre del restaurante</label>\n                <select ngModel class=\"custom-select\" (ngModelChange)=\"obtenerUsuarios($event)\">\n                    <option value=\"0\">Selecciona un restaurante</option>\n                    <option *ngFor=\"let restaurante of restaurantes\" [ngValue]=\"restaurante._id\">{{restaurante.nombre}}</option>\n                </select>\n            </div>\n\n            <div *ngIf=\"usuarios != null\">\n                <div *ngFor=\"let usuario of usuarios\" class=\"row my-2\">\n                    <p class=\"text3 col-8\">{{usuario.nombre + ' ' + usuario.apellido}}</p>\n\n                    <div class=\"col-4\">\n                        <a class=\"text3\" href=\"#myModal{{usuario._id}}\" data-toggle=\"modal\" data-target=\"#myModal{{usuario._id}}\" *ngIf=\"usuario.rol == 'RESTAURANTE'\">Dueño</a>\n                        <a class=\"text3\" href=\"#myModal{{usuario._id}}\" data-toggle=\"modal\" data-target=\"#myModal{{usuario._id}}\" *ngIf=\"usuario.rol == 'EMPLEADO'\">Empleado</a>\n                    </div>\n\n                    <div id=\"myModal{{usuario._id}}\" class=\"modal\">\n                        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                            <div class=\"modal-content\">\n                                <a class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\" (click)=\"actualizarPermisosUsuario(usuario._id, 1)\">\n                                    Dueño\n                                </a>\n                                <a class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\" (click)=\"actualizarPermisosUsuario(usuario._id, 2)\">\n                                    Empleado\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <p style=\"height: 20px;\" class=\"border-bottom\"></p>\n\n                <form autocomplete=\"off\" #form=\"ngForm\" (ngSubmit)=\"CrarUsuarioConPermisos(form)\" class=\"\">\n                    <div class=\"input-group\">\n                        <input autocomplete=\"off\" type=\"text\" class=\"form-control\" placeholder=\"Correo electrónico\" aria-describedby=\"basic-addon1\" name=\"visitas\" #visitas=\"ngModel\" [(ngModel)]=\"restaurante.visitas\" required>\n                        <div class=\"input-group-append\">\n                            <button class=\"btn btn-success px-4\" type=\"submit\"><i class=\"fas fa-check\"></i></button>\n                        </div>\n                    </div>\n                </form>\n\n                <div class=\"alert alert-danger text-center mt-4\" *ngIf=\"status == 'error2'\">\n                    {{error}}\n                </div>\n\n            </div>\n        </div>\n    </div>\n   <p style=\"height: 20px;\"></p>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {GLOBAL} from '../../../services/global';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {StatsService} from '../../../services/stats.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'restaurantes',\n    templateUrl: './restaurantes.component.html',\n    providers: [UsuarioService, StatsService, RestauranteService]\n}) \n\nexport class RestaurantesComponent implements OnInit{\t\t\n    public url;\t\t\n    public token;\n    public status;\n    public loading;\n    public usuarios;\n    public usuario;\n    public restaurantes;\n    public restaurante;\n    public total;\n    public tipoRestaurantes;\n    public notificaciones;\n    public pedidos;\n    public todasLasStats;\n    public mostrarEmpleados;\n    public modal;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _statsService: StatsService,\n        private _restauranteService: RestauranteService,\n        private _location: Location\n    ){\n        this.token = this._usuarioService.getToken();\n        this.url = GLOBAL.url;\n        this.tipoRestaurantes = 1;\n        this.notificaciones = [];\n        this.pedidos = [];\n        this.loading = true;\n        this.todasLasStats = false;\n        this.mostrarEmpleados = false;\n    }\n\n\n    ngOnInit(){\n        this.obtenerPedidos();\n        this.obtenerNotificaciones();\n        setTimeout(() => this.restaurantesActivos(), 200)\n    }\n\n\n    backClicked() {\n        this._location.back();\n    }\n\n\n    allStats(){\n        if(this.todasLasStats == true){\n            this.todasLasStats = false;\n\n        } else {\n            this.todasLasStats = true;\n        }\n    }\n\n\n    empleados(){\n        if(this.mostrarEmpleados == true){\n            setTimeout(() => this.mostrarEmpleados = false, 100);\n\n        } else {\n            setTimeout(() => this.mostrarEmpleados = true, 100);\n            this.todosEmpleados();\n        }\n    }\n\n\n    restaurantesActivos(){\n        this._restauranteService.obtenerRestaurantesAdmin(this.token, 1).subscribe(\n            response => {\n                if(response){\n                    this.loading = false;\n                    this.restaurantes = response.restaurantes;\n                    this.total = response.total;\n\n                    this.restaurantes.forEach(restaurante => {\n                        var pedidos = this.pedidos.filter(x => x == restaurante._id).length;\n\n                        var posicion = (this.restaurantes.indexOf(restaurante));\n                        this.restaurantes[posicion].pedidos = pedidos;\n                    });\n\n                    if(this.mostrarEmpleados == true){\n                        setTimeout(() => this.todosEmpleados(), 200)\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    restaurantesPorActivar(){\n        this._restauranteService.obtenerRestaurantesAdmin(this.token, 2).subscribe(\n            response => {\n                if(response){\n                    this.loading = false;\n                    this.restaurantes = response.restaurantes;\n                    this.total = response.total;\n\n                    this.restaurantes.forEach(restaurante => {\n                        var pedidos = this.pedidos.filter(x => x == restaurante._id).length;\n\n                        var posicion = (this.restaurantes.indexOf(restaurante));\n                        this.restaurantes[posicion].pedidos = pedidos;\n                    });\n\n                    if(this.mostrarEmpleados == true){\n                        setTimeout(() => this.todosEmpleados(), 200)\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    todosEmpleados(){\n        this._usuarioService.todosEmpleados().subscribe(\n            response => {\n                if(response){\n                    this.usuarios = response.usuarios;\n\n                    this.usuarios.forEach(usuario => {\n                        var notificaciones = this.notificaciones.filter(x => x == usuario._id).length;\n\n                        var posicion = (this.usuarios.indexOf(usuario));\n                        this.usuarios[posicion].notificaciones = notificaciones;\n                    });\n\n                    this.restaurantes.forEach(restaurante => {\n                        var posicion = (this.restaurantes.indexOf(restaurante));\n                        this.restaurantes[posicion].empleados = [];\n\n                        this.usuarios.forEach(usuario => {\n                            if(restaurante._id == usuario.restaurante){\n                                if(usuario.correo != 'rafachido12@hotmail.com'){\n                                    this.restaurantes[posicion].empleados.push(usuario);\n                                }\n                            }\n                        });\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    obtenerNotificaciones(){\n        this._statsService.getStats(6, 1).subscribe(\n            response => {\n                if(response){\n                    response.stats.forEach(element => {\n                        this.notificaciones.push(element.usuario);\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    obtenerPedidos(){\n        this._statsService.getStats(7, 1).subscribe(\n            response => {\n                if(response){\n                    response.stats.forEach(element => {\n                        this.pedidos.push(element.restaurante);\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n    \n\n    obtenerRestaurantes(n){\n        if(this.tipoRestaurantes == n){\n            return\n        } else {\n            this.loading = true;\n            this.tipoRestaurantes = n;\n        }\n\n        if(n == 1){\n            this.restaurantesActivos();\n            \n        } else if(n == 2){\n            this.restaurantesPorActivar();   \n        }\n    }\n\n\n    cargarRestaurante(restaurante){\n        this.restaurante = restaurante;\n    }\n\n\n    cargarUsuario(usuario){\n        this.usuario = usuario;\n    }\n\n\n    elegirModal(n){\n        this.modal = n;\n    }\n\n\n    activarRestaurante(status){\n        var posicion = (this.restaurantes.indexOf(this.restaurante));\n\n        this._restauranteService.darDeAltaRestaurante(this.token, this.restaurante._id, status).subscribe(\n            response => {\n                if(response){\n                    this.restaurante = response.restaurante;\n                    this.restaurantes[posicion].status = this.restaurante.status;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    whatsApp(){\n        window.location.href = 'https://api.whatsapp.com/send?phone=52' + this.usuario.telefono + '&text=%C2%A1Hola!%20%C2%BFC%C3%B3mo%20est%C3%A1s?';\n    }\n\n\n    copyMessage(){\n        const selBox = document.createElement('textarea');\n        selBox.style.position = 'fixed';\n        selBox.style.left = '0';\n        selBox.style.top = '0';\n        selBox.style.opacity = '0';\n        selBox.value = this.usuario.telefono;\n        document.body.appendChild(selBox);\n        selBox.focus();\n        selBox.select();\n        document.execCommand('copy');\n        document.body.removeChild(selBox);\n    }\n\n\n    hacerLlamada(){\n        this._usuarioService.llamarUsuario(this.usuario._id).subscribe(\n            response => {\n                if(response){\n                    console.log(response);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    pushNotification(){\n        this._usuarioService.pushNotification(this.usuario._id).subscribe(\n            response => {\n                if(response){\n                    console.log(response);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom col-11\">\n                <p class=\"text-center mt-1\">Restaurantes</p>\n            </div>\n\n            <div class=\"navbars flex-grow-1 clickable\" href=\"#myModal4\" data-toggle=\"modal\" data-target=\"#myModal4\">\n                <p class=\"text-right\">\n                    <i class=\"icon far fa-chart-bar mr-2\"></i>\n                </p>\n            </div>\n        </div>            \n    </nav>\n\n    <div class=\"info container d-block mt-2\" style=\"height: 175px\" >\n        <div *ngIf=\"loading\">\n            <p class=\"text-center pt-2\">\n                <img src=\"../../assets/loading.gif\" width=\"20px\">\n            </p>\n        </div>\n\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                Ha ocurrido un error.\n            </p>\n        </div>\n\n        <div *ngIf=\"!loading && !mostrarEmpleados\" class=\"row\" style=\"height: 40px\"> \n            <p class=\"pl-4 subtitle col-10\">\n                {{'Total: ' + total}}\n            </p>\n        </div>\n\n        <div *ngIf=\"mostrarEmpleados\" class=\"text-center\" style=\"height: 60px\"> \n            <span class=\"text\">\n                El número de teléfono americano es:\n            </span>\n            <p class=\"text\">\n                <strong>+1 805 301 1198</strong>\n            </p>\n        </div>\n\n        <div *ngIf=\"!loading\" class=\"mt-4\">\n            <div *ngFor=\"let restaurante of restaurantes\" class=\"mb-4 mt-2\"> \n                <div class=\"card clickable\">\n                    <div class=\"card-body\">\n                        <div class=\"row mb-1\">\n                            <div class=\"col-2 avatar2\">\n                                <img *ngIf=\"restaurante.imagen\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/>\n                            </div>   \n                            <p class=\"ml-1 pedido-card-text\">{{restaurante.nombre}}</p>\n                        </div>\n\n                        <div *ngIf=\"!mostrarEmpleados\">\n                            <div class=\"row pedido-line2 mb-2\" *ngIf=\"todasLasStats\">\n                                <i class=\"pedido-card-icon fa fa-map-marker-alt col-2 mt-1 mr-1\"></i>                    \n                                <div class=\"pedido-card-text\" *ngIf=\"restaurante.municipio == '5ea75e0f006fd271928efe33'\">Jamay</div>\n                                <div class=\"pedido-card-text\" *ngIf=\"restaurante.municipio == '5ea75e1d006fd271928efe34'\">Ocotlán</div>\n                                <div class=\"pedido-card-text\" *ngIf=\"restaurante.municipio == '5ea75e24006fd271928efe35'\">La Barca</div>\n                            </div>\n    \n                            <div class=\"row\">\n                                <i *ngIf=\"restaurante.status == 'activo'\" class=\"icon-green fas fa-circle ml-3 mt-2\"></i>\n                                <i *ngIf=\"restaurante.status != 'activo'\" class=\"icon-red fas fa-circle ml-3 mt-2\"></i>\n                                <p class=\"col-7 pl-4 ml-1 pedido-card-text\" (click)=\"cargarRestaurante(restaurante)\" href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\">{{restaurante.status}}</p>\n                                <i class=\"flex-grow-1 mt-1 pl-4 icon-trash fas fa-credit-card\" [routerLink]=\"['/admin/deposito', restaurante._id]\"></i>\n                            </div>\n    \n                            <div class=\"row\" *ngIf=\"todasLasStats\">\n                                <i class=\"ml-3 pedido-card-icon fas fa-biking icon-status-camino\"></i>\n                                <p *ngIf=\"restaurante.servicioDomicilio == true\" class=\"pl-4 stats-correo\">Sí</p>\n                                <p *ngIf=\"restaurante.servicioDomicilio == false\" class=\"pl-4 stats-correo\">No</p>\n                            </div>\n    \n                            <div class=\"row\" *ngIf=\"todasLasStats\">\n                                <i class=\"ml-3 pedido-card-icon fas fa-phone-alt\"></i>\n                                <p  class=\"pl-4 pedido-card-text\">{{restaurante.telefono}}</p>\n                            </div>\n    \n                            <div class=\"row\">\n                                <p  class=\"col-3 stats-text\">Visit: </p>\n                                <p  class=\"col-3 stats-numero\">{{restaurante.visitas}}</p>\n                                <p  class=\"col-3 stats-text\">Pedid: </p>\n                                <p  class=\"col-3 stats-numero\">{{restaurante.pedidos}}</p>\n                            </div>\n                            \n                            <div class=\"row\">\n                                <p  class=\"col-3 stats-text\">Debe: </p>\n                                <p  class=\"col-3 stats-numero\">{{restaurante.debe}}</p>\n                                <p  class=\"col-3 stats-text\">Rdeb: </p>\n                                <p  class=\"col-3 stats-numero\">{{restaurante.ralphDebe}}</p>\n                            </div>\n                        </div>\n\n                        <div *ngIf=\"mostrarEmpleados\">\n                            <div class=\"row\">\n                                <p class=\"text-center col-9\"><strong>Empleados</strong></p>\n                                <p class=\"text-center col-3\"><strong>Notif</strong></p>\n                            </div>\n                            <div *ngFor=\"let empleado of restaurante.empleados\">\n                                <div class=\"row\" (click)=\"cargarUsuario(empleado)\" href=\"#myModal5\" data-toggle=\"modal\" data-target=\"#myModal5\">\n                                    <p class=\"col-9 py-2\">{{empleado.nombre + ' ' + empleado.apellido}}</p>\n                                    <p class=\"text-center col-3 py-2\">{{empleado.notificaciones}}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <p style=\"height: 45px;\"></p>\n    </div>\n\n    <div id=\"myModal\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\">\n                <a (click)=\"obtenerRestaurantes(1)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Activos\n                </a>\n                <a (click)=\"obtenerRestaurantes(2)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Por activar\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <div id=\"myModal2\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\" *ngIf=\"restaurante\">\n            <div class=\"modal-header\">\n                <h5 *ngIf=\"restaurante.status != 'activo'\" class=\"modal-title\">¿Activar?</h5>\n                <h5 *ngIf=\"restaurante.status == 'activo'\" class=\"modal-title\">¿Desactivar?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button *ngIf=\"restaurante.status == 'inactivo'\" href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\" type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Dar de baja</button>\n                <button *ngIf=\"restaurante.status != 'inactivo'\" type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button *ngIf=\"restaurante.status != 'activo'\" type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"activarRestaurante(2)\">Sí</button>\n                <button *ngIf=\"restaurante.status == 'activo'\" type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"activarRestaurante(1)\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n    \n    <div id=\"myModal3\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\" *ngIf=\"restaurante\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Dar de baja a '{{restaurante.nombre}}'?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">No</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"activarRestaurante(3)\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal4\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 *ngIf=\"!todasLasStats && !mostrarEmpleados\" class=\"modal-title\">¿Mostrar todas las stats?</h5>\n                <h5 *ngIf=\"todasLasStats && !mostrarEmpleados\" class=\"modal-title\">¿Ocultar todas las stats?</h5>\n                <h5 *ngIf=\"mostrarEmpleados\" class=\"modal-title\">¿Ocultar empleados?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button *ngIf=\"!mostrarEmpleados\" type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\" (click)=\"empleados()\">Mostrar empleados</button>\n                <button *ngIf=\"!mostrarEmpleados\" type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"allStats()\">Sí</button>\n                <button *ngIf=\"mostrarEmpleados\" type=\"button\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">No</button>\n                <button *ngIf=\"mostrarEmpleados\" type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"empleados()\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n    \n    <div id=\"myModal5\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\" *ngIf=\"usuario\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">{{usuario.nombre + ' ' + usuario.apellido}}</h5>\n                </div>\n                <div class=\"modal-footer\">\n                    <p (click)=\"elegirModal(1)\" href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">Enviar notificación</p>\n                    <p (click)=\"elegirModal(2)\" href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\" class=\"btn-modal-cancel btn btn-warning px-3\" data-dismiss=\"modal\">Llamada de prueba</p>\n                    <p (click)=\"copyMessage()\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">Copiar teléfono</p>\n                    <p (click)=\"elegirModal(3)\" href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">Mandar WhatsApp</p>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div id=\"myModal6\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\" *ngIf=\"elegirModal\">\n            <div class=\"modal-header\">\n                <h5 *ngIf=\"modal == 1\" class=\"modal-title\">¿Enviar notificación?</h5>\n                <h5 *ngIf=\"modal == 2\" class=\"modal-title\">¿Hacer llamada de prueba?</h5>\n                <h5 *ngIf=\"modal == 3\" class=\"modal-title\">¿Mandar WhatsApp?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">No</button>\n                <button *ngIf=\"modal == 1\" type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"pushNotification()\">Sí</button>\n                <button *ngIf=\"modal == 2\" type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" href=\"#myModal7\" data-toggle=\"modal\" data-target=\"#myModal7\">Sí</button>\n                <button *ngIf=\"modal == 3\" type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"whatsApp()\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal7\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\" *ngIf=\"usuario\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Recuerda que antes de hacer la llamada, debes agregar el teléfono de EU en el celular de {{usuario.nombre}}</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"hacerLlamada()\">Hacer llamada</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <nav class=\"navbar-bottom navbar-default fixed-bottom\">\n        <a href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\" class=\"btn-navbar col-12 border-top\">                \n            <p class=\"text-center text-depositar\">\n                <span *ngIf=\"tipoRestaurantes == 1\">Activos</span>\n                <span *ngIf=\"tipoRestaurantes == 2\">Por activar</span>\n                <i class=\"ml-2 categorias-icon fas fa-sort-up\"></i>\n            </p>\n        </a>\n    </nav>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {StatsService} from '../../../services/stats.service';\nimport {Cupon} from '../../../models/cupon';\nimport {Location} from '@angular/common';\n\n@Component({\n    selector: 'usuarios',\n    templateUrl: './usuarios.component.html',\n    providers: [UsuarioService, StatsService]\n}) \n\nexport class UsuariosComponent implements OnInit{\t\t\t\t\n    public status;\n    public loading;\n    public usuarios;\n    public usuario;\n    public page;\n    public pages;\n    public total;\n    public tipoUsuarios;\n    public notificaciones;\n    public cupones;\n    public pedidos;\n    public todasLasStats;\n    public cupon: Cupon;\n    public numero;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _statsService: StatsService,\n        private _location: Location\n    ){\n        this.usuarios = [];\n        this.page = 1;\n        this.tipoUsuarios = 1;\n        this.usuario = null;\n        this.numero = null;\n        this.notificaciones = [];\n        this.cupones = [];\n        this.pedidos = [];\n        this.loading = true;\n        this.todasLasStats = false;\n        this.cupon = new Cupon(null,null,\"\",null,null,null,null)\n    }\n\n    ngOnInit(){\n        this.obtenerNotificaciones();\n        this.obtenerCupones();\n        this.obtenerPedidos();\n        setTimeout(() => this.obtenerTodosUsuarios(), 300);\n    }\n\n\n    backClicked() {\n        this._location.back();\n    }\n    \n\n    allStats(){\n        if(this.todasLasStats == true){\n            this.todasLasStats = false;\n\n        } else {\n            this.todasLasStats = true;\n        }\n    }\n\n\n    onScroll(){\n        if(!this.numero){\n            this.page += 1;\n    \n            if(this.page >= this.pages+1){\n                return\n                \n            } else {\n                if(this.tipoUsuarios == 1){\n                    this.obtenerTodosUsuarios(true);\n                    \n                } else if(this.tipoUsuarios == 2){\n                    this.usuariosActivos(true);\n                    \n                } else if(this.tipoUsuarios == 3){\n                    this.obtenerUsuariosPorActivar(true);\n                }\n            }\n        }\n    }\n\n\n    obtenerTodosUsuarios(adding = false){\n        this._statsService.getStats(1, this.page).subscribe(\n            response => {\n                if(response){\n                    this.pages = response.pages;                 \n                    this.loading = false;\n\n                    if(!adding){\n                        this.usuarios = response.stats;\n                        this.total = response.total;\n                        \n                    } else {\n                        var arrayA = this.usuarios;\n                        var arrayB = response.stats;\n                        this.usuarios = arrayA.concat(arrayB);\n                    }\n\n\n                    response.stats.forEach(usuario => {\n                        var pedidos = this.pedidos.filter(x => x == usuario._id).length;\n                        var cupones = this.cupones.filter(x => x == usuario._id).length;\n                        var notificaciones = this.notificaciones.filter(x => x == usuario._id).length;\n\n                        var posicion = (this.usuarios.indexOf(usuario));\n                        this.usuarios[posicion].pedidos = pedidos;\n                        this.usuarios[posicion].cupones = cupones;\n                        this.usuarios[posicion].notificaciones = notificaciones;\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    usuariosActivos(adding = false){\n        this._usuarioService.todosLosUsuarios2(this.page).subscribe(\n            response => {\n                if(response){\n                    this.pages = response.pages;                \n                    this.loading = false;\n\n                    if(!adding){\n                        this.usuarios = response.usuarios;\n                        this.total = response.total;\n\n                    } else {\n                        var arrayA = this.usuarios;\n                        var arrayB = response.usuarios;\n                        this.usuarios = arrayA.concat(arrayB);\n                    }\n\n\n                    response.usuarios.forEach(usuario => {\n                        var pedidos = this.pedidos.filter(x => x == usuario._id).length;\n                        var cupones = this.cupones.filter(x => x == usuario._id).length;\n                        var notificaciones = this.notificaciones.filter(x => x == usuario._id).length;\n\n                        var posicion = (this.usuarios.indexOf(usuario));\n                        this.usuarios[posicion].pedidos = pedidos;\n                        this.usuarios[posicion].cupones = cupones;\n                        this.usuarios[posicion].notificaciones = notificaciones;\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    obtenerUsuariosPorActivar(adding = false){\n        this._usuarioService.usuariosSinActivar(this.page).subscribe(\n            response => {\n                if(response){\n                    this.pages = response.pages;\n                    this.loading = false;\n\n                    if(!adding){\n                        this.usuarios = response.usuarios;\n                        this.total = response.total;\n\n                    } else {\n                        var arrayA = this.usuarios;\n                        var arrayB = response.usuarios;\n                        this.usuarios = arrayA.concat(arrayB);\n                    }\n\n\n                    response.usuarios.forEach(usuario => {\n                        var pedidos = this.pedidos.filter(x => x == usuario._id).length;\n                        var cupones = this.cupones.filter(x => x == usuario._id).length;\n                        var notificaciones = this.notificaciones.filter(x => x == usuario._id).length;\n\n                        var posicion = (this.usuarios.indexOf(usuario));\n                        this.usuarios[posicion].pedidos = pedidos;\n                        this.usuarios[posicion].cupones = cupones;\n                        this.usuarios[posicion].notificaciones = notificaciones;\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    obtenerUsuarios(n){\n        if(this.tipoUsuarios == n){\n            return\n        } else {\n            this.loading = true;\n            this.page = 1;\n            this.tipoUsuarios = n;\n        }\n\n        if(n == 1){\n            this.obtenerTodosUsuarios();\n            \n        } else if(n == 2){\n            this.usuariosActivos();\n            \n        } else if(n == 3){\n            this.obtenerUsuariosPorActivar();\n        }\n    }\n\n\n    obtenerNotificaciones(){\n        this._statsService.getStats(6, 1).subscribe(\n            response => {\n                if(response){\n                    response.stats.forEach(element => {\n                        this.notificaciones.push(element.usuario);\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    obtenerCupones(){\n        this._statsService.getStats(5, 1).subscribe(\n            response => {\n                if(response){\n                    response.stats.forEach(element => {\n                        this.cupones.push(element.usuario);\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    obtenerPedidos(){\n        this._statsService.getStats(7, 1).subscribe(\n            response => {\n                if(response){\n                    response.stats.forEach(element => {\n                        this.pedidos.push(element.usuario);\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    cargarUsuario(usuario){\n        this.usuario = usuario;\n    }\n\n\n    activarUsuario(n){\n        var posicion = (this.usuarios.indexOf(this.usuario));\n\n        this._usuarioService.activarUsuario(this.usuario._id, n).subscribe(\n            response => {\n                if(response){\n                    this.usuario = response.usuario;\n                    this.usuarios[posicion].status = this.usuario.status;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    generarContrasena(){\n        this._usuarioService.prepararContra(this.usuario._id).subscribe(\n            response => {\n                if(response){\n                    window.location.href = 'whatsapp://send?phone=52' + this.usuario.telefono + '&text=Tu%20cuenta%20est%C3%A1%20lista%20para%20que%20le%20cambies%20la%20contrase%C3%B1a.%20Para%20continuar,%20accede%20al%20siguiente%20enlace:%20https://ralph.tk/nueva-contra/' + this.usuario._id;\n                    // window.location.href = 'whatsapp://send?phone=52' + this.usuario.telefono + '&text=Tu%20cuenta%20est%C3%A1%20lista%20para%20que%20le%20cambies%20la%20contrase%C3%B1a.%20Para%20continuar,%20accede%20al%20siguiente%20enlace:%20https://ralph.com.mx/nueva-contra/' + this.usuario._id;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    buscarUsuario(){\n        if(this.cupon.nombre){\n            this._usuarioService.buscarUsuario(this.cupon.nombre). subscribe(\n                response => {\n                    if(response){\n                        this.numero = 1;\n                        this.usuarios = response.usuarios;\n                    }\n                },\n                error => {\n                    var errorMessage = <any>error;\n                    console.log(errorMessage);\n            \n                    if(errorMessage != null){\n                        this.status = 'error';\n                    }\n                }\n            )\n        }\n    }\n\n    \n    whatsApp(){\n        if(this.usuario.status == 'por activar'){\n            window.location.href = 'https://api.whatsapp.com/send?phone=52' + this.usuario.telefono + '&text=%C2%A1Hola!%20Soy%20de%20la%20aplicaci%C3%B3n%20Ralph,%20para%20ordenar%20comida%20a%20domicilio.%20Intentaste%20crear%20una%20cuenta%20en%20la%20app%20a%20trav%C3%A9s%20de%20este%20n%C3%BAmero%20de%20tel%C3%A9fono,%20pero%20no%20pudiste%20completar%20tu%20registro.%20%C2%BFSurgi%C3%B3%20alg%C3%BAn%20problema?';\n\n        } else {\n            window.location.href = 'https://api.whatsapp.com/send?phone=52' + this.usuario.telefono + '&text=%C2%A1Hola!%20Soy%20de%20la%20aplicaci%C3%B3n%20Ralph,%20para%20ordenar%20comida%20a%20domicilio.';\n        }\n    }\n\n\n    copyMessage(){\n        const selBox = document.createElement('textarea');\n        selBox.style.position = 'fixed';\n        selBox.style.left = '0';\n        selBox.style.top = '0';\n        selBox.style.opacity = '0';\n        selBox.value = this.usuario.telefono;\n        document.body.appendChild(selBox);\n        selBox.focus();\n        selBox.select();\n        document.execCommand('copy');\n        document.body.removeChild(selBox);\n    }\n\n\n    eliminarUsuario(){\n        this._usuarioService.eliminarUsuario(this.usuario._id).subscribe(\n            response => {\n                if(response){\n                    this.obtenerUsuarios(1);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom col-11\">\n                <p class=\"text-center mt-1\">Usuarios</p>\n            </div>\n\n            <div class=\"navbars flex-grow-1 clickable\" href=\"#myModal4\" data-toggle=\"modal\" data-target=\"#myModal4\">\n                <p class=\"text-right\">\n                    <i class=\"icon far fa-chart-bar mr-2\"></i>\n                </p>\n            </div>\n        </div>            \n    </nav>\n\n    <div class=\"info container d-block mt-2\" style=\"height: 175px\" >\n        <div *ngIf=\"loading\">\n            <p class=\"text-center pt-2\">\n                <img src=\"../../assets/loading.gif\" width=\"20px\">\n            </p>\n        </div>\n\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                Ha ocurrido un error.\n            </p>\n        </div>\n\n        <form *ngIf=\"!loading\" autocomplete=\"off\" #form=\"ngForm\" (ngSubmit)=\"buscarUsuario()\" class=\"mt-2\">\n            <div class=\"input-group px-2\">\n                <input autocomplete=\"off\" type=\"text\" class=\"form-control\" placeholder=\"Ingresa nombre o teléfono\" aria-describedby=\"basic-addon1\" name=\"nombre\" #nombre=\"ngModel\" [(ngModel)]=\"cupon.nombre\" class=\"form-control\" required>\n                <div class=\"input-group-append\">\n                    <button class=\"btn btn-success btn-orange px-4\" type=\"submit\"><i class=\"fas fa-search\"></i></button>\n                </div>\n            </div>\n        </form>\n\n        <hr *ngIf=\"!loading && numero == 1\">\n\n        <div *ngIf=\"!loading && !numero\" class=\"row mt-3\" style=\"height: 40px\"> \n            <p class=\"pl-4 subtitle col-10\">\n                {{'Total: ' + total}}\n            </p>\n        </div>\n\n        <div *ngIf=\"!loading\" class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n            <div *ngFor=\"let usuario of usuarios\" class=\"mb-4 mt-2\"> \n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <div class=\"row clickable\" (click)=\"cargarUsuario(usuario)\" href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\">\n                            <p class=\"text-right ml-3 mt-1\"><i class=\"pedido-card-icon fas fa-user\"></i></p>\n                            <p class=\"pl-3 ml-1 pedido-card-text\">{{usuario.nombre + ' ' + usuario.apellido}}</p>\n                        </div>\n\n                        <div class=\"row pedido-line2 mb-2\" *ngIf=\"todasLasStats\">\n                            <i class=\"pedido-card-icon fa fa-map-marker-alt col-2 mt-1\"></i>                    \n                            <div class=\"pedido-card-text\" *ngIf=\"usuario.municipio == '5ea75e0f006fd271928efe33'\">Jamay</div>\n                            <div class=\"pedido-card-text\" *ngIf=\"usuario.municipio == '5ea75e1d006fd271928efe34'\">Ocotlán</div>\n                            <div class=\"pedido-card-text\" *ngIf=\"usuario.municipio == '5ea75e24006fd271928efe35'\">La Barca</div>\n                        </div>\n                        \n                        <div class=\"row mb-1\" *ngIf=\"todasLasStats\">\n                            <i class=\"ml-2 pl-1 pedido-card-icon fas fa-user-tag\"></i>\n                            <div  class=\"pl-3 pedido-card-text\">{{usuario.rol}}</div>\n                        </div>\n\n                        <div class=\"row\">\n                            <i *ngIf=\"usuario.status == 'activo'\" class=\"icon-green fas fa-circle ml-3 mt-2\"></i>\n                            <i *ngIf=\"usuario.status != 'activo'\" class=\"icon-red fas fa-circle ml-3 mt-2\"></i>\n                            <p class=\"col-5 pl-4 ml-1 pedido-card-text\">{{usuario.status}}</p>\n                            <i class=\"col-3 mt-1 pl-3 icon-trash fas fa-lock clickable\" (click)=\"cargarUsuario(usuario)\" href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\"></i>\n                            <i class=\"flex-grow-1 mt-1 pl-2 icon-trash far fa-address-card clickable\" [routerLink]=\"['/editar-datos', usuario._id]\"></i>\n                        </div>\n\n                        <div class=\"row\">\n                            <i class=\"ml-3 pedido-card-icon fas fa-envelope\"></i>\n                            <p  class=\"pl-3 stats-correo\">{{usuario.correo}}</p>\n                        </div>\n\n                        <div *ngIf=\"todasLasStats\">\n                            <div class=\"row\">\n                                <i class=\"ml-3 pedido-card-icon fas fa-phone-alt\"></i>\n                                <p  class=\"pl-4 pedido-card-text\">{{usuario.telefono}}</p>\n                            </div>\n    \n                            <div class=\"row\">\n                                <p  class=\"col-4 stats-text\">Visit: </p>\n                                <p  class=\"col-2 stats-numero\">{{usuario.visitas}}</p>\n                                <!-- <p  class=\"col-2 stats-numero pl-4\">{{usuario.visitas}}</p> -->\n                                <p  class=\"col-4 stats-text\">Pedidos: </p>\n                                <p  class=\"col-2 stats-numero\">{{usuario.pedidos}}</p>\n                            </div>\n                            \n                            <div class=\"row\">\n                                <p  class=\"col-4 stats-text\">Cupones: </p>\n                                <p  class=\"col-2 stats-numero\">{{usuario.cupones}}</p>\n                                <p  class=\"col-4 stats-text\">Notif: </p>\n                                <p  class=\"col-2 stats-numero\">{{usuario.notificaciones}}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <p style=\"height: 45px;\"></p>\n    </div>\n\n    <div id=\"myModal\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\">\n                <a (click)=\"obtenerUsuarios(1)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Todos\n                </a>\n                <a (click)=\"obtenerUsuarios(2)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Activos\n                </a>\n                <a (click)=\"obtenerUsuarios(3)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Por activar\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <div id=\"myModal2\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\" *ngIf=\"usuario\">\n                <a *ngIf=\"usuario.status != 'activo'\" href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Activar\n                </a>\n                <a *ngIf=\"usuario.status == 'activo'\" href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Desactivar\n                </a>\n                <a *ngIf=\"usuario.status == 'por activar' && tipoUsuarios == 3\" href=\"#myModal5\" data-toggle=\"modal\" data-target=\"#myModal5\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Eliminar usuario\n                </a>\n                <a (click)=\"copyMessage()\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Copiar teléfono\n                </a>\n                <a (click)=\"whatsApp()\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                    Mandar WhatsApp\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <div id=\"myModal3\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\" *ngIf=\"usuario\">\n            <div class=\"modal-header\">\n                <h5 *ngIf=\"usuario.status != 'activo'\" class=\"modal-title\">¿Activar usuario?</h5>\n                <h5 *ngIf=\"usuario.status == 'activo'\" class=\"modal-title\">¿Desactivar usuario?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">No</button>\n                <button *ngIf=\"usuario.status != 'activo'\" type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"activarUsuario(1)\">Sí</button>\n                <button *ngIf=\"usuario.status == 'activo'\" type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"activarUsuario(2)\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal4\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 *ngIf=\"!todasLasStats\" class=\"modal-title\">¿Mostrar todas las stats?</h5>\n                <h5 *ngIf=\"todasLasStats\" class=\"modal-title\">¿Ocultar todas las stats?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">No</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"allStats()\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal5\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Eliminar usuario?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">No</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"eliminarUsuario()\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal5\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Eliminar usuario?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">No</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"eliminarUsuario()\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal6\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿El usuario quiere generar una nueva contraseña?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning px-4\" data-dismiss=\"modal\">No</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"generarContrasena()\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <nav class=\"navbar-bottom navbar-default fixed-bottom\">\n        <a href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\" class=\"btn-navbar col-12 border-top\">                \n            <p class=\"text-center text-depositar\">\n                <span *ngIf=\"tipoUsuarios == 1\">Todos</span>\n                <span *ngIf=\"tipoUsuarios == 2\">Activos</span>\n                <span *ngIf=\"tipoUsuarios == 3\">Por activar</span>\n                <i class=\"ml-2 categorias-icon fas fa-sort-up\"></i>\n            </p>\n        </a>\n    </nav>\n</div>","export class Deposito{\n    constructor(\n        public _id: string,\n        public restaurante: String,\n        public cantidad: Number,\n        public metodoPago: String,\n        public nota: String,\n        public credito: Array<string>,\n        public debe: Array<string>,\n        public ralphDebe: Array<string>,\n        public fecha: String\n    ){}\n}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\ndeclare let fbq:Function;\n// declare let gtag:Function;\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'client';\n  constructor(private router: Router){\n    router.events.subscribe((y: NavigationEnd) => {\n      if(y instanceof NavigationEnd){\n        fbq('track', 'PageView');\n        // gtag('config','UA-{ID}',{'page_path' : y.url});\n      }\n    })\n  }\n}","<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport {routing, appRoutingProviders} from './app.routing';\nimport {MomentModule} from 'angular2-moment';\nimport {NgxImageCompressService} from 'ngx-image-compress';\nimport { AppRoutingModule } from './app-routing.module';\nimport {InfiniteScrollModule} from 'ngx-infinite-scroll';\nimport {NgxSpinnerModule} from 'ngx-spinner';\nimport { SocialLoginModule, AuthServiceConfig } from \"angularx-social-login\";\nimport { GoogleLoginProvider, FacebookLoginProvider } from \"angularx-social-login\";\n \n\n// Componentes\nimport { AppComponent } from './app.component';\nimport {LoginComponent} from './components/login/login.component';\nimport {RegisterComponent} from './components/register/register.component';\nimport {VerificacionComponent} from './components/verificacion/verificacion.component';\nimport {InicioComponent} from './components/inicio/inicio.component';\nimport {MisDatosComponent} from './components/mis-datos/misDatos.component';\nimport {RestauranteComponent} from './components/restaurante/restaurante.component';\nimport {ProductoComponent} from './components/producto/producto.component';\nimport {PedidoComponent} from './components/pedido/pedido.component';\nimport {MisPedidosComponent} from './components/mis-pedidos/misPedidos.component';\nimport {GraciasComponent} from './components/gracias/gracias.component';\nimport {PoliticasComponent} from './components/politicas/politicas.component';\nimport {NosotrosComponent} from './components/nosotros/nosotros.component';\nimport {CuponesComponent} from './components/cupones/cupones.component';\nimport {PremiosComponent} from './components/premios/premios.component';\nimport {NuevaContraComponent} from './components/nuevaContra/nuevaContra.component';\nimport {RedireccionQRComponent} from './components/redireccionQR/redireccionQR.component';\nimport {RedireccionADSComponent} from './components/redireccionADS/redireccionADS.component';\nimport {RedireccionLinksComponent} from './components/redireccionLinks/redireccionLinks.component';\nimport {InicioRComponent} from './restaurantes/components/inicioR/inicioR.component';\nimport {MisDatosRComponent} from './restaurantes/components/misDatosR/misdatosR.component';\nimport {ProductoRComponent} from './restaurantes/components/productoR/productoR.component';\nimport {PerfilRestaurantRComponent} from './restaurantes/components/PerfilRestaurantR/PerfilRestaurantR.component';\nimport {PedidoRComponent} from './restaurantes/components/pedidoR/pedidoR.component';\nimport {SeccionComponent} from './restaurantes/components/seccion/seccion.component';\nimport {ventasComponent} from './restaurantes/components/ventas/ventas.component';\nimport {creditoDeboComponent} from './restaurantes/components/creditoDebo/creditoDebo.component';\nimport {DepositosComponent} from './restaurantes/components/depositos/depositos.component';\nimport {DetalleProdComponent} from './restaurantes/components/detalleProd/detalleProd.component';\nimport {InicioReComponent} from './repartidor/inicioRe/inicioRe.component';\nimport {PedidoReComponent} from './repartidor/pedidoRe/pedidoRe.component';\nimport {InicioAComponent} from './admin/components/inicioA/inicioA.component';\nimport {RegistrarRestComponent} from './admin/components/registrarRest/registrarRest.component';\nimport {PedidoPruebaComponent} from './admin/components/pedidoPrueba/pedidoPrueba.component';\nimport {PedidoAComponent} from './admin/components/pedidoA/pedidoA.component';\nimport {MensajesSMSComponent} from './admin/components/mensajesSMS/mensajesSMS.component';\nimport {UsuariosComponent} from './admin/components/usuarios/usuarios.component';\nimport {RestaurantesComponent} from './admin/components/restaurantes/restaurantes.component';\nimport {EstadisticasComponent} from './admin/components/estadisticas/estadisticas.component';\nimport {DepositoComponent} from './admin/components/deposito/deposito.component';\nimport {HistorialResComponent} from './admin/components/historialRes/historialRes.component';\n\n\n// Servicios\nimport {UsuarioService} from './services/usuario.service';\nimport {RestauranteService} from './services/restaurante.service';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from '../environments/environment';\nimport {UserGuard} from './services/canActivate/user.guard';\nimport {RepartidorGuard} from './services/canActivate/repartidor.guard';\nimport {RestaurantGuard} from './services/canActivate/restaurant.guard';\nimport {AdminGuard} from './services/canActivate/admin.guard';\n\n//Angular material\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MainNavComponent } from './main-nav/main-nav.component';\nimport { LayoutModule } from '@angular/cdk/layout';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatListModule } from '@angular/material/list';\n\n\n\nlet config = new AuthServiceConfig([\n  {\n    id: GoogleLoginProvider.PROVIDER_ID,\n    provider: new GoogleLoginProvider(\"341861334913-3o3hesvlpofp943461mad4jrkqrrh3lq.apps.googleusercontent.com\")\n  },\n  {\n    id: FacebookLoginProvider.PROVIDER_ID,\n    provider: new FacebookLoginProvider(\"567509004166154\")\n  }\n]);\n \nexport function provideConfig() {\n  return config;\n}\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    RegisterComponent,\n    VerificacionComponent,\n    InicioComponent,\n    InicioRComponent,\n    MisDatosRComponent,\n    GraciasComponent,\n    PoliticasComponent,\n    NosotrosComponent,\n    ProductoRComponent,\n    CuponesComponent,\n    PremiosComponent,\n    NuevaContraComponent,\n    RedireccionQRComponent,\n    RedireccionADSComponent,\n    RedireccionLinksComponent,\n    PerfilRestaurantRComponent,\n    PedidoRComponent,\n    SeccionComponent,\n    creditoDeboComponent,\n    ventasComponent,\n    DepositosComponent,\n    DetalleProdComponent,\n    RegistrarRestComponent,\n    MisDatosComponent,\n    RestauranteComponent,\n    ProductoComponent,\n    PedidoComponent,\n    MisPedidosComponent,\n    InicioReComponent,\n    PedidoReComponent,\n    InicioAComponent,\n    PedidoPruebaComponent,\n    PedidoAComponent,\n    MensajesSMSComponent,\n    UsuariosComponent,\n    RestaurantesComponent,\n    EstadisticasComponent,\n    DepositoComponent,\n    HistorialResComponent,\n    MainNavComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    routing,\n    HttpClientModule,\n    MomentModule,\n    NgxSpinnerModule,\n    InfiniteScrollModule,\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production }),\n    BrowserAnimationsModule,\n    LayoutModule,\n    MatToolbarModule,\n    MatButtonModule,\n    MatSidenavModule,\n    MatIconModule,\n    MatListModule,\n    SocialLoginModule\n  ],\n  providers: [\n    appRoutingProviders,\n    UsuarioService,\n    RestauranteService,\n    NgxImageCompressService,\n    UserGuard,\n    RepartidorGuard,\n    RestaurantGuard,\n    AdminGuard,\n    {\n      provide: AuthServiceConfig,\n      useFactory: provideConfig\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {ModuleWithProviders} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\n\n// Components\nimport {LoginComponent} from './components/login/login.component';\nimport {RegisterComponent} from './components/register/register.component';\nimport {VerificacionComponent} from './components/verificacion/verificacion.component';\nimport {InicioComponent} from './components/inicio/inicio.component';\nimport {MisDatosComponent} from './components/mis-datos/misDatos.component';\nimport {RestauranteComponent} from './components/restaurante/restaurante.component';\nimport {ProductoComponent} from './components/producto/producto.component';\nimport {PedidoComponent} from './components/pedido/pedido.component';\nimport {MisPedidosComponent} from './components/mis-pedidos/misPedidos.component';\nimport {GraciasComponent} from './components/gracias/gracias.component';\nimport {PoliticasComponent} from './components/politicas/politicas.component';\nimport {NosotrosComponent} from './components/nosotros/nosotros.component';\nimport {CuponesComponent} from './components/cupones/cupones.component';\nimport {PremiosComponent} from './components/premios/premios.component';\nimport {NuevaContraComponent} from './components/nuevaContra/nuevaContra.component';\nimport {RedireccionQRComponent} from './components/redireccionQR/redireccionQR.component';\nimport {RedireccionADSComponent} from './components/redireccionADS/redireccionADS.component';\nimport {RedireccionLinksComponent} from './components/redireccionLinks/redireccionLinks.component';\nimport {InicioRComponent} from './restaurantes/components/inicioR/inicioR.component';\nimport {MisDatosRComponent} from './restaurantes/components/misDatosR/misdatosR.component';\nimport {ProductoRComponent} from './restaurantes/components/productoR/productoR.component';\nimport {PerfilRestaurantRComponent} from './restaurantes/components/PerfilRestaurantR/PerfilRestaurantR.component';\nimport {PedidoRComponent} from './restaurantes/components/pedidoR/pedidoR.component';\nimport {SeccionComponent} from './restaurantes/components/seccion/seccion.component';\nimport {ventasComponent} from './restaurantes/components/ventas/ventas.component';\nimport {creditoDeboComponent} from './restaurantes/components/creditoDebo/creditoDebo.component';\nimport {DepositosComponent} from './restaurantes/components/depositos/depositos.component';\nimport {DetalleProdComponent} from './restaurantes/components/detalleProd/detalleProd.component';\nimport {InicioReComponent} from './repartidor/inicioRe/inicioRe.component';\nimport {PedidoReComponent} from './repartidor/pedidoRe/pedidoRe.component';\nimport {InicioAComponent} from './admin/components/inicioA/inicioA.component';\nimport {RegistrarRestComponent} from './admin/components/registrarRest/registrarRest.component';\nimport {PedidoPruebaComponent} from './admin/components/pedidoPrueba/pedidoPrueba.component';\nimport {PedidoAComponent} from './admin/components/pedidoA/pedidoA.component';\nimport {MensajesSMSComponent} from './admin/components/mensajesSMS/mensajesSMS.component';\nimport {UsuariosComponent} from './admin/components/usuarios/usuarios.component';\nimport {RestaurantesComponent} from './admin/components/restaurantes/restaurantes.component';\nimport {EstadisticasComponent} from './admin/components/estadisticas/estadisticas.component';\nimport {DepositoComponent} from './admin/components/deposito/deposito.component';\nimport {HistorialResComponent} from './admin/components/historialRes/historialRes.component';\n\nimport {UserGuard} from './services/canActivate/user.guard';\nimport {RepartidorGuard} from './services/canActivate/repartidor.guard';\nimport {RestaurantGuard} from './services/canActivate/restaurant.guard';\nimport {AdminGuard} from './services/canActivate/admin.guard';\n\n\nconst appRoutes: Routes = [\n    {path: '', component: InicioComponent},\n    {path: 'qr/:parametro', component: RedireccionQRComponent},\n    {path: 'ads/:campania/:anuncio/:municipio', component: RedireccionADSComponent},\n    {path: 'r/:restaurantID', component: RedireccionLinksComponent},\n    {path: 'r/:restaurantID/:producto', component: RedireccionLinksComponent},\n    {path: 'login', component: LoginComponent},\n    {path: 'registro', component: RegisterComponent},\n    {path: 'verificacion/:tel', component: VerificacionComponent},\n    {path: 'editar-datos/:id', component: MisDatosComponent, canActivate:[AdminGuard]},\n    {path: 'producto/:id', component: ProductoComponent, canActivate:[UserGuard]},\n    {path: 'mis-pedidos', component: MisPedidosComponent, canActivate:[UserGuard]},\n    {path: 'pedido/:id', component: PedidoComponent, canActivate:[UserGuard]},\n    {path: 'gracias/:res', component: GraciasComponent, canActivate:[UserGuard]},\n    {path: 'cupones', component: CuponesComponent, canActivate:[UserGuard]},\n    {path: 'premios', component: PremiosComponent},\n    {path: 'nueva-contra/:id', component: NuevaContraComponent},\n    {path: 'nosotros', component: NosotrosComponent},\n    {path: 'politicas', component: PoliticasComponent},\n    {path: 'restaurant/:id', component: RestauranteComponent},\n    {path: 'repartidor/inicio', component: InicioReComponent, canActivate:[RepartidorGuard]},\n    {path: 'repartidor/pedido/:id', component: PedidoReComponent, canActivate:[RepartidorGuard]},\n    {path: 'restaurante/inicio', component: InicioRComponent, canActivate:[RestaurantGuard]},\n    {path: 'restaurante/pedido/:id/:numero', component: PedidoRComponent},\n    {path: 'restaurante/mis-datos', component: MisDatosRComponent, canActivate:[RestaurantGuard]},\n    {path: 'restaurante/perfil', component: PerfilRestaurantRComponent, canActivate:[RestaurantGuard]},\n    {path: 'restaurante/producto/:id', component: ProductoRComponent, canActivate:[RestaurantGuard]},\n    {path: 'restaurante/seccion/:id', component: SeccionComponent, canActivate:[RestaurantGuard]},\n    {path: 'restaurante/ventas', component: ventasComponent, canActivate:[RestaurantGuard]},\n    {path: 'restaurante/credito-debo', component: creditoDeboComponent, canActivate:[RestaurantGuard]},\n    {path: 'restaurante/depositos', component: DepositosComponent, canActivate:[RestaurantGuard]},\n    {path: 'restaurante/detalle-producto/:id', component: DetalleProdComponent},\n    {path: 'admin/inicio', component: InicioAComponent, canActivate:[AdminGuard]},\n    {path: 'admin/registrar-restaurante', component: RegistrarRestComponent, canActivate:[AdminGuard]},\n    {path: 'admin/pedido-prueba', component: PedidoPruebaComponent, canActivate:[AdminGuard]},\n    {path: 'admin/pedido/:id', component: PedidoAComponent, canActivate:[AdminGuard]},\n    {path: 'admin/mensajessms', component: MensajesSMSComponent, canActivate:[AdminGuard]},\n    {path: 'admin/usuarios', component: UsuariosComponent, canActivate:[AdminGuard]},\n    {path: 'admin/restaurantes', component: RestaurantesComponent, canActivate:[AdminGuard]},\n    {path: 'admin/estadisticas', component: EstadisticasComponent, canActivate:[AdminGuard]},\n    {path: 'admin/deposito/:id', component: DepositoComponent, canActivate:[AdminGuard]},\n    {path: 'admin/historial/:id', component: HistorialResComponent, canActivate:[AdminGuard]},\n    {path: '**', component: InicioComponent}\n];\n\nexport const appRoutingProviders: any[] = [];\nexport const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes);","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {CuponService} from '../../services/cupon.service';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {StatsService} from '../../services/stats.service';\nimport {Cupon} from '../../models/cupon';\nimport {Location} from '@angular/common';\nimport * as moment from 'moment';\nimport * as $ from 'jquery';\n\n\n@Component({\n    selector: 'cupones',\n    templateUrl: './cupones.component.html',\n    providers: [CuponService, UsuarioService, StatsService]\n})\n\nexport class CuponesComponent implements OnInit{\t\t\t\t\n    public identity: any;\n    public token: any;\n    public cupon: Cupon;\n    public cupon2: Cupon;\n    public cupones: any;\n    public status: string;\n    public error: string;\n    public loading: boolean;\n    public total: number;\n    public localTime: any;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _cuponService: CuponService,\n        private _statsService: StatsService,\n        private _location: Location\n    ){\n        this.identity = this._usuarioService.getIdentity();\n        this.token = this._usuarioService.getToken();\n        this.cupon = new Cupon(null,null,\"\",null,null,null,null)\n        this.loading = true;\n        this.status = null;\n        this.cupones = [];\n        this.total = 0;\n    }\n\n    ngOnInit(){\n        this.obtenerCupones();\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    backClicked() {\n        // this._router.navigate(['/']);\n        this._location.back();\n    }\n\n    onScroll(){\n        return\n    }\n\n    obtenerCupones(){\n        this._cuponService.obtenerCupones(this.token, 1).subscribe(\n            response => {\n                if(response){\n                    this.loading = false;\n                    this.localTime = moment().unix();\n\n                    if(response.cupones.length > 0){\n                        response.cupones.forEach(element => {\n                            if(element.cupones.length != 0){\n                                this.cupones.push(element);\n\n                                element.cupones.forEach(element2 => {\n                                    this.total = element2 + this.total;\n                                })\n                            }\n\n                            if(element.fechaVencimiento < this.localTime){\n                                this.actualizarCupon(element);\n                            }\n                        })\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    nuevoCupon(form){\n        if(this.cupon.nombre.length == 0){\n            return\n\n        } else if(this.cupon.nombre.length < 6){\n            this.status = 'error';\n            this.error = 'Código inválido';\n            form.reset();\n            return\n        } else {\n            this._cuponService.nuevoCupon(this.cupon.nombre, this.token).subscribe(\n                response => {\n                    if(response){\n                        this.error = response.message;\n                        form.reset();\n\n                        if(response.message == 'Cupón creado correctamente'){\n                            this.status = 'success';\n                            this.cupones = [];\n                            this.total = 0;\n                            this.obtenerCupones();\n                        } else {\n                            this.status = 'error';\n                        }\n                    }\n                },\n                error => {\n                    var errorMessage = <any>error;\n                    console.log(errorMessage);\n            \n                    if(errorMessage != null){\n                        this.status = 'error';\n                        this.error = errorMessage.error.message;\n                    }\n                }\n            )\n        }\n    }\n\n    actualizarCupon(cupon){\n        this.cupon2 = cupon;\n        this.cupon2.status = 'Vencido';\n        var numero = this.cupon2.cupones.length;\n\n        if(this.identity.rol != 'ADMIN'){\n            this._statsService.cuponExpirado(numero).subscribe();\n        }\n        \n        this._cuponService.actualizarCupon(this.token, this.cupon2).subscribe(\n            response => {\n                if(response){\n                    this.obtenerCupones();\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom flex-grow-1 ml-2\">\n                <p class=\"text-center mt-1\">Mis cupones</p>\n            </div>\n        </div>\n    </nav>\n\n    <p style=\"height: 60px;\"></p>\n    \n    <div class=\"container\">\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                {{error}}\n            </p>\n        </div>\n\n        <div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\n            <p class=\"text-center\">\n                {{error}}\n            </p>\n        </div>\n        \n\n\n        <!-- <form autocomplete=\"off\" #form=\"ngForm\" (ngSubmit)=\"nuevoCupon(form)\" class=\"\">\n            <p class=\"text-center text\">¿Tienes un código?</p>\n            <div class=\"input-group px-2\">\n                <input autocomplete=\"off\" type=\"text\" class=\"form-control\" placeholder=\"Ingresar código de cupón\" aria-describedby=\"basic-addon1\" name=\"nombre\" #nombre=\"ngModel\" [(ngModel)]=\"cupon.nombre\" class=\"form-control\" required>\n                <div class=\"input-group-append\">\n                  <button class=\"btn btn-success btn-orange px-4\" type=\"submit\"><i class=\"fas fa-check\"></i></button>\n                </div>\n            </div>\n        </form>\n\n        <hr> -->\n\n        <div *ngIf=\"cupones && cupones.length == 0\" class=\"sinpedidos-2\">\n            <p style=\"height: 10px;\"></p>\n            <p class=\"text-center\"><i class=\"sinpedidos-icon fas fa-ticket-alt\"></i></p>\n            <!-- <p class=\"text-center\"><i class=\"sinpedidos-icon fas fa-money-bill-wave\"></i></p> -->\n            <p class=\"text-center\">No tienes ningún cupón o lo que tenías ya han expirado</p>\n        </div>\n\n        <div *ngIf=\"total && total != 0\" class=\"row\" style=\"height: 40px\"> \n            <p class=\"pl-4 subtitle flex-grow-1\">\n                {{'Total: $' + total}}\n            </p>\n        </div>\n\n        <!-- <div *ngIf=\"cupones && cupones.length > 0\" class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\"> -->\n        <div *ngIf=\"cupones && cupones.length > 0\" class=\"mt-4\">\n            <div *ngFor=\"let cupon of cupones\"> \n                <div *ngFor=\"let cup of cupon.cupones\" class=\"mb-3 mt-2 px-1\"> \n                    <div class=\"card\" style=\"height: 115px;\">\n                        <div class=\"card-body pedido-card\">\n                            <!-- <p class=\"pedido-card-tiempo-2 text-center mx-5\">\n                                {{'Expira ' + ((cupon.fechaVencimiento | amFromUnix) | amLocale:'es' | amTimeAgo)}}\n                            </p> -->\n                            <div class=\"d-flex\">\n                                <p class=\"card-nombre-2\">\n                                    {{'$' + cup}}\n                                </p>\n                                <div class=\"card-nombre-3\">\n                                    <span class=\"text-muted little-letters-2 d-block\">Cupón</span>\n                                    {{cupon.nombre}}\n                                    <!-- <strong>{{cupon.nombre}} </strong> -->\n                                    <br>\n                                    <p class=\"text-muted little-letters\"><strong>{{'Expira ' + ((cupon.fechaVencimiento | amFromUnix) | amLocale:'es' | amTimeAgo)  + '.'}}</strong> <br> {{'Válido en compras superiores a $' + cupon.compraMinima}} </p>\n                                </div>\n                            </div>\n                            <div class=\"d-flex\">\n                            </div>\n                        \n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"border-top mt-4 mx-3\">\n                <p class=\"text-muted text-center px-4 mt-2\">Los cupones aplican para la mayoría de los negocios</p>\n            </div>\n        </div>\n    </div>\n        <div *ngIf=\"loading\">\n            <p class=\"text-center pt-2\">\n                <img src=\"../../../../assets/loading.gif\" width=\"20px\">\n            </p>\n        </div>\n    <p style=\"height: 10px;\"></p>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'gracias',\n    templateUrl: './gracias.component.html',\n    providers: [UsuarioService]\n}) \n\nexport class GraciasComponent implements OnInit{\t\t\t\t\n    public identity;\n    public restauranteNombre;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _location: Location\n    ){\n        this.identity = this._usuarioService.getIdentity();\n    }\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['res']){ \n                this.restauranteNombre = params['res'];\n            }\n        })\n    }\n\n    irPedidos(){\n        window.history.go(-3);\n        setTimeout(() => {\n            this._router.navigate(['/mis-pedidos']);\n        }, 50)\n    }\n}","<div style=\"height: 800px\">\n    <p style=\"height: 20px;\"></p>\n\n    <div class=\"container\">\n        <div *ngIf=\"identity\" class=\"panel-producto panel panel-default\">\n\n            <p style=\"height: 50px;\"></p>\n\n            <p class=\"text-center mb-5 pr-2\"><img src=\"../../../assets/logo2.png\" width=\"250px\"></p>\n\n            <p class=\"text-center text px-4\"><strong>{{identity.nombre}}</strong>, gracias por <br> comprar en Ralph.</p>\n                        \n            <p class=\"text-center text px-4\">Le hemos enviado tu pedido <br> a <strong>{{restauranteNombre}}</strong>. <br> Sigue el proceso en la <br>ventana de \"mis pedidos\".</p>\n            \n            <br>\n\n            <p class=\"text-center text px-4\"><strong>¡Buen provecho!</strong></p>\n            \n            <br>\n            \n            <p class=\"text-center\"><a class=\"btn btn-success btn-orange\" (click)=\"irPedidos()\"><strong>Ir a la sección de mis pedidos</strong></a></p>\n            <!-- <p class=\"text-center\"><a class=\"btn btn-success btn-orange\" [routerLink]=\"['/mis-pedidos']\"><strong>Ir a la sección de mis pedidos</strong></a></p> -->\n            \n            <p style=\"height: 50px;\"></p>\n\n        </div>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {RestauranteService} from '../../services/restaurante.service';\nimport {ProductoService} from '../../services/producto.service';\nimport {MunicipiosService} from '../../services/municipio.service';\nimport {PedidoService} from '../../services/pedido.service';\nimport {StatsService} from '../../services/stats.service';\nimport {CuponService} from '../../services/cupon.service';\nimport {GLOBAL} from '../../services/global';\nimport * as moment from 'moment';\nimport * as $ from 'jquery';\n\n\n@Component({\n    selector: 'inicio',\n    templateUrl: './inicio.component.html',\n    providers: [UsuarioService, RestauranteService, ProductoService, MunicipiosService, PedidoService, StatsService, CuponService]\n}) \n\nexport class InicioComponent implements OnInit{\t\t\t\t\n    public identity: any;\n    public identityR: any;\n    public token: any;\n    public numberOfItems: number;\n    public loading: boolean;\n    public restaurantes: any;\n    public restaurantes2: any;\n    public restaurantes3: any;\n    public restaurantesNew: any;\n    public restaurantesArray: any;\n    public productos: any;\n    public status: string;\n    public peticion: any;\n    public url: string;\n    public municipio: any;\n    public mun: any;\n    public municipios: any;\n    public categorias: any;\n    public pedirProductos: number;\n    public categoriaActual: string;\n    public noDisponibles: boolean;\n    public restauranteBadge: number;\n    public repartidorBadge: number;\n    public pedidosBadge: number;\n    public cuponesBadge: number;\n    public parametro: any;\n    public minuto: number;\n    public segundo: number;\n    public promocion: any;\n    public texto: any;\n    public texto2: any;\n    public stopped: boolean;\n    public cantidad: number;\n    public visitas: any;\n    \n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _restauranteService: RestauranteService,\n        private _productoService: ProductoService,\n        private _municipiosService: MunicipiosService,\n        private _pedidoService: PedidoService,\n        private _statsService: StatsService,\n        private _cuponService: CuponService,\n    ){\n        this.identity = this._usuarioService.getIdentity();\n        this.identityR = this._usuarioService.getIdentityR();\n        this.token = this._usuarioService.getToken();\n        this.url = GLOBAL.url;\n        this.restaurantes = [];\n        this.restaurantes2 = [];\n        this.restaurantes3 = [];\n        this.restaurantesNew = [];\n        this.restaurantesArray = [[],[],[],[],[],[],[]];\n        this.productos = [];\n        this.numberOfItems = 4;\n        this.loading = true;\n        this.municipios = [];\n        this.categorias = [[],[]];\n        this.pedirProductos = 0;\n        this.categoriaActual = 'Categorías';\n        this.noDisponibles = false;\n        this.restauranteBadge = 0;\n        this.repartidorBadge = 0;\n        this.pedidosBadge = 0;\n        this.cuponesBadge = 0;\n        this.status = null;\n        this.mun = 'Ocotlán';\n        this.cantidad = 0;\n    }\n\n\n    ngOnInit(){\n        this.loadPage();\n        this.obtenerMunicipios();\n        this.obtenerCategorias();\n        this.contarPedidos();\n        this.checkModal();\n        this.checkURL();\n    }\n\n    checkURL(){\n        if(window.location.host == 'www.ralph.tk'){\n            window.location.replace('https://ralph.tk')\n        }\n        // if(window.location.host == 'www.ralph.com.mx'){\n        //     window.location.replace('https://ralph.com.mx')\n        // }\n        // console.log(window.location.pathname);\n        // console.log(document.URL);\n    }\n    \n    checkModal(){\n        // if($('.modal.show').length)\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n\n        if(!this.identity){\n            window.history.pushState(null, '', '/');\n        }\n    }\n    \n    loadPage(){        \n        this.promocion = JSON.parse(localStorage.getItem('promocion'));\n        if(this.promocion && this.promocion[4] == 'jamay'){\n            this.mun = 'Jamay';\n        }\n        \n        if(this.promocion){\n            this.texto2 = 'La promoción de los cupones ya expiró.';\n            localStorage.removeItem('promocion');\n        }\n\n        // if(this.promocion){\n        //     if(this.promocion[3] == 0){\n        //         this.cronometro();\n        //         if(this.promocion[2] == 'volante'){\n        //             this.texto = 1;\n        //         }\n        //         if(this.promocion[2] == 'cartel' || this.promocion[2] == 'oferta'){\n        //             this.texto = 2;\n        //         }\n            \n        //     } else if(this.promocion[3] == 2){\n        //         this.texto2 = 'Ya se te ha ofrecido antes el cupón \"Bienvenido\".';\n        //         this.promocion[3] = 1;\n        //         localStorage.setItem('promocion', JSON.stringify(this.promocion));\n            \n        //     } else if(this.promocion[3] == 3 && this.identity){\n        //         this._cuponService.nuevoCupon('Ralph2020', this.token).subscribe(\n        //             response => {\n        //                 if(response){\n        //                     if(response.message == 'Cupón creado correctamente'){\n        //                         alert('¡Has obtenido $100 pesos de regalo para tus primeros pedidos! Buen provecho :)');\n        //                         this.promocion[3] = 4;\n        //                         localStorage.setItem('promocion', JSON.stringify(this.promocion));\n        //                         localStorage.removeItem('stop');\n        //                         this._statsService.promoCupon(4).subscribe();\n        //                     }\n        //                 }\n        //             },\n        //             error => {\n        //                 var errorMessage = <any>error;\n        //                 // console.log(errorMessage);\n        //             }\n        //         )\n\n        //     } else { return };\n        // }\n    }\n\n    cronometro(){\n        this.stopped = false;\n        this.promocion = JSON.parse(localStorage.getItem('promocion'));\n        this.minuto = this.promocion[0];\n        this.segundo = this.promocion[1];\n        \n        var temporizador = setInterval(() => {\n            let stop = JSON.parse(localStorage.getItem('stop'));\n            if(stop != null){\n                clearInterval(temporizador);\n                this.stopped = true;\n                this.promocion[0] = 0;\n                this.promocion[1] = 0;\n                this.promocion[3] = 3;\n                this._statsService.promoCupon(3).subscribe();\n                localStorage.setItem('promocion', JSON.stringify(this.promocion));\n            }\n\n            if(this.minuto == 0 && this.segundo == 0){\n                this.stopped = true;\n                clearInterval(temporizador);\n                this.promocion[3] = 1;\n                this._statsService.promoCupon(2).subscribe();\n                localStorage.setItem('promocion', JSON.stringify(this.promocion));\n            } else {\n                this.segundo -= 1;\n                this.promocion[0] = this.minuto;\n                this.promocion[1] = this.segundo;\n    \n                localStorage.setItem('promocion', JSON.stringify(this.promocion));\n                \n                if(this.segundo <= -1){\n                    this.minuto -= 1;\n                    this.segundo = 59;\n                }\n            }\n        }, 1000)\n    }\n\n    obtenerMunicipios(){\n        this._municipiosService.obtenerMunicipios().subscribe(\n            response => {\n                this.municipios = response.municipios;\n\n                if(this.identity == null || this.identity.rol != 'ADMIN'){\n                    this.municipios.splice(2, 1);\n                }\n\n                if(this.identity == null || this.identity.municipio == '5ea75e24006fd271928efe35'){\n                    \n                    this.municipios.forEach(mun => {\n                        if(mun.nombre == this.mun){\n                            this.municipio = mun;\n                            this.obtenerRestaurantes(this.municipio._id);\n                            this.nuevaVisitaApp(this.municipio._id, 0, 0);\n                        }\n                    });\n                } else {\n                    this.mun = this.identity.municipio;\n\n                    this.municipios.forEach(mun => {\n                        if(mun._id == this.mun){\n                            this.municipio = mun;\n                            this.obtenerRestaurantes(this.municipio._id);\n                            this.nuevaVisitaApp(this.municipio._id, this.identity._id, this.identity.rol);\n                        }\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n            }\n        )\n    }\n\n    nuevaVisitaApp(municipioId, usuarioId, rol){\n        this.visitas = JSON.parse(localStorage.getItem('visitas'));\n        var localTime = moment().unix();\n\n        if(this.visitas){\n            // 12 horas = 43200 seg.  1/2 hora = 1800 seg.\n\n            if(localTime - this.visitas[1] >= 43200){\n                this._statsService.nuevaVisita(rol).subscribe();\n                this.visitas[1] = localTime;\n                localStorage.setItem('visitas', JSON.stringify(this.visitas));\n            }\n\n            if(localTime - this.visitas[0] >= 1800){\n                this._statsService.nuevaVisitaApp(municipioId, usuarioId, rol).subscribe();\n                this.visitas[0] = localTime;\n                localStorage.setItem('visitas', JSON.stringify(this.visitas));\n            }\n\n        } else {\n            this._statsService.nuevaVisita(rol).subscribe();\n            this._statsService.nuevaVisitaApp(municipioId, usuarioId, rol).subscribe();\n            var visit = [];\n            visit[1] = localTime;\n            visit[0] = localTime;\n            localStorage.setItem('visitas', JSON.stringify(visit));\n        }\n\n    }\n\n    obtenerCategorias(){\n        this._municipiosService.obtenerCategorias().subscribe(\n            response => {\n                if(response){           \n                    var n = 0;\n                    var elements = 0;\n\n                    response.categorias.forEach(element => {                        \n                        this.categorias[n].push(element)\n                        elements = elements + 1;\n\n                        if(elements == 10){\n                            n = n + 1;\n                        }\n                    })\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    // this.status = 'error';\n                }\n            }\n        )\n    }\n\n    restaurantesPorMunicipio(municipio){\n        if(municipio._id == this.municipio._id){\n            return\n        } else {\n            this.loading = true;\n            this.municipio = municipio;\n            // this.mun = municipio.nombre;\n            this.productos = [];\n            this.restaurantes = [];\n            this.restaurantes2 = [];\n            this.restaurantes3 = [];\n            this.restaurantesArray = [[],[],[],[],[],[],[]];\n            this.pedirProductos = 0;\n            this.categoriaActual = 'Categorías';\n            this.noDisponibles = false;\n            this.obtenerRestaurantes(this.municipio._id);\n        }\n    }\n\n    contarPedidos(){\n        if(this.identity != null){\n            this._pedidoService.contarPedidos(this.token, this.identity._id, 1). subscribe(\n                response => {\n                    if(response){\n                        this.pedidosBadge = response.total;\n                    }\n                },\n                error => {\n                    var errorMessage = <any>error;\n                    // console.log(errorMessage);\n            \n                    if(errorMessage != null){\n                        // this.status = 'error';\n                    }\n                }\n            )\n\n            this._cuponService.obtenerCupones(this.token, 1).subscribe(\n                response => {\n                    if(response){\n                        response.cupones.forEach(element => {\n                            this.cuponesBadge = this.cuponesBadge + element.cupones.length;\n\n                            element.cupones.forEach(element2 => {\n                                this.cantidad = element2 + this.cantidad;\n                            })\n                        });\n                    }\n                },\n                error => {\n                    var errorMessage = <any>error;\n                    console.log(errorMessage);\n            \n                    if(errorMessage != null){\n                        this.status = 'error';\n                    }\n                }\n            )\n        }\n\n        if(this.identityR != null){\n            this._pedidoService.contarPedidos(this.token, this.identityR._id, 2). subscribe(\n                response => {\n                    if(response){\n                        this.restauranteBadge = response.total;\n                    }\n                },\n                error => {\n                    var errorMessage = <any>error;\n                    // console.log(errorMessage);\n            \n                    if(errorMessage != null){\n                        // this.status = 'error';\n                    }\n                }\n            )\n        }\n    }\n\n    onScroll(){\n        var n = this.pedirProductos;\n\n        if(this.categoriaActual != 'Categorías'){\n            return\n        } else {\n            // var num = this.restaurantes.length / this.numberOfItems;\n            var num = Math.ceil(this.restaurantes.length / this.numberOfItems) - 1;\n\n            if(this.pedirProductos < num){\n                this.pedirProductos = this.pedirProductos + 1;\n\n                this.restaurantesArray[n].forEach(element => {\n                    this.restaurantes3.push(element);\n                    this.obtenerProductosRandom(element._id);\n                });\n            }\n            \n            if((n+1) == num){\n                n = n + 1;\n                this.restaurantesArray[n].forEach(element => {\n                    this.restaurantes3.push(element);\n                    this.obtenerProductosRandom(element._id);\n                });\n            }        \n        }\n    }\n\n    obtenerRestaurantes(municipioId){\n        this._restauranteService.obtenerRestaurantes(municipioId, 1).subscribe(\n            response => {\n                if(response.restaurantes){\n                    this.loading = false; \n                    var total = response.restaurantes.length;\n                    var elementos = 0;\n                    var elementos2 = 0;\n\n                    response.restaurantes.forEach(element => {\n                        if(element.status == 'activo'){\n                            this.restaurantes.push(element)\n                        }\n                        elementos = elementos + 1;\n\n                        if(elementos == total){\n                            response.restaurantes.forEach(element => {\n                                if(element.status == 'inactivo'){\n                                    this.restaurantes.push(element)\n                                }\n                                elementos2 = elementos2 + 1;\n\n                                if(elementos2 == total){\n                                    this.restaurantes2 = this.restaurantes;\n                                    this.ordenarRestaurantes();\n                                }\n                            })\n                        }\n                    })\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n    \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    ordenarRestaurantes(){\n        var n = 0;\n        var elements = 0;\n        var items = this.numberOfItems;\n\n        this.restaurantes.forEach(element => {   \n            this.restaurantesArray[n].push(element)\n            elements = elements + 1;\n\n            if(elements == items){\n                items = items + this.numberOfItems;\n                n = n + 1;\n            }\n        })\n\n        this.onScroll();\n    }\n\n    // obtenerRestaurantes(municipioId){\n    //     this._restauranteService.obtenerRestaurantes(municipioId, 2).subscribe(\n    //         response => {\n    //             if(response.restaurantes){\n    //                 this.restaurantes = response.restaurantes;\n    //                 this.restaurantes2 = response.restaurantes;\n    //                 this.loading = false;\n    //                 var n = 0;\n    //                 var elements = 0;\n    //                 var items = this.numberOfItems;\n\n    //                 response.restaurantes.forEach(element => {                        \n    //                     this.restaurantesArray[n].push(element)\n    //                     elements = elements + 1;\n\n    //                     if(elements == items){\n    //                         items = items + this.numberOfItems;\n    //                         n = n + 1;\n    //                     }\n    //                 })\n\n    //                 this.onScroll(this.pedirProductos);\n    //             }\n    //         },\n    //         error => {\n    //             var errorMessage = <any> error;\n    //             // console.log(errorMessage);\n    \n    //             if(errorMessage != null){\n    //                 this.status = 'error';\n    //             }\n    //         }\n    //     )\n    // }\n\n    obtenerProductosRandom(restauranteId){\n        this.peticion = restauranteId + '/0/0/0';\n        this._productoService.obtenerProductosRandom(this.peticion).subscribe(\n            response => {\n                if(response.productos){\n                    response.productos.forEach(element => {\n                        this.productos.push(element);\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n\n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerProductosCategoria(categoria){\n        if(categoria.nombre == this.categoriaActual || this.restaurantes2.length == 0){\n            return\n        } else {\n            this.loading = true;\n            this.noDisponibles = false;\n            this.categoriaActual = categoria.nombre;\n            this.productos = [];\n            this.restaurantes3 = [];\n            this.restaurantesNew = [];\n            var n = 0;\n            if(!this.identity && this.identity.rol != 'ADMIN'){\n                this._statsService.nuevoClickCategoria(categoria._id).subscribe();\n            }\n\n            this.restaurantes2.forEach(element => {\n                this.peticion = element._id + '/' + categoria._id + '/0/0';\n                this._productoService.obtenerProductosRandom(this.peticion).subscribe(\n                    response => {\n                        n = n+1;\n                        if(response.productos.length){\n                            this.restaurantesNew.push(element);\n                            response.productos.forEach(element => {\n                                this.productos.push(element);                            \n                            });\n                        }\n                        if(this.restaurantes2.length == n){\n                            this.loading = false;\n                            if(this.restaurantesNew.length == 0){\n                                this.noDisponibles = true;\n                            }\n                            this.restaurantes3 = this.restaurantesNew;\n                        }\n                    }\n                )\n            });\n        }\n    }\n\n    clickProducto(restauranteId, productoId){\n        window.history.pushState(null, '', '/restaurant/' + restauranteId);\n        this._router.navigate(['/producto/', productoId]);\n    }\n    \n    logout(){\n        localStorage.removeItem('pedido');\n        localStorage.removeItem('total');\n        localStorage.removeItem('identity');\n        localStorage.removeItem('identityR');\n        localStorage.removeItem('token');\n        this.identity = null;\n        this.token = null;\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12\" style=\"height: 40px\">\n            <div class=\"icono-Ralph-inicio\"> \n                <img src=\"../../../../assets/icono.png\"/>\n            </div>\n\n            <!-- <div class=\"icon col-10 ml-3\"> \n                <p class=\"text-center\"><i class=\"fas fa-search\"></i></p>\n            </div> -->\n\n            <div *ngIf=\"identity && identity.rol == 'USUARIO' || !identity\" class=\"navbars flex-grow-1\">\n                <p class=\"text-right\">\n                    <i class=\"icon fas fa-bars\" (click)=\"drawer.toggle()\"></i>\n                </p>\n            </div>\n\n            <div *ngIf=\"identity && identity.rol == 'RESTAURANTE'\" class=\"navbars flex-grow-1\">\n                <!-- <div class=\"avatar\">\n                    <p class=\"text-right restaurante-logo\">\n                        <img src=\"{{url + 'obtener-imagen-restaurante/' + identityR.imagen}}\"/>\n                    </p>\n                </div> -->\n                <p class=\"text-right\">\n                    <i class=\"icon fas fa-store-alt\" [routerLink]=\"['/restaurante/inicio']\"></i>\n                    <span [routerLink]=\"['/restaurante/inicio']\" *ngIf=\"restauranteBadge > 0\" class=\"badge restauranteBadge\">{{restauranteBadge}}</span> \n                </p>\n            </div>\n\n            <div *ngIf=\"identity && identity.rol == 'EMPLEADO'\" class=\"navbars flex-grow-1\">\n                <!-- <div class=\"avatar\">\n                    <p class=\"text-right restaurante-logo\">\n                        <img src=\"{{url + 'obtener-imagen-restaurante/' + identityR.imagen}}\"/>\n                    </p>\n                </div> -->\n                <p class=\"text-right\">\n                    <i class=\"icon fas fa-store-alt\" [routerLink]=\"['/restaurante/inicio']\"></i>\n                    <span [routerLink]=\"['/restaurante/inicio']\" *ngIf=\"restauranteBadge > 0\" class=\"badge restauranteBadge\">{{restauranteBadge}}</span> \n                </p>\n            </div>\n\n            <div *ngIf=\"identity && identity.rol == 'ADMIN'\" class=\"navbars flex-grow-1\">\n                <p class=\"text-right\">\n                    <i class=\"icon fas fa-user-tie\" [routerLink]=\"['/admin/inicio']\"></i>\n                </p>\n            </div>\n\n            <div *ngIf=\"identity && identity.rol == 'REPARTIDOR'\" class=\"navbars flex-grow-1\">\n                <p class=\"text-right\">\n                    <i class=\"icon fas fa-biking\" [routerLink]=\"['/repartidor/inicio']\"></i>\n                    <span [routerLink]=\"['/repartidor/inicio']\" *ngIf=\"repartidorBadge > 0\" class=\"badge repartidorBadge\">{{repartidorBadge}}</span> \n                </p>\n            </div>\n        </div>\n\n        <mat-sidenav-container>\n            <mat-sidenav #drawer position=\"end\" fixedInViewport=\"true\">\n                <mat-toolbar  style=\"height: 90px;\">\n                    <p *ngIf=\"identity != null\" class=\"mt-3 drawer-title\">{{identity.nombre + ' ' + identity.apellido}}</p>\n                    <p *ngIf=\"identity == null\" class=\"text-center mt-3 ml-5 pl-4\"><img src=\"../../../assets/logo.png\" width=\"100px\"></p>\n                </mat-toolbar>\n                <mat-nav-list class=\"mt-2\">\n                    <p *ngIf=\"identity != null\" class=\"text-right\"><a class=\"drawer-list\" [routerLink]=\"['/mis-pedidos']\" (click)=\"drawer.toggle()\">Mis pedidos</a></p>\n                    <p *ngIf=\"identity == null\" class=\"text-right\"><a class=\"drawer-list\" [routerLink]=\"['/registro']\" (click)=\"drawer.toggle()\">Crear una cuenta</a></p>\n                    <hr>\n                    <!-- Tener mi negocio en Ralph -->\n                    <!-- <p *ngIf=\"identity != null\" class=\"text-right\"><a class=\"drawer-list\" [routerLink]=\"['/mis-datos']\" (click)=\"drawer.toggle()\">Editar mis datos</a></p> -->\n                    <p *ngIf=\"identity != null\" class=\"text-right\"><a class=\"drawer-list\" [routerLink]=\"['/cupones']\" (click)=\"drawer.toggle()\">Mis cupones</a></p>\n                    <p *ngIf=\"identity == null\" class=\"text-right\"><a class=\"drawer-list\" [routerLink]=\"['/login']\" (click)=\"drawer.toggle()\">Iniciar sesión</a></p>\n                    <hr>\n                    <!-- <p class=\"text-right\"><a class=\"drawer-list\" (click)=\"drawer.toggle()\">¿Cómo se descarga la app?</a></p>\n                    <hr> -->\n                    <p class=\"text-right\"><a class=\"drawer-list\" href=\"https://m.me/RalphApp\" (click)=\"drawer.toggle()\">¿Cómo puedo inscribir</a></p>\n                    <p class=\"text-right\"><a class=\"drawer-list\" href=\"https://m.me/RalphApp\" (click)=\"drawer.toggle()\">mi negocio en Ralph?</a></p>\n                    <hr>\n                    <p class=\"text-right\"><a class=\"drawer-list\" [routerLink]=\"['/nosotros']\" (click)=\"drawer.toggle()\">¿Quienes somos?</a></p>\n                    <hr>\n                    <p class=\"text-right\"><a class=\"drawer-list\" href=\"https://m.me/RalphApp\" (click)=\"drawer.toggle()\">Reportar un problema</a></p>\n                    <hr>\n                    <p *ngIf=\"identity != null\" class=\"text-right\"><a href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\" class=\"drawer-list\" (click)=\"drawer.toggle()\">Cerrar sesión</a></p>\n                    <hr *ngIf=\"identity != null\">\n                    <p class=\"text-center mt-5\"><a class=\"drawer-close m-5 py-5\" (click)=\"drawer.toggle()\">Cerrar ventana</a></p>\n                </mat-nav-list>\n            </mat-sidenav>    \n        </mat-sidenav-container>\n    </nav>\n\n    <div id=\"myModal\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Cerrar sesión?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" [routerLink]=\"['/login']\" (click)=\"logout()\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <p style=\"height: 45px;\"></p> \n\n    <div id=\"myModal10\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">La sección de favoritos estará disponible muy pronto</h5>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\">Aceptar</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n\n\n    <!-- <div class=\"recado-chico panel-body1 border pt-3 mt-4 mb-3 px-1 mx-4\" *ngIf=\"cuponesBadge > 0 && !texto2\">\n        <p class=\"text-center\">Cuentas con <strong>${{cantidad}} pesos</strong> en cupones. <br> Aprovéchalos antes de que expiren.</p>\n        <p class=\"text-center\"><button [routerLink]=\"['/cupones']\" class=\"btn btn-success btn-orange\">Ver mis cupones</button></p>\n    </div> -->\n\n    <div class=\"recado-grande panel-body1 border pt-3 mt-4 mb-3 px-2 mx-4\" *ngIf=\"texto2\">\n        <p class=\"text-center\">{{texto2}}</p>\n    </div>\n\n    <div class=\"recado-grande panel-body1 border pt-3 mt-4 mb-3 px-2 mx-4\" *ngIf=\"stopped == false\">\n        <p *ngIf=\"texto == 1\" class=\"text-center mx-2\">Para recibir tus <strong>$100 de regalo</strong>, crea una cuenta en Ralph.</p> \n        <p *ngIf=\"texto == 2\" class=\"text-center mx-2\">Recibe <strong>$100 de regalo</strong> al crear una cuenta en Ralph.</p> \n        <p class=\"text-center mx-2\">\n            <span>La oferta termina en </span>\n            <br>\n            <strong>\n                <span *ngIf=\"minuto < 10\">0</span>{{minuto + 'm'}}\n                <span *ngIf=\"segundo < 10\">0</span>{{segundo + 's'}}\n            </strong>\n        </p>\n        <p class=\"text-center\"><button [routerLink]=\"['/registro']\" class=\"px-4 btn btn-success\"><strong>Obtener regalo</strong></button></p>\n    </div>\n    \n    <!-- <div *ngIf=\"municipio && !identity\" class=\"clickable\" style=\"height: 37px;\">\n        <p class=\"text-municipio\">\n            <span *ngFor=\"let municipio of municipios\" class=\"px-4\" (click)=\"restaurantesPorMunicipio(municipio)\">\n                <span *ngIf=\"municipio.nombre != mun\">{{municipio.nombre}}</span>  \n                <span class=\"text-municipio2\" *ngIf=\"municipio.nombre == mun\">{{municipio.nombre}}</span>\n            </span>\n        </p>\n    </div> -->\n    \n    <div *ngIf=\"municipio\" style=\"height: 37px;\">\n        <p class=\"text-municipio\">\n            <span class=\"clickable px-4\" href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\">\n                {{municipio.nombre}} <i class=\"ml-1 fas fa-sort-down\"></i>\n            </span>\n        </p>\n    </div>\n\n    <div id=\"myModal2\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\">\n                <a *ngFor=\"let municipio of municipios\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\" (click)=\"restaurantesPorMunicipio(municipio)\">\n                    {{municipio.nombre}}\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\n        Ha ocurrido un error, vuelve a intentarlo.\n    </div>\n\n    <div class=\"sinpedidos\" *ngIf=\"!noDisponibles && !loading && restaurantes.length == 0\">\n        <p style=\"height: 60px;\"></p>\n        <p class=\"text-center\"><i class=\"sinpedidos-icon far fa-frown\"></i></p>\n        <p class=\"text-center\">No hay negocios abiertos en este momento.</p>\n    </div>\n\n    <div class=\"sinpedidos\" *ngIf=\"noDisponibles && !loading\">\n        <p style=\"height: 60px;\"></p>\n        <p class=\"text-center\"><i class=\"sinpedidos-icon far fa-frown\"></i></p>\n        <p class=\"text-center\">{{'Por ahora, no hay negocios que vendan \"' + categoriaActual + '\".'}}</p>\n    </div>\n\n    <div *ngIf=\"loading\" class=\"mt-3\">\n        <p class=\"text-center pt-2\">\n            <img src=\"../../../assets/loading.gif\" width=\"20px\">\n        </p>\n    </div>\n\n    <div *ngIf=\"restaurantes.length != 0\" class=\"mt-2\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"20\" (scrolled)=\"onScroll()\">\n        <div *ngFor=\"let restaurante of restaurantes3\" class=\"mb-4\" style=\"height: 250px;\"> \n            <div class=\"border-top mt-2\" style=\"height: 20%;\">\n                <div class=\"avatar mt-2 pt-1\">\n                    <img loading=\"lazy\" width=\"100%\" height=\"40\" [routerLink]=\"['/restaurant/', restaurante._id]\" class=\"avatar-2\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/>\n                    <a *ngIf=\"restaurante.status == 'activo'\" [routerLink]=\"['/restaurant/', restaurante._id]\" class=\"restaurante-nombre badgeGreen flex-grow-1\">\n                        <span class=\"badge\">Abierto</span> \n                        {{restaurante.nombre}}\n                    </a>\n                    <a *ngIf=\"restaurante.status == 'inactivo'\" [routerLink]=\"['/restaurant/', restaurante._id]\" class=\"restaurante-nombre badgeRed flex-grow-1 text-muted\">\n                        <span class=\"badge\">Cerrado</span> \n                        {{restaurante.nombre}}\n                    </a>\n                </div>\n            </div>\n\n            <div class=\"scrolling-wrapper ml-1 mt-1\">\n                <div *ngFor=\"let producto of productos\" class=\"cards\">\n                    <!-- <a *ngIf=\"identity != null && restaurante.status == 'activo'\" [routerLink]=\"['/producto/', producto._id]\" role=\"button\"> -->\n                    <a *ngIf=\"identity != null && restaurante.status == 'activo'\" (click)=\"clickProducto(restaurante._id, producto._id)\" role=\"button\">\n                        <div class=\"card-deck\" *ngIf=\"producto.restaurante == restaurante._id\">\n                            <div class=\"card mx-1\" style=\"width: 250px; height: 250px;\">\n                                <div class=\"card-img-overlay d-inline\">\n                                    <p class=\"card-tiempo flex-grow-1 text-center\">\n                                        <i class=\"far fa-clock\"></i>\n                                        <span *ngIf=\"producto.tiempoEntrega >= 30\">{{' ' + producto.tiempoEntrega + ' min'}}</span>\n                                        <span *ngIf=\"producto.tiempoEntrega < 30\">{{' 30 min'}}</span>\n                                    </p>\n                                </div>\n                            \n                                <img *ngIf=\"producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-producto/' + producto.imagen}}\">\n                                <img *ngIf=\"!producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\">\n\n                                <div class=\"card-img-overlay d-flex\">\n                                    <p style=\"height: 35px;\" class=\"card-nombre col-10 text-left\">{{producto.nombre}}</p>\n                                    <p style=\"height: 35px;\" class=\"card-precio flex-grow-1 text-center\">{{'$' + producto.precio}}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </a>\n                    <a *ngIf=\"identity == null && restaurante.status == 'activo'\" href=\"#myModal4\" data-toggle=\"modal\" data-target=\"#myModal4\" role=\"button\">\n                        <div class=\"card-deck\" *ngIf=\"producto.restaurante == restaurante._id\">\n                            <div class=\"card mx-1\" style=\"width: 250px; height: 250px;\">\n                                <div class=\"card-img-overlay d-inline\">\n                                    <p class=\"card-tiempo flex-grow-1 text-center\">\n                                        <i class=\"far fa-clock\"></i>\n                                        <span *ngIf=\"producto.tiempoEntrega >= 30\">{{' ' + producto.tiempoEntrega + ' min'}}</span>\n                                        <span *ngIf=\"producto.tiempoEntrega < 30\">{{' 30 min'}}</span>\n                                    </p>\n                                </div>\n                            \n                                <img *ngIf=\"producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-producto/' + producto.imagen}}\">\n                                <img *ngIf=\"!producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\">\n\n                                <div class=\"card-img-overlay d-flex\">\n                                    <p style=\"height: 35px;\" class=\"card-nombre col-10 text-left\">{{producto.nombre}}</p>\n                                    <p style=\"height: 35px;\" class=\"card-precio flex-grow-1 text-center\">{{'$' + producto.precio}}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </a>\n                    <a *ngIf=\"restaurante.status == 'inactivo'\" href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\" role=\"button\">\n                        <div class=\"card-deck\" *ngIf=\"producto.restaurante == restaurante._id\">\n                            <div class=\"card mx-1\" style=\"width: 250px; height: 250px;\">\n                                <div class=\"card-img-overlay d-inline\">\n                                    <p class=\"card-tiempo flex-grow-1 text-center\">\n                                        <i class=\"far fa-clock\"></i>\n                                        <span *ngIf=\"producto.tiempoEntrega >= 30\">{{' ' + producto.tiempoEntrega + ' min'}}</span>\n                                        <span *ngIf=\"producto.tiempoEntrega < 30\">{{' 30 min'}}</span>\n                                    </p>\n                                </div>\n                            \n                                <img *ngIf=\"producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-producto/' + producto.imagen}}\">\n                                <img *ngIf=\"!producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\">\n                                \n                                <div class=\"card-img-overlay d-flex\">\n                                    <p style=\"height: 35px;\" class=\"card-nombre col-10 text-left\">{{producto.nombre}}</p>\n                                    <p style=\"height: 35px;\" class=\"card-precio flex-grow-1 text-center\">{{'$' + producto.precio}}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </a>\n                </div> \n            </div>\n            <div id=\"myModal4\" class=\"modal\">\n                <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Para poder hacer un pedido en Ralph, debes crear una cuenta o iniciar sesión.</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning mt-2 ml-1\" data-dismiss=\"modal\" [routerLink]=\"['/registro']\">Crear cuenta</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary mt-2\" data-dismiss=\"modal\" [routerLink]=\"['/login']\">Iniciar sesión</button>\n                    </div>\n                </div>\n                </div>\n            </div>\n        </div>    \n    </div>\n\n    <p style=\"height: 50px;\"></p>\n\n        <div id=\"myModal3\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <a (click)=\"obtenerProductosCategoria(categoria)\" *ngFor=\"let categoria of categorias[0]\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                        {{categoria.nombre}}\n                    </a>\n                </div>\n                <div class=\"modal-content\">\n                    <a (click)=\"obtenerProductosCategoria(categoria)\" *ngFor=\"let categoria of categorias[1]\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                        {{categoria.nombre}}\n                    </a>\n                    <a class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</a>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal5\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">La sección de favoritos estará disponible muy pronto</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\">Aceptar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal6\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Este restaurante se encuentra cerrado</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\">Aceptar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div id=\"myModal7\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Para acceder a esta sección, debes crear una cuenta o iniciar sesión.</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning mt-2 ml-1\" data-dismiss=\"modal\" [routerLink]=\"['/registro']\">Crear cuenta</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary mt-2\" data-dismiss=\"modal\" [routerLink]=\"['/login']\">Iniciar sesión</button>                    \n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n    <nav class=\"navbar-bottom navbar-default fixed-bottom border-top\">   \n        <div class=\"row\">\n            <a *ngIf=\"identity != null\" [routerLink]=\"['/mis-pedidos']\" class=\"btn-navbar col-2 pr-1\">\n                <i class=\"icon-bottom-1 fas fa-shopping-basket\"></i>  \n                <span *ngIf=\"pedidosBadge > 0\" class=\"badge pedidosBadge\">{{pedidosBadge}}</span> \n            </a>\n            <a *ngIf=\"identity == null\" href=\"#myModal7\" data-toggle=\"modal\" data-target=\"#myModal7\" class=\"btn-navbar col-2 pr-1\">\n                <i class=\"icon-bottom-1 fas fa-shopping-basket\"></i>  \n                <span *ngIf=\"pedidosBadge > 0\" class=\"badge pedidosBadge\">{{pedidosBadge}}</span> \n            </a>\n\n            <div class=\"col-8 clickable\" href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\">\n                <p *ngIf=\"municipio\" class=\"categorias\">\n                    {{categoriaActual}} <i class=\"ml-2 categorias-icon fas fa-sort-up\"></i>\n                </p>\n            </div>\n\n            <!-- <a [routerLink]=\"['/premios']\" class=\"btn-navbar col-2 pl-1\">\n                <i class=\"icon-bottom-2 fas fa-gift\"></i>\n            </a> -->\n            <!-- <a *ngIf=\"identity == null\" href=\"#myModal7\" data-toggle=\"modal\" data-target=\"#myModal7\" class=\"btn-navbar col-2 pl-1\">\n                <i class=\"icon-bottom-2 fas fa-gift\"></i>\n            </a> -->\n\n            <a *ngIf=\"identity != null\" [routerLink]=\"['/cupones']\" class=\"btn-navbar col-2 pl-1\">\n                <i class=\"icon-bottom-2 fas fa-ticket-alt\"></i>\n                <span *ngIf=\"cuponesBadge > 0\" class=\"badge cuponesBadge\">{{cuponesBadge}}</span> \n            </a>\n            <a *ngIf=\"identity == null\" href=\"#myModal7\" data-toggle=\"modal\" data-target=\"#myModal7\" class=\"btn-navbar col-2 pl-1\">\n                <i class=\"icon-bottom-2 fas fa-ticket-alt\"></i>\n                <span *ngIf=\"cuponesBadge > 0\" class=\"badge cuponesBadge\">{{cuponesBadge}}</span> \n            </a>\n            <!-- <a class=\"btn-navbar col-2 pl-1\" href=\"#myModal5\" data-toggle=\"modal\" data-target=\"#myModal5\">\n                <i class=\"icon-bottom-2 fas fa-heart\"></i>\n            </a> -->\n        </div>\n    </nav>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {Usuario} from '../../models/usuario';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {RestauranteService} from '../../services/restaurante.service';\nimport * as $ from 'jquery';\n\n\n@Component({\n    selector: 'login',\n    templateUrl: './login.component.html',\n    providers: [UsuarioService, RestauranteService]\n}) \n\nexport class LoginComponent implements OnInit{\t\t\t\t\n    public title:string;\n    public usuario: Usuario;\n    public status: string;\n    public identity;\n    public identityR;\n    public token;\n    public error: string;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _restauranteService: RestauranteService\n    ){\n        this.title = 'Identificate';\n        this.error = null;\n        this.usuario = new Usuario(\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\");\n    }\n\n    ngOnInit(){\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    onSubmit(){\n        this._usuarioService.signup(this.usuario).subscribe(\n            response => {\n                // console.log(response);\n                this.identity = response.usuario;\n                if(!this.identity || !this.identity._id){\n                    this.status = 'error';\n                    this.error = response.message;\n                } else {\n                    localStorage.setItem('identity', JSON.stringify(this.identity));\n                        this.getToken();\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n\n                if(errorMessage != null){\n                    this.status = 'error';\n                    if(errorMessage.error.message){\n                        this.error = errorMessage.error.message;\n                    } else {\n                        this.error = 'Error en el servidor';\n                    }\n                }\n            }\n        );\n    }\n\n    getToken(){\n        this._usuarioService.signup(this.usuario, 'true').subscribe(\n            response => {\n                this.token = response.token;\n                if(this.token.length <= 0){\n                    this.status = 'error';\n                } else if(this.identity.restaurante && this.identity.restaurante != null){\n                    localStorage.setItem('token', this.token);\n                    this.getIdentityR();\n                } else {\n                    localStorage.setItem('token', this.token);\n                    this._router.navigate(['/']);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n\n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        );\n    }\n\n    getIdentityR(){\n        this._restauranteService.obtenerRestaurante(this.identity.restaurante).subscribe(\n            response => {\n                this.identityR = response.restaurante;\n                if(!this.identityR || !this.identityR._id){\n                    this.status = 'error';\n                } else {\n                    localStorage.setItem('identityR', JSON.stringify(this.identityR));\n                        this._router.navigate(['/']);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n\n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        );\n    }\n}","<div id=\"login\" style=\"height: 810px;\">    \n    <br> <br>\n        <p class=\"text-center pt-5 mb-3\">\n            <img src=\"../../../assets/logo.png\" width=\"260px\" alt=\"\">\n        </p>\n\n    <div class=\"container pt-3\">\n        <div class=\"panel-body1 p-3 m-3\">\n            <div class=\"alert alert-danger text-center\" *ngIf=\"status == 'error'\">\n                {{error}}\n            </div>\n\n    \n            <form autocomplete=\"off\" #loginForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" class=\"login\">\n                <p>\n                    <label>Teléfono o correo</label>\n                    <input autocomplete=\"off\" type=\"email\" name=\"correo\" #correo=\"ngModel\" [(ngModel)]=\"usuario.correo\" class=\"form-control\" required/>\n                </p>\n\n                <p>\n                    <label>Contraseña</label>\n                    <input autocomplete=\"off\" type=\"password\" name=\"password\" #password=\"ngModel\" [(ngModel)]=\"usuario.password\" class=\"form-control\" required />\n                    <span *ngIf=\"!password.valid && password.touched\">\n                        La contraseña no es correcta\n                    </span>\n                </p>\n                \n                <p class=\"text-center\">\n                    <input type=\"submit\" value=\"Ingresar\" class=\"btn-orange text-white mt-2 px-3\" [disabled]=\"!loginForm.form.valid\">\n                </p>\n            </form>\n        \n            <div>\n                <p class=\"text-center lg-12 mb-0\">\n                    ¿No tienes una cuenta? <br>\n                    <a [routerLink]=\"['/registro']\">Registrate</a>\n                </p>\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {UploadService} from '../../services/upload.service';\nimport {GLOBAL} from '../../services/global';\nimport { NgxImageCompressService } from 'ngx-image-compress';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'misDatos',\n    templateUrl: './misDatos.component.html',\n    providers: [UploadService, UsuarioService]\n}) \n\nexport class MisDatosComponent implements OnInit{\t\t\t\t\n    public identity;\n    public token;\n    public title: string;\n    public url: string;\n    public usuario: any;\n    public status: string;\n    public error: string;\n\n    public fileToUpload: File;\n    public imagesFiles: File;\n    public localUrl: any;\n    public localCompressedURl:any;\n    public imgResultAfterCompress: any;\n    public imageFile: any;\n    public imageBlob: any;\n    public fileName : any;\n    public sizeOfOriginalImage:number;\n    public sizeOFCompressedImage:number;\n    public vecesProceso:number;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _uploadService: UploadService,\n        private imageCompress: NgxImageCompressService,\n        private _location: Location\n    ){\n        this.identity = this._usuarioService.getIdentity();\n        this.token = this._usuarioService.getToken();\n        // this.usuario = this.identity;\n        // this.url = GLOBAL.url;\n        // this.localCompressedURl = null;\n        // this.vecesProceso = 0;\n        // this.error = null;\n    }\n\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n\n    backClicked() {\n        this._location.back();\n    }\n\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                this.obtenerUsuario(params['id']);\n            }\n        })\n    }\n\n\n    obtenerUsuario(usuarioId){\n        this._usuarioService.obtenerUsuario(usuarioId).subscribe(\n            response => {\n                if(response){\n                    this.usuario = response.usuario;\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n\n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    onSubmit(){\n        this._usuarioService.actualizarUsuario(this.usuario).subscribe(\n            response => {\n                if(!response){\n                    this.status = 'error';\n                    this.error = response.message;\n\n                // } else if(this.fileToUpload && this.fileToUpload.size){\n                //     this.imageFile = this.convertFile(this.imgResultAfterCompress);\n                //     this._uploadService.makeFileRequest(this.url+'actualizar-imagen-usuario/'+this.usuario._id, this.imageFile, this.token, 'image', 'PUT')\n                //         .then((result:any) => {\n                //             this.localCompressedURl = null\n                //             this.imageFile = [];\n                //             this.usuario.imagen = result.usuario.imagen;\n                //             this.status = 'success';\n                //             localStorage.setItem('identity', JSON.stringify(this.usuario));\n                //             this.identity = this.usuario;  \n                //         });\n                } else {\n                    this.status = 'success';\n                    // localStorage.setItem('identity', JSON.stringify(this.usuario));\n                    // this.identity = this.usuario;               \n                }\n            },\n            error =>{\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                    if(errorMessage.error.message){\n                        this.error = errorMessage.error.message;\n                    } else {\n                        this.error = 'Error en el servidor';\n                    }\n                }\n        });\n    }                    \n\n    // selectFile(fileInput: any) {\n    //     this.fileToUpload = fileInput.target.files[0];\n\n    //     if (this.fileToUpload && this.fileToUpload.size) {\n    //         var reader = new FileReader();\n    //         reader.onload = (fileInput: any) => {\n    //             this.localUrl = fileInput.target.result;\n    //             this.compressFile(this.localUrl)\n    //         }\n    //         reader.readAsDataURL(this.fileToUpload);\n    //     }\n    // }\n\n    // compressFile(image) {\n    //     this.vecesProceso = this.vecesProceso + 1;\n    //     var orientation = -1;\n\n    //     this.sizeOfOriginalImage = this.imageCompress.byteCount(image)/(1024*1024);\n    //     // console.log('Size in bytes is now:',  this.sizeOfOriginalImage);\n        \n    //     var compresion = 80;\n\n    //     if(this.sizeOfOriginalImage > 50){\n    //         var compresion = 10;\n\n    //     } else if(this.sizeOfOriginalImage > 10){\n    //         var compresion = 20;\n\n    //     } else if(this.sizeOfOriginalImage > 1){\n    //         var compresion = 30;\n\n    //     } else if(this.sizeOfOriginalImage > 0.3){\n    //         var compresion = 40;\n    //     }  \n\n    //     this.imageCompress.compressFile(image, orientation, compresion, 50).then(\n    //         result => {\n    //             this.imgResultAfterCompress = result;\n    //             this.localCompressedURl = result;\n\n    //             this.sizeOFCompressedImage = this.imageCompress.byteCount(result)/(1024*1024)\n    //             // console.log('Size in bytes after compression:',  this.sizeOFCompressedImage);\n\n    //             if(this.sizeOFCompressedImage < 0.4 || this.vecesProceso >= 3){\n    //                 this.vecesProceso = 0;\n    //                 return this.imgResultAfterCompress;\n    //             } else {\n    //                 this.compressFile(this.imgResultAfterCompress)\n    //             }\n    //         });\n    // }\n        \n    // convertFile(imgResultAfterCompress){\n    //     // call method that creates a blob from dataUri\n    //     const imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\n        \n    //     //imageFile created below is the new compressed file which can be send to API in form data\n    //     const imageFile = new File([imageBlob], 'image.jpeg', { type: 'image/jpeg' });\n    //     return this.imageFile = imageFile;\n    // }\n\n    // dataURItoBlob(dataURI) {\n    //     const byteString = window.atob(dataURI);\n    //     const arrayBuffer = new ArrayBuffer(byteString.length);\n    //     const int8Array = new Uint8Array(arrayBuffer);\n        \n    //     for (let i = 0; i < byteString.length; i++) {\n    //         int8Array[i] = byteString.charCodeAt(i);\n    //     }\n\n    //     const blob = new Blob([int8Array], { type: 'image/jpeg' });\n    //     return blob;\n    // }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\"fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"icono-Ralph navbar-brand\">\n                <img src=\"../../../../assets/icono.png\"/>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 50px;\"></p>\n\n    <div class=\"container\" *ngIf=\"usuario\">\n        <div class=\"panel-body p-3 m-1\">  \n            <h2 class=\"h2-strong mb-4\">\n                <p class=\"text-center\">\n                    Actualizar datos\n                </p>\n            </h2>\n\n            <form autocomplete=\"off\" #misDatosForm=\"ngForm\" (ngSubmit)=\"onSubmit()\">\n\n                <!-- <div class=\"img-edit d-block\">\n                    <p class=\"text-center\">\n                        <img *ngIf=\"identity.imagen && identity.imagen != null && localCompressedURl == null\" src=\"{{url + 'obtener-imagen-usuario/' + identity.imagen}}\">\n                        <img *ngIf=\"localCompressedURl && localCompressedURl != null\" [src]=\"localCompressedURl\"/>\n                    </p>                    \n                    <div *ngIf=\"identity.imagen == null && localCompressedURl == null\" class=\"square mx-auto px-auto\">\n                        <i class=\"icon-img fas fa-user\"></i>\n                        // <i class=\"icon-img fas fa-user-tie\"></i>\n                    </div>\n                </div>\n                <p class=\"text-center\">\n                    <label for=\"file-upload\" class=\"custom-file-upload\" *ngIf=\"identity.imagen && identity.imagen != null\" >Actualizar imágen</label>\n                    <input id=\"file-upload\" *ngIf=\"identity.imagen && identity.imagen != null\" type=\"file\" accept=\".jpg,.png,.jpeg\" placeholder=\"Subir nueva imagen\" (change)=\"selectFile($event)\" />\n                \n                    <label for=\"file-upload\" class=\"custom-file-upload px-3\" *ngIf=\"identity.imagen == null\" >Subir imágen</label>\n                    <input id=\"file-upload\" type=\"file\" *ngIf=\"identity.imagen == null\" accept=\".jpg,.png,.jpeg\" placeholder=\"Seleccionar imagen\" (change)=\"selectFile($event)\" />\n                </p> -->\n            \n                <hr>\n            \n                <div class=\"form-group mt-3\">\n                    <label>Nombre</label>\n                    <input autocomplete=\"off\" type=\"text\" name=\"nombre\" #nombre=\"ngModel\" [(ngModel)]=\"usuario.nombre\" class=\"form-control\" required />\n                    <span *ngIf=\"!nombre.valid && nombre.touched\">\n                        El nombre es obligatorio\n                    </span>\n                </div>\n\n                <div class=\"form-group mt-3\">\n                    <label>Apellido</label>\n                    <input autocomplete=\"off\" type=\"text\" name=\"apellido\" #apellido=\"ngModel\" [(ngModel)]=\"usuario.apellido\" class=\"form-control\" required />\n                    <span *ngIf=\"!apellido.valid && apellido.touched\">\n                        El apellido es obligatorio\n                    </span>\n                </div>\n                \n                <div class=\"form-group mt-3\">\n                    <label>Teléfono</label>\n                    <input autocomplete=\"off\" type=\"tel\" name=\"telefono\" #telefono=\"ngModel\" [(ngModel)]=\"usuario.telefono\" class=\"form-control\" required />\n                    <span *ngIf=\"!telefono.valid && telefono.touched\">\n                        El teléfono es obligatorio\n                    </span>\n                </div>\n                \n                <!-- <div class=\"form-group mt-3\">\n                    <label>Domicilio (opcional)</label>\n                    <input autocomplete=\"off\" type=\"text\" name=\"domicilio\" #domicilio=\"ngModel\" [(ngModel)]=\"usuario.domicilio\" class=\"form-control\" required />\n                </div> -->\n\n                <div class=\"alert alert-success text-center\" *ngIf=\"status == 'success'\">\n                    Se han actualizado los datos correctamente\n                </div>\n            \n                <div class=\"alert alert-danger text-center\" *ngIf=\"status == 'error'\">\n                    {{error}}\n                </div>\n            \n                <p class=\"text-center mt-4\">\n                    <input type=\"submit\" value=\"Guardar cambios\" class=\"btn btn-success\">\n                </p>\n            </form>\n        </div>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {GLOBAL} from '../../services/global';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {PedidoService} from '../../services/pedido.service';\nimport {RestauranteService} from '../../services/restaurante.service';\nimport {Location} from '@angular/common';\nimport * as $ from 'jquery';\n\n@Component({\n    selector: 'misPedidos',\n    templateUrl: './misPedidos.component.html',\n    providers: [UsuarioService, PedidoService, RestauranteService]\n}) \n\nexport class MisPedidosComponent implements OnInit{\t\t\t\t\n    public url: any;\n    public token;\n    public identity;\n    public identityR;\n    public status;\n    public restaurante: any;\n    public pedidos: any;\n    public pedidosAnteriores: any;\n    public page: number;\n    public pages: number;\n    public loading: boolean;\n    public completedload: boolean;\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _pedidoService: PedidoService,\n        private _restauranteService: RestauranteService,\n        private _location: Location\n    ){\n        this.url = GLOBAL.url;\n        this.token = this._usuarioService.getToken();\n        this.identity = this._usuarioService.getIdentity();\n        this.pedidos = [];\n        this.pedidosAnteriores = [];\n        this.page = 1;\n        this.loading = true;\n        this.completedload = false;\n        this.status = null;\n    }\n\n    ngOnInit(){\n        this.obtenerPedidos();\n        this.obtenerPedidosAnteriores(this.page);\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    backClicked() {\n        this._location.back();\n        // this._router.navigate(['/']);\n    }\n    \n    obtenerPedidos(){\n        this._pedidoService.obtenerPedidosUsuario(this.token, this.identity._id, 1, 0).subscribe(\n            response => {\n                if(!response){\n                    this.status = 'error';\n                } else {\n                    this.pedidos = response.pedidos;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n                \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    onScroll(){\n        this.page += 1;\n        \n        if(this.page == this.pages+1){\n            this.loading = false;\n        } else {\n            this.loading = true;\n            this.obtenerPedidosAnteriores(this.page, true);\n        }\n    }\n\n\n    obtenerPedidosAnteriores(page, adding = false){\n        this._pedidoService.obtenerPedidosUsuario(this.token, this.identity._id, page, 1).subscribe(\n            response => {\n                if(!response){\n                    return this.status = 'error';\n                }\n                this.completedload = true;\n                this.pages = response.pages\n\n                if(!adding){\n                    this.pedidosAnteriores = response.pedidos;\n                    this.loading = false;\n                } else {\n                    var arrayA = this.pedidosAnteriores;\n                    var arrayB = response.pedidos;\n                    this.pedidosAnteriores = arrayA.concat(arrayB);\n                    this.loading = false;\n                }\n            \n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom flex-grow-1 ml-2\">\n                <p class=\"text-center mt-1\">Mis pedidos</p>\n            </div>\n        </div>\n    </nav>\n\n    <p style=\"height: 60px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                Ha ocurrido un error.\n            </p>\n        </div>\n\n        <div class=\"row\" style=\"height: 40px\" *ngIf=\"pedidosAnteriores.length > 0 || pedidos.length > 0\"> \n            <p class=\"pl-4 subtitle flex-grow-1\">\n                En proceso\n            </p>\n        </div>\n\n        <div *ngIf=\"pedidos.length == 0 && completedload && pedidosAnteriores.length > 0\" class=\"sinpedidos\">\n            <p style=\"height: 10px;\"></p>\n            <p class=\"text-center\"><i class=\"sinpedidos-icon far fa-clipboard\"></i></p>\n            <p class=\"text-center\">No tienes pedidos en proceso</p>\n        </div>\n\n        <div class=\"mt-4\">\n            <div *ngFor=\"let pedido of pedidos\" class=\"mb-3 mt-2\"> \n                <div class=\"card\" style=\"height: 125px;\" [routerLink]=\"['/pedido', pedido._id]\">\n                    <div class=\"card-body pedido-card\">\n\n                        <div class=\"row mb-2\">\n                            <div class=\"col-2 avatar2\">\n                                <img src=\"{{url + 'obtener-imagen-restaurante/' + pedido.restaurante.imagen}}\"/>\n                            </div>                            \n                            <p class=\"pedido-card-text2\">{{pedido.restaurante.nombre}}</p>\n                        </div>\n\n                        <div class=\"row pedido-line\">\n                            <p  class=\"pedido-card-icon pl-4 col-2\">{{pedido.contenido.length}}</p>\n                            <p *ngIf=\"pedido.contenido.length == 1\" class=\"pedido-card-text ml-1\">Producto</p>\n                            <p *ngIf=\"pedido.contenido.length > 1\" class=\"pedido-card-text ml-1\">Productos</p>\n                            <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"!pedido.cupon\">{{'$' + (pedido.total + pedido.envio)}}</p>\n                            <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"pedido.cupon\">{{'$' + (pedido.total + pedido.envio - pedido.cupon)}}</p>\n                        </div>\n\n                        <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'En espera'\">\n                            <i class=\"icon-status-camino far fa-clock col-2 mt-1 ml-1\"></i>\n                            <p class=\"pedido-card-text\">{{pedido.status}}</p>\n                        </div>\n                        <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'En preparacion'\">\n                            <i class=\"icon-status-camino fas fa-utensils col-2 mt-1 ml-1\"></i>\n                            <p class=\"pedido-card-text\">En preparación</p>\n                        </div>\n                        <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'En camino'\">\n                            <i class=\"icon-status-camino fas fa-biking col-2 mt-1\"></i>\n                            <p class=\"pedido-card-text ml-1\">{{pedido.status}}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <p style=\"height: 50px;\" class=\"mt-5 pt-5\" *ngIf=\"pedidosAnteriores.length > 0\"></p>\n\n        <div class=\"row mt-4\" style=\"height: 40px\"> \n            <p class=\"pl-4 subtitle flex-grow-1\">\n                Completados\n            </p>\n        </div>\n\n        <div *ngIf=\"pedidosAnteriores.length == 0 && completedload\" class=\"sinpedidos\">\n            <p style=\"height: 90px;\"></p>\n            <p class=\"text-center\"><i class=\"sinpedidos-icon far fa-clipboard\"></i></p>\n            <p class=\"text-center\">No has realizado ningún pedido aún</p>\n        </div>\n\n        <div class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n            <div *ngFor=\"let pedido of pedidosAnteriores\" class=\"mb-4 mt-2\"> \n                <div class=\"card\" style=\"height: 180px;\" [routerLink]=\"['/pedido', pedido._id]\">\n                    <div class=\"card-body pedido-card\">\n                        <div class=\"row\">\n                            <p class=\"text-muted flex-grow-1 text-center mx-5\">\n                                {{(pedido.fecha | amFromUnix) | amLocale:'es' | amDateFormat:'LL'}}\n                            </p>\n                        </div>\n                        \n                        <div class=\"row mb-2\">\n                            <div class=\"col-2 avatar2\">\n                                <img src=\"{{url + 'obtener-imagen-restaurante/' + pedido.restaurante.imagen}}\"/>\n                            </div>                            \n                            <p class=\"pedido-card-text2\">{{pedido.restaurante.nombre}}</p>\n                        </div>\n\n                        <div class=\"row pedido-line\">\n                            <p  class=\"pedido-card-icon pl-4 col-2\">{{pedido.contenido.length}}</p>\n                            <p *ngIf=\"pedido.contenido.length == 1\" class=\"pedido-card-text ml-1\">Producto</p>\n                            <p *ngIf=\"pedido.contenido.length > 1\" class=\"pedido-card-text ml-1\">Productos</p>\n                            <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"!pedido.cupon\">{{'$' + (pedido.total + pedido.envio)}}</p>\n                            <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"pedido.cupon\">{{'$' + (pedido.total + pedido.envio - pedido.cupon)}}</p>\n                        </div>\n\n                        <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'Completado'\">\n                            <i class=\"icon-status-completado fas fa-check-circle col-2 mt-1 ml-1\"></i>\n                            <p class=\"pedido-card-text\">{{pedido.status}}</p>\n                        </div>\n                        <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'Cancelado'\">\n                            <i class=\"icon-status-cancelado fas fa-times-circle col-2 mt-1 ml-1\"></i>\n                            <p class=\"pedido-card-text\">{{pedido.status}}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n        <div *ngIf=\"loading\">\n            <p class=\"text-center pt-2\">\n                <img src=\"../../../../assets/loading.gif\" width=\"20px\">\n            </p>\n        </div>\n    <p style=\"height: 10px;\"></p>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'nosotros',\n    templateUrl: './nosotros.component.html',\n    providers: []\n}) \n\nexport class NosotrosComponent implements OnInit{\t\t\t\t\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _location: Location\n    ){\n\n    }\n\n    ngOnInit(){\n    }\n\n    backClicked() {\n        // this._router.navigate(['/']); \n        this._location.back();\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\"fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"icono-Ralph navbar-brand\">\n                <img src=\"../../../../assets/icono.png\"/>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 60px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"panel-body1 p-3 m-0\">\n\n            <p class=\"text-center pt-4 mb-4\">\n                <img src=\"../../../assets/logo2.png\" width=\"280px\" alt=\"\">\n            </p>\n\n            <p style=\"height: 5px;\"></p>\n\n            <p class=\"text-center subtitle\"><strong>¿Quienes somos?</strong></p>\n\n            <p class=\"text-justify text\">Ralph es una aplicación web para celular, tablets y computadoras, en la cual puedes consultar una amplia variedad de negocios de comida y sus respectivos productos, para ayudarte a elegir la mejor de las opciones al momento de que necesites hacer un pedido de comida y después recibirlo hasta la comodidad de tu hogar o en el lugar donde te encuentres trabajando.</p>\n\n            <br>\n            <p class=\"text-justify text\">Nuestro principal objetivo es que nuestro servicio sirva para que ahorres esas horas que te puedes tardar al ponerte a cocinar o que ya no te rompas la cabeza pensando qué platillo se te antoja, pues en Ralph puedes consultar una amplia variedad de productos que venden los negocios de comida de toda tu localidad. </p>\n\n            <br>\n            <p class=\"text-justify text\">Cada uno de los productos cuentan con una imagen, para que puedas ver exactamente cómo es el producto; también cuentan con una pequeña descripción, el tiempo de entrega y el precio.</p>\n\n            <br>\n            <p class=\"text-justify text\"> Hacer pedidos en Ralph es extremadamente fácil, para que no pierdas mucho tiempo en hacer un pedido y puedas seguir concentrad@ en esas cosas importantes que tienes que hacer.</p>\n            \n            <br>\n            <p class=\"text-justify text\">Ralph salió a la luz y comenzó a operar en Mayo del 2020. </p>\n\n            <p style=\"height: 5px;\"></p>\n\n            <p class=\"text-center text\">Leer nuestra <a [routerLink]=\"['/politicas']\">Política de privacidad</a>.</p>\n\n        </div>\n        <p style=\"height: 15px;\"></p>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {Usuario} from '../../models/usuario';\n\n@Component({\n    selector: 'nuevaContra',\n    templateUrl: './nuevaContra.component.html',\n    providers: []\n}) \n\nexport class NuevaContraComponent implements OnInit{\t\t\t\t\n    public usuario: Usuario;\n    public usuario2: Usuario;\n    public status: string;\n    public error: string;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService\n    ){\n        this.usuario2 = new Usuario(null,null,null,null,null,null,null,null,null,null,null,null,null,null,null);\n    }\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                this.obtenerUsuario(params['id']);\n            }\n        })\n    }\n\n\n    obtenerUsuario(usuarioId){\n        this._usuarioService.obtenerUsuario2(usuarioId).subscribe(\n            response => {\n                if(response){\n                    this.usuario = response.usuario;\n\n                    if(this.usuario.password != 'ListoParaUnaNuevaContra'){\n                        delete this.usuario.password;\n                        this._router.navigate(['/login']); \n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n\n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    onSubmit(form){\n        if(this.usuario.password != 'ListoParaUnaNuevaContra'){\n            this.status = 'error';\n            this.error = 'No tienes permiso para actualizar la contraseña';\n            return\n\n        } else if(this.usuario2.password.length < 6){\n            this.status = 'error';\n            this.error = 'La contraseña debe tener al menos 6 dígitos';\n            return\n\n        } else if(this.usuario2.password != this.usuario2.nombre){\n            this.status = 'error';\n            this.error = 'Las contraseñas no son iguales';\n            return\n        }\n\n        this.usuario.password = this.usuario2.password;\n\n        this._usuarioService.actualizarContra(this.usuario).subscribe(\n            response => {\n                if(response){\n                    this.status = 'success';\n                    form.reset();\n                    this._router.navigate(['/login']);\n                }\n            },\n            error =>{\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                    if(errorMessage.error.message){\n                        this.error = errorMessage.error.message;\n                    } else {\n                        this.error = 'Error en el servidor';\n                    }\n                }\n        });\n    }  \n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12\" style=\"height: 40px\">\n            <div class=\"res-nom flex-grow-1\">\n                <p class=\"text-center mt-1\">Cambiar contraseña</p>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 60px;\"></p>\n\n    <div class=\"res-nom2 avatar flex-grow-1 mt-1\" *ngIf=\"usuario\">\n        <p class=\"text-center\"><span class=\"pl-3\">{{usuario.nombre + ' ' + usuario.apellido}}</span></p>\n    </div>\n\n    <div class=\"container\">\n        <div class=\"panel-body p-3 m-1\">\n        \n            <form autocomplete=\"off\" #usuarioForm=\"ngForm\" (ngSubmit)=\"onSubmit(usuarioForm)\">\n            \n               <div class=\"form-group\">\n                    <label>Nueva contraseña</label>\n                    <input type=\"text\" name=\"password\" #password=\"ngModel\" [(ngModel)]=\"usuario2.password\" class=\"form-control\" required />\n                    <span *ngIf=\"!password.valid && password.touched\">\n                        La contraseña es obligatoria\n                    </span>\n               </div>\n            \n               <div class=\"form-group\">\n                    <label>Confirmar nueva contraseña</label>\n                    <input type=\"text\" name=\"nombre\" #nombre=\"ngModel\" [(ngModel)]=\"usuario2.nombre\" class=\"form-control\" required />\n                    <span *ngIf=\"!nombre.valid && nombre.touched\">\n                        La nueva contraseña es obligatoria\n                    </span>\n               </div>\n            \n                <div class=\"alert alert-success text-center\" *ngIf=\"status == 'success'\">\n                    Se ha actualizado la contraseña correctamente\n                </div>\n            \n                <div class=\"alert alert-danger text-center\" *ngIf=\"status == 'error'\">\n                    {{error}}\n                </div>\n\n                <p class=\"text-center pt-2\">\n                    <input type=\"submit\" value=\"Generar nueva contraseña\" class=\"btn btn-success mt-3 px-4\" [disabled]=\"!usuarioForm.form.valid\">\n                </p>\n            </form>\n        </div>\n    </div>\n   <p style=\"height: 20px;\"></p>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {ProductoService} from '../../services/producto.service';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {RestauranteService} from '../../services/restaurante.service';\nimport {PedidoService} from '../../services/pedido.service';\nimport {PedidoProducto} from '../../models/pedidoProducto';\nimport {CuponService} from '../../services/cupon.service';\nimport {StatsService} from '../../services/stats.service';\nimport {Pedido} from '../../models/pedido';\nimport {Cupon} from '../../models/cupon';\nimport {GLOBAL} from '../../services/global';\nimport {Location} from '@angular/common';\nimport * as $ from 'jquery';\n\n\n@Component({\n    selector: 'pedido',\n    templateUrl: './pedido.component.html',\n    providers: [ProductoService, RestauranteService, UsuarioService, PedidoService, CuponService, StatsService]\n}) \n\nexport class PedidoComponent implements OnInit{\n    public restaurante: any;\n    public status: string;\n    public error: string;\n    public identity;\n    public token;\n    public url: string;\n    public productoId: any;\n    public pedido: any;\n    public pedidoNew: Pedido;\n    public comision: number;\n    public ganancia: number;\n    public total: number;\n    public total2: number;\n    public pedidoProducto: PedidoProducto;\n    public position: any;\n    public envio: number;\n    public support: boolean;\n    public notif: boolean;\n    public boton: boolean;\n    public cupon: any;\n    public cuponCompleto: any;\n    public cuponPosicion: any;\n    public cupones: any;\n    public compraMinima: any;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _productoService: ProductoService,\n        private _usuarioService: UsuarioService,\n        private _restauranteService: RestauranteService,\n        private _pedidoService: PedidoService,\n        private _cuponService: CuponService,\n        private _statsService: StatsService,\n        private _location: Location\n    ){\n        this.url = GLOBAL.url;\n        this.identity = this._usuarioService.getIdentity();\n        this.token = this._usuarioService.getToken();\n        this.total = null;\n        this.status = null;\n        this.comision = null;\n        this.position = null;\n        this.cupon = 0;\n        this.cupones = [];\n        this.compraMinima = 0;\n        this.error = 'Ha ocurrido un error.';\n        // this.ganancia = null;\n    }\n\n    ngOnInit(){\n        this.loadPage();\n        this.supportNotification();\n        this.obtenerCupones();\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                this.productoId = params['id'];\n                if(this.productoId != 0){\n                    this.obtenerPedido(this.productoId);\n                } else {\n                    this.obtenerPedidoLocal();\n                }\n            }\n        })\n    }\n\n    backClicked() {\n        this._location.back();\n    }\n\n    obtenerPedidoLocal(){\n        let pedido = JSON.parse(localStorage.getItem('pedido'));\n\n        if(!pedido){\n            this.pedido = null;\n            this.status = 'error';\n            this._router.navigate(['/']);\n        }\n\n        if(pedido != \"undefined\" && pedido != null){\n            this.pedido = pedido;\n            this.obtenerRestaurante(this.pedido.restaurante);\n            if(this.identity.domicilio){\n                this.pedido.direccion = this.identity.domicilio;\n            }\n        } else {\n            this.pedido = null;\n            this.status = 'error';\n            this._router.navigate(['/']);\n        }\n    }\n\n    obtenerPedido(id){\n        this._pedidoService.obtenerPedido(this.token, id, 2). subscribe(\n            response => {\n                if(response){\n                    this.pedido = response.pedido;\n\n                    if(this.pedido.cupon != null){\n                        this.cupon = this.pedido.cupon;\n                    }\n\n                    this.restaurante = response.pedido.restaurante;\n                    this.envio = this.pedido.envio;\n                    this.total = this.pedido.total;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerRestaurante(id){\n        this._restauranteService.obtenerRestaurante(id).subscribe(\n            response => {\n                if(response.restaurante){\n                    this.restaurante = response.restaurante;\n                    this.sacarValores();\n\n                    // if(this.restaurante.servicioDomicilio == false){\n                    //     this.envio = 20;\n                    //     this.sacarValores();\n                    // } else {\n                    //     this.sacarValores();\n                    // }\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n\n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    sacarValores(){\n        let totalPedido = 0;\n        let totalComision = 0;\n        let n = 0;\n        this.pedido.contenido.forEach(element => {\n            totalPedido = element.total + totalPedido;\n            totalComision = (element.comision*100) + (totalComision);\n            n = n + 1;\n\n            if(this.pedido.contenido.length == n){\n                this.total = totalPedido;\n                this.comision = totalComision/100;\n\n                if(this.restaurante.envio[0] >= 0 && !this.restaurante.envio[1]){\n                    this.envio = this.restaurante.envio[0];\n                } else if(this.total >= this.restaurante.envio[1]){\n                    this.envio = this.restaurante.envio[2];\n                    \n                } else if(this.total < this.restaurante.envio[1]){\n                    this.envio = this.restaurante.envio[0];\n                }\n                \n                // this.comision = (this.total / 10 ^ 0);\n                // this.ganancia = this.total - this.comision;\n            }\n        })\n    }\n\n    posicion(object){\n        this.pedidoNew = this.pedido;\n        this.position = (this.pedidoNew.contenido.indexOf(object));\n    }\n\n    eliminarProducto(){\n        this.pedidoNew.contenido.splice(this.position, 1);\n        if(this.pedidoNew.contenido.length == 0){\n            localStorage.removeItem('pedido');\n            localStorage.removeItem('total');\n            this._router.navigate(['/restaurant', this.pedido.restaurante]);\n        } else {\n            let total = JSON.parse(localStorage.getItem('total'));\n            this.total2 = total - 1;\n            this.pedido.cupon = null;\n            this.cupon = 0;\n            this.compraMinima = 0;\n            localStorage.setItem('pedido', JSON.stringify(this.pedidoNew));\n            localStorage.setItem('total', JSON.stringify(this.total2));\n            this.obtenerPedidoLocal();\n        }\n        this.position = null;\n    }\n\n    crearPedido(){\n        // this.pedido.ganancia = this.ganancia;\n\n        this.pedido.envio = this.envio;\n        this.pedido.comision = this.comision;\n        this.pedido.total = this.total;\n\n        this.identity.domicilio = this.pedido.direccion;\n        localStorage.setItem('identity', JSON.stringify(this.identity));\n        \n        this._pedidoService.crearPedido(this.token, this.pedido).subscribe(\n            response => {\n                if(response){\n\n                    if(this.cupon != 0){\n                        this.cuponCompleto.cupones.splice(this.cuponPosicion, 1);\n                        this.actualizarCupon();\n                    }\n\n                    if(this.cupon == 0){\n                        var numero = 1;\n\n                    } else if(this.cupon == 20){\n                        var numero = 2;\n\n                    } else if(this.cupon == 30){\n                        var numero = 3;\n\n                    } else if(this.cupon == 40){\n                        var numero = 4;\n\n                    } else if(this.cupon == 50){\n                        var numero = 5;\n                    }\n\n                    this._statsService.nuevoPedido(numero).subscribe();\n\n                    this._router.navigate(['/gracias', this.restaurante.nombre]);\n                    localStorage.removeItem('pedido');\n                    localStorage.removeItem('total');\n                    this.pedido = null; \n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                if(errorMessage.error.message){\n                    this.error = errorMessage.error.message;\n                }\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    actualizarPedido(pedidoId, status){\n        this._pedidoService.actualizarPedido(this.token, pedidoId, 0, status).subscribe(\n            response => {\n                if(response){\n                    this._router.navigate(['/mis-pedidos']);\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerCupones(){\n        this._cuponService.obtenerCupones(this.token, 1).subscribe(\n            response => {\n                if(response){                    \n\n                    if(response.cupones.length > 0){\n                        response.cupones.forEach(element => {\n                            if(element.cupones.length != 0){\n                                this.cupones.push(element);\n                            }\n                        })\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    usarCupon(cupon, cup){\n        this.cupon = cup;\n        this.pedido.cupon = this.cupon;\n\n        var n = (this.cupones.indexOf(cupon));\n        this.cuponCompleto = this.cupones[n];\n        this.cuponPosicion = (this.cupones[n].cupones.indexOf(this.cupon));\n        this.compraMinima = this.cuponCompleto.compraMinima;\n    }\n\n    actualizarCupon(){\n        this._cuponService.actualizarCupon(this.token, this.cuponCompleto).subscribe(\n            response => {\n                if(response.cupon.cupones.length == 0){\n                    if(this.identity.rol != 'ADMIN'){\n                        this._statsService.cuponExpirado(0).subscribe();\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    whatsApp(tel){\n        window.location.href = 'https://api.whatsapp.com/send?phone=52' + tel + '&text=%C2%A1Hola!%20Soy%20del%20negocio%20' + this.restaurante.nombre;\n    }\n\n    telefono(tel){\n        window.location.href = 'tel:' + tel;\n    }\n\n    supportNotification(){\n        if(!window.Notification){\n            this.support = false;\n            this.notif = false;\n            this.boton = true;\n        } else {\n            this.support = true;\n            if (Notification.permission == 'default'){\n                this.notif = false;\n                this.boton = false;\n            } else {\n                this.notif = true;\n                this.boton = true;\n            }            \n        }\n    }\n\n    notificationRequest(){\n        this.crearPedido();\n        Notification.requestPermission( function(permission){\n            if (permission == 'granted'){\n                console.log('granted');\n            }\n        }).then(e => {\n            this.vapid();\n            this.notif = true;\n            this.boton = true;\n        })\n    }\n\n    vapid(){\n        if(navigator.serviceWorker){\n            const token = this.token;\n            navigator.serviceWorker.getRegistration().then(reg => {\n            \n                this.getPublicKey().then( function(key){       \n                    reg.pushManager.subscribe({\n                        userVisibleOnly: true,\n                        applicationServerKey: key\n                    }).then(res => res.toJSON())\n                    .then(subscription => {\n                        fetch(GLOBAL.url + 'subscribe', {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json', 'Authorization': token},\n                            body: JSON.stringify(subscription)\n                        })\n                        .catch(console.log);\n                    })\n                })\n            })\n        } else {\n            // console.log('no lo soporta');\n        } \n    }\n\n    getPublicKey(){\n        const token = this.token;\n        return fetch(this.url + 'key', {\n            headers: { 'Authorization': token},\n        })\n        .then(res => res.arrayBuffer())\n        // retornar arreglo, pero como un UnitBarray\n        .then(key => new Uint8Array(key));\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom flex-grow-1\">\n                <p class=\"text-center mt-1\">Mi pedido</p>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 50px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                {{error}}\n            </p>\n        </div>\n\n        <div *ngIf=\"restaurante\">    \n            <div class=\"res-nom2 avatar flex-grow-1 mt-1\" *ngIf=\"restaurante.nombre.length < 18\">\n                <p class=\"text-center\"><img src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/><span class=\"pl-3\">{{restaurante.nombre}}</span></p>\n            </div>\n    \n            <div class=\"res-nom-big2 avatar flex-grow-1 mt-1\" *ngIf=\"restaurante.nombre.length >= 18 && restaurante.nombre.length < 22\">\n                <p class=\"text-center\"><img src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/><span class=\"pl-3\">{{restaurante.nombre}}</span></p>\n            </div>\n    \n            <div class=\"res-nom-xbig2 avatar flex-grow-1 mt-1\" *ngIf=\"restaurante.nombre.length >= 22\">\n                <p class=\"text-center\"><img src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/><span class=\"pl-3\">{{restaurante.nombre}}</span></p>\n            </div>\n        </div>\n\n        <div class=\"mt-1\" *ngIf=\"pedido\">\n            <div *ngFor=\"let pedidoProducto of pedido.contenido\" class=\"mb-3\"> \n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <div class=\"row detalle-pedido\">\n                            <p class=\"col-12 text-muted text-center\">{{'Sección: ' + pedidoProducto.seccion}}</p>\n                        </div>\n                        <div class=\"row detalle-pedido\">\n                            <p class=\"ml-1 col-2 text-center\">{{pedidoProducto.cantidad}}</p>\n                            <p class=\"\">{{pedidoProducto.producto}}</p>\n                            <p class=\"detalle-pedido-total flex-grow-1 text-right\">{{'$' + pedidoProducto.total}}</p>\n                        </div>\n\n                        <div class=\"row detalle-ing mt-1 mb-3\" *ngIf=\"pedidoProducto.ingredientes\">\n                            <div class=\"col-2\"></div>\n                            <div class=\"flex-grow-1 ml-1\">\n                                <span class=\"btn-gray\">Detalles:</span>\n                                <div *ngFor=\"let ingrediente of pedidoProducto.ingredientes\">\n                                    <span class=\"pl-3 text-justify producto-ing\">{{'-' + ingrediente}}</span>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class=\"row detalle-pedido\">\n                            <div class=\"pl-4 col-9 text-justify producto-descripcion\"><span *ngIf=\"pedidoProducto.nota\">{{'* ' + pedidoProducto.nota + ' *' }}</span></div>\n                            <a href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\" (click)=\"posicion(pedidoProducto)\">\n                                <i *ngIf=\"productoId == 0\" class=\"pl-1 flex-grow-1 icon-trash fas fa-trash-alt\"></i>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <div id=\"myModal3\" class=\"modal\">\n                    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                        <div class=\"modal-content\">\n                            <div class=\"modal-header\">\n                                <h5 class=\"modal-title\">¿Eliminar producto?</h5>\n                            </div>\n                            <div class=\"modal-footer\">\n                                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"eliminarProducto()\">Si</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <p style=\"height: 5px;\"></p>\n\n        <div *ngIf=\"pedido\">\n            <div class=\"row mt-2\">\n                <p class=\"text flex-grow-1 d-block text-right mr-3\">Costo de envío:<span class=\"detalle-pedido-total ml-3\">{{' ' + '$' + envio}}</span> </p>\n            </div>\n            <div class=\"row\" *ngIf=\"pedido.cupon > 0\">\n                <p class=\"text flex-grow-1 d-block text-right mr-3\"><strong>Subtotal:<span class=\"detalle-pedido-total3 ml-3\">{{' ' + '$' + (total + envio)}}</span></strong></p>\n                <!-- <p class=\"text flex-grow-1 d-block text-right mr-3\">Subtotal:<span class=\"detalle-pedido-total3 ml-3\">{{' ' + '$' + (total + envio)}}</span></p> -->\n            </div>\n            <div class=\"row mb-2\" *ngIf=\"pedido.cupon > 0\">\n                <p class=\"text flex-grow-1 d-block text-right mr-3\">Cupón:<span class=\"detalle-pedido-total3 ml-3\">{{' ' + '- $' + pedido.cupon}}</span> </p>\n            </div>\n            <div class=\"row\" *ngIf=\"restaurante && envio > 0\">\n                <i *ngIf=\"productoId == 0\" class=\"producto-icon far fa-clock col-1 mt-2\"></i>                    \n                <p *ngIf=\"productoId == 0\" class=\"text pl-3 col-4 text-left mt-2\">\n                    <span>{{pedido.status + ' min.'}}</span>\n                    <!-- <span *ngIf=\"pedido.status >= 35\">{{pedido.status + ' min.'}}</span>\n                    <span *ngIf=\"pedido.status < 35\">{{' 35 min.'}}</span> -->\n                </p>\n                <p class=\"text-detalle-pedido flex-grow-1 text-right mr-5\">Total:<span class=\"detalle-pedido-total2\">{{' ' + '$' + (total + envio - cupon)}}</span> </p>\n            </div>\n            <div class=\"row mt-2\" *ngIf=\"restaurante && envio == 0\"> \n                <i *ngIf=\"productoId == 0\" class=\"producto-icon far fa-clock col-1 mt-2\"></i>                    \n                <p *ngIf=\"productoId == 0\" class=\"text pl-3 col-4 text-left mt-2\">{{pedido.status + ' min.'}}</p>\n                <p class=\"text-detalle-pedido flex-grow-1 text-right mr-5\">Total:<span class=\"detalle-pedido-total2\">{{' ' + '$' + (total + envio - cupon)}}</span> </p>\n            </div>\n            \n            <div *ngIf=\"productoId == 0\">\n                <p *ngIf=\"cupones && cupones.length != 0 && restaurante && restaurante.servicioDomicilio == true && pedido.cupon == null\" class=\"text-left ml-3 mb-4\"><button class=\"btn btn-danger btn-orange2 px-4\" href=\"#myModal8\" data-toggle=\"modal\" data-target=\"#myModal8\"><i class=\"fas fa-ticket-alt mr-2\"></i>Usar cupón</button></p>\n                <p *ngIf=\"cupones && cupones.length != 0 && restaurante && restaurante.servicioDomicilio == false\" class=\"text-left ml-3 mb-4 mt-2\">No aceptan cupones.</p>    \n            </div>\n            \n            <div class=\"producto-nota panel panel-default mt-3\">\n                <p class=\"text-center\">Dirección de entrega</p>\n                <input autocomplete=\"off\" type=\"text\" name=\"direccion\" #direccion=\"ngModel\" [(ngModel)]=\"pedido.direccion\" class=\"form-control producto-notabox\" placeholder=\"Escribir dirección...\">\n            </div>\n\n            <!-- <br>\n            \n            <div *ngIf=\"productoId != 0 && pedido.status != 'Completado' && pedido.status != 'Cancelado'\" class=\"text-center\">\n                <button class=\"btn btn-success px-2 my-2\" type=\"submit\" (click)=\"whatsApp(restaurante.telefono)\"><i class=\"text mr-2 pl-1 fab fa-whatsapp\"></i>Contactar a {{restaurante.nombre}}</button>\n            </div>\n            <div *ngIf=\"productoId != 0 && pedido.status != 'Completado' && pedido.status != 'Cancelado'\" class=\"text-center\">\n                <button class=\"btn btn-primary px-2 my-2\" type=\"submit\" (click)=\"telefono(restaurante.telefono)\"><i class=\"text mr-2 pl-1 fas fa-phone-alt\"></i>Llamar a {{restaurante.nombre}}</button>    \n            </div> -->\n            \n            <div *ngIf=\"productoId != 0 && pedido.status != 'Completado' && pedido.status != 'Cancelado'\" class=\"text-center\">\n                <p style=\"height: 20px;\"></p>\n                <hr class=\"mx-3\">\n                <p class=\"text\">¿Estás teniendo algún problema?</p>\n                <a class=\"btn btn-success px-3 text\" href=\"https://api.whatsapp.com/send?phone=523929284097&text=%C2%A1Hola!%20Hice%20un%20pedido%20en%20la%20aplicaci%C3%B3n%20Ralph%20y%20tengo%20un%20problema\"><i class=\"text mr-2 fab fa-whatsapp\"></i>¡Contáctanos!</a>\n            </div>\n    \n            <!-- <div>\n                <p class=\"mt-2 text-muted text-center\">Si te encuentras muy lejos del centro, se te puede cobrar algo extra de envío</p>\n            </div> -->\n        </div>\n        \n        <p style=\"height: 15px;\"></p>\n\n        <!-- <div *ngIf=\"productoId == 0 && restaurante && pedido && envio == 0\"> -->\n        <div *ngIf=\"productoId == 0 && restaurante\">\n            <p *ngIf=\"pedido && (total + envio) < restaurante.pedidoMinimo\" class=\"text-center\"><button class=\"btn btn-danger btn-orange px-4\" href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\"><i class=\"fas fa-check mr-2\"></i>Confirmar pedido</button></p>\n            <p *ngIf=\"pedido && (total + envio) < compraMinima && (total + envio) >= restaurante.pedidoMinimo\" class=\"text-center\"><button class=\"btn btn-danger btn-orange px-4\" href=\"#myModal9\" data-toggle=\"modal\" data-target=\"#myModal9\"><i class=\"fas fa-check mr-2\"></i>Confirmar pedido</button></p>\n            <p *ngIf=\"pedido && pedido.direccion.length == 0 && (total + envio) >= restaurante.pedidoMinimo && (total + envio) >= compraMinima\" class=\"text-center\"><button class=\"btn btn-danger btn-orange px-4\" href=\"#myModal4\" data-toggle=\"modal\" data-target=\"#myModal4\"><i class=\"fas fa-check mr-2\"></i>Confirmar pedido</button></p>\n            <p *ngIf=\"pedido && pedido.direccion.length > 0 && (total + envio) >= restaurante.pedidoMinimo && boton && boton == true && (total + envio) >= compraMinima\" class=\"text-center\"><button class=\"btn btn-danger btn-orange px-4\" href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\"><i class=\"fas fa-check mr-2\"></i>Confirmar pedido</button></p>\n            <p *ngIf=\"pedido && pedido.direccion.length > 0 && (total + envio) >= restaurante.pedidoMinimo && support && support == true && !notif && (total + envio) >= compraMinima\" class=\"text-center\"><button class=\"btn btn-danger btn-orange px-4\" href=\"#myModal5\" data-toggle=\"modal\" data-target=\"#myModal5\"><i class=\"fas fa-check mr-2\"></i>Confirmar pedido</button></p>\n        </div>\n\n        <!-- <div *ngIf=\"productoId == 0 && restaurante && pedido && envio > 0\">\n            <p *ngIf=\"pedido && pedido.direccion.length == 0\" class=\"text-center\"><button class=\"btn btn-success btn-orange px-4\" href=\"#myModal4\" data-toggle=\"modal\" data-target=\"#myModal4\"><i class=\"fas fa-check mr-2\"></i>Confirmar pedido</button></p>\n            <p *ngIf=\"pedido && pedido.direccion.length > 0 && boton && boton == true\" class=\"text-center\"><button class=\"btn btn-success btn-orange px-4\" href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\"><i class=\"fas fa-check mr-2\"></i>Confirmar pedido</button></p>\n            <p *ngIf=\"pedido && pedido.direccion.length > 0 && support && support == true && !notif\" class=\"text-center\"><button class=\"btn btn-success btn-orange px-4\" href=\"#myModal5\" data-toggle=\"modal\" data-target=\"#myModal5\"><i class=\"fas fa-check mr-2\"></i>Confirmar pedido</button></p>\n        </div> -->\n\n        <div id=\"myModal\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Confirmar pedido?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"crearPedido()\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal2\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\" *ngIf=\"restaurante\">\n                        <h5 class=\"modal-title\">El pedido mínimo de este negocio es de ${{restaurante.pedidoMinimo}}</h5>\n                    </div>\n                    <div class=\"modal-footer\" *ngIf=\"productoId == 0\">\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-3\" (click)=\"backClicked()\" data-dismiss=\"modal\">Agregar otro producto</button>\n                        <!-- <button type=\"button\" class=\"btn-modal-success btn btn-primary px-3\" [routerLink]=\"['/restaurant', pedido.restaurante]\" data-dismiss=\"modal\">Agregar otro producto</button> -->\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal4\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Escribe una dirección de entrega</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-3\" data-dismiss=\"modal\">Aceptar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal5\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Te avisamos cuando tu pedido vaya en camino?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\" (click)=\"crearPedido()\">No</button>\n                        <button type=\"button\" class=\"ml-2 btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"notificationRequest()\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <p *ngIf=\"pedido && pedido.status == 'En camino'\" class=\"text-center mt-3\"><button class=\"btn btn-success px-3 mt-1\" href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\"><i class=\"fas fa-check-circle mr-2\"></i>El pedido fue completado</button></p>\n        <!-- <p *ngIf=\"pedido && pedido.status == 'En camino'\" class=\"text-center mt-3\"><button class=\"btn btn-danger px-4\" href=\"#myModal7\" data-toggle=\"modal\" data-target=\"#myModal7\"><i class=\"fas fa-times-circle mr-2\"></i>El pedido fue cancelado</button></p> -->\n\n        <div id=\"myModal6\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Pedido completado?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarPedido(pedido._id, 3)\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div id=\"myModal7\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Pedido cancelado?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarPedido(pedido._id, 4)\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal8\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\" *ngIf=\"cupones && cupones.length > 0\">\n                        <h2 class=\"modal-title mb-3\">Mis cupones</h2>\n\n                        <div *ngFor=\"let cupon of cupones\"> \n                            <div *ngFor=\"let cup of cupon.cupones\"> \n                                <p class=\"my-3\">\n                                    <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4 py-2\" data-dismiss=\"modal\" (click)=\"usarCupon(cupon, cup)\">{{'Cupón ' + cupon.nombre}}<strong class=\"ml-3\">{{'$' + cup}}</strong></button>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal9\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Para usar el cupón, tu pedido debe ser mayor a ${{compraMinima}}</h5>\n                    </div>\n                    <div class=\"modal-footer\" *ngIf=\"pedido\">\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-3\" (click)=\"backClicked()\" data-dismiss=\"modal\">Agregar otro producto</button>\n                        <!-- <button type=\"button\" class=\"btn-modal-success btn btn-primary px-3\" [routerLink]=\"['/restaurant', pedido.restaurante]\" data-dismiss=\"modal\">Agregar otro producto</button> -->\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <p style=\"height: 40px;\"></p>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'politicas',\n    templateUrl: './politicas.component.html',\n    providers: []\n}) \n\nexport class PoliticasComponent implements OnInit{\t\n\n    constructor(\n        private _location: Location\n    ){\n    }\n\n    ngOnInit(){\n    }\n\n    backClicked() {\n        this._location.back();\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\"fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"icono-Ralph navbar-brand\">\n                <img src=\"../../../../assets/icono.png\"/>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 60px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"panel-body1 p-3 m-0\">\n\n            <p class=\"text-center text\"><strong>POLÍTICA DE PRIVACIDAD</strong></p>\n            <p class=\"text-justify\">La presente Política de Privacidad establece los términos en que Ralph usa y protege la información que es proporcionada por sus usuarios al momento de utilizar su aplicación web. Esta compañía está comprometida con la seguridad de los datos de sus usuarios. Cuando le pedimos llenar los campos de información personal con la cual usted pueda ser identificado, lo hacemos asegurando que sólo se empleará de acuerdo con los términos de este documento. Sin embargo esta Política de Privacidad puede cambiar con el tiempo o ser actualizada por lo que le recomendamos y enfatizamos revisar continuamente esta página para asegurarse que está de acuerdo con dichos cambios.</p>\n            \n            <br>\n            <p class=\"text-justify politicas-sub\"><strong>Información que es recogida</strong></p>\n            <p class=\"text-justify\">Nuestra aplicación web recoge la siguiente información personal: </p>\n            <p class=\"text-justify\">En caso de ser un cliente o usuario: Nombre, apellido, información de contacto como correo electrónico o teléfono, municipio y contraseña de acceso.</p>\n            <p class=\"text-justify\">En caso de ser un restaurante o negocio de comida: Los mismos datos que un usuario, y agregando el nombre de su negocio, horario de apertura, domicilio en el que está ubicado y teléfono de servicio.</p>\n            <p class=\"text-justify\">Cuando navegas en nuestra aplicación web, también recibimos de manera automática la dirección de protocolo de internet de tu dispositivo (IP).</p>\n\n            <br>\n            <p class=\"text-justify politicas-sub\"><strong>Uso de la información recogida</strong></p>\n            <p class=\"text-justify\">Nuestra aplicación web emplea la información recogida con el fin de proporcionar el mejor servicio posible, particularmente para mantener un registro de usuarios, de pedidos en caso que aplique, y mejorar nuestro servicio. Al momento de hacer un pedido, se le muestra al restaurante su nombre y apellido, su número de teléfono y la dirección de entrega que usted haya escrito para ese pedido en específico. El teléfono es necesario por si el restaurante necesita comunicarse con usted por alguna situación extraordinaria (como el hecho de que ya no tenga del producto que acaba de hacer el pedido, que la dirección de entrega proporcionada no exista, o cualquier otra situción que el restaurante necesite comunicarle). La información sobre el municipio al que pertenece, es para mostrarle los restaurantes y sus productos que están disponibles en el municipio al cual usted pertenece, y regular el que usted intente hacer pedidos a restaurantes de otros municipios. Su correo electrónico y contraseña fueron necesarios para que usted pudiera iniciar sesión en los dispositivos que usted deseé y no permitir que otra persona que no sabe su correo electrónico y su contraseña, pueda hacer pedidos utilizando sus datos.</p> \n            <p class=\"text-justify\">Si tiene un restaurante, los datos del nombre del restaurante, el horario, la ubicación y todo su menú, serán mostrados a los usuarios para que puedan decidirse a hacer un pedido y/o conocer más sobre su negocio. El teléfono de contacto de su negocio, sólo se le mostrará en algunas ocasiones a los usuarios al momento de hacer un pedido, por cualquier situación en que el cliente necesite comunicarse con usted después de haber realizado su pedido. Nosotros conservamos su información únicamente durante el tiempo que usted mantenga una cuenta creada en nuestra plataforma; en caso de que usted decida eliminar su cuenta de Ralph por cualquier motivo, eliminaremos sus datos de nuestra base de datos.</p>\n            <p class=\"text-justify\">Es posible que sean enviadas notificaciones periódicamente (por medio de notificaciones push, mensajes sms o correo electrónico) con ofertas especiales, nuevos productos y otra información publicitaria que consideremos relevante para usted o que pueda brindarle algún beneficio; estas notificaciones serán enviados a el correo electrónico o teléfono que usted proporcionó y podrán ser cancelados en cualquier momento.</p>\n\n            <br>\n            <p class=\"text-justify politicas-sub\"><strong>Seguridad de sus datos</strong></p>\n            <p class=\"text-justify\">Ralph está altamente comprometido en cumplir con el compromiso de mantener su información segura. Usamos sistemas y técnicas avanzadas y las actualizaremos constantemente, para asegurarnos que no exista ningún acceso no autorizado. Todos los envíos de información a través de la aplicación web es encriptada mediante la tecnología Secure Socket Layer (SSL).</p>\n            <p class=\"text-justify\">Para proteger su información personal, tomamos precauciones razonables y seguimos las mejores prácticas de la industria para asegurarnos de que no haya pérdida de manera inapropiada, mal uso, acceso, divulgación, alteración o destrucción de la misma. Así mismo, debe tener en cuenta que no nos hacemos responsables de cualquier tipo de intersección de una petición que se realice al servidor o algún robo o mal uso de uno de sus datos personales, aunque se le recompensará al usuario afectado con algún cupón o promoción especial y tomaremos acción inmediata para arreglar el problema, aumentar nuestra seguridad y prevenir futuros robos de información por medio de nuestra aplicación web.</p>\n\n            <br>\n            <p class=\"text-justify politicas-sub\"><strong>Uso de Cookies</strong></p>\n            <p class=\"text-justify\">Una cookie se refiere a un fichero que es enviado con la finalidad de solicitar permiso para almacenarse en su ordenador, al aceptar dicho fichero se crea y la cookie sirve entonces para tener información respecto al tráfico web, y también facilita las futuras visitas a una web recurrente. Otra función que tienen las cookies es que con ellas las web pueden reconocerte individualmente y por tanto brindarte el mejor servicio personalizado de su web.</p>\n            <p class=\"text-justify\">Nuestra aplicación web emplea las cookies para poder identificar las páginas que son visitadas y su frecuencia. Esta información es empleada únicamente para análisis estadístico y después la información se elimina de forma permanente. Usted puede eliminar las cookies en cualquier momento desde su ordenador. Sin embargo las cookies ayudan a proporcionar un mejor servicio de los sitios web, éstas no dan acceso a información de su ordenador ni de usted, a menos de que usted así lo quiera y la proporcione directamente. Usted puede aceptar o negar el uso de cookies, sin embargo la mayoría de navegadores aceptan cookies automáticamente, pues sirve para tener un mejor servicio web. También usted puede cambiar la configuración de su ordenador para declinar las cookies. Si se declinan es posible que no pueda utilizar algunos de nuestros servicios.</p>\n\n            <br>\n            <p class=\"text-justify politicas-sub\"><strong>Servicios y enlaces a terceros</strong></p>\n            <p class=\"text-justify\">En general, los proveedores de terceras partes utilizados por nosotros solo recopilarán, usarán y divulgarán tu información en la medida que sea necesaria para que les permita desempeñar los servicios que nos proveen.</p>\n            <p class=\"text-justify\">Esta aplicación web pudiera contener enlaces a otros sitios que pudieran ser de su interés. Una vez que usted de clic en estos enlaces y abandone nuestra página, ya no tenemos control sobre el sitio al que es redirigido y, por lo tanto, no somos responsables de los términos o privacidad ni de la protección de sus datos en esos otros sitios terceros. Dichos sitios están sujetos a sus propias políticas de privacidad por lo cual es recomendable que los consulte para confirmar que usted está de acuerdo con estas.</p>\n\n            <br>\n            <p class=\"text-justify politicas-sub\"><strong>Condiciones de uso</strong></p>\n            <p class=\"text-justify\">Ralph espera ofrecerle el mejor servicio, pero no nos hacemos responsables de si un producto que encargó no es lo que esperaba, si un restaurante no atendió o entregó a tiempo su pedido, si se llegan a hacer pedidos falsos, entre otras cosas, aunque escucharemos todas las quejas y tomaremos acción inmediata para siempre estar mejorando nuestro servicio. Un usuario puede ser penalizado en la aplicación web y prohibirle el que pueda seguir usándola, en caso de que haga uso indebido de la misma. Así mismo, un negocio de comida puede recibir penalizaciones si no está cumpliendo con sus pedidos o con el correcto manejo de la aplicación web. En caso de que suceda esto y/o obtenga 3 penalizaciones, su negocio será dado de baja en la aplicación. Cuando un restaurante pone crédito dentro de la aplicación web, únicamente puede usarlo para que se le descuente de cada uno de los pedidos que le vayan haciendo; en ningún momento puede solicitar un reembolso del dinero que tiene como crédito. En caso de ser dado de baja de Ralph, tampoco podrá recibir ni solicitar un reembolso del dinero que tiene en el crédito.</p>\n\n            <br>\n            <p class=\"text-justify politicas-sub\"><strong>Control de su información personal</strong></p>\n            <p class=\"text-justify\">En cualquier momento usted puede restringir la recopilación o el uso de la información personal que es proporcionada a nuestra aplicación web.  Cada vez que se le solicite rellenar un formulario, como el de crear una cuenta usuario, usted es el que decide llenar esos datos para poder hacer uso de nuestros servicios. En cualquier momento puede solicitar un cambio de información en sus datos personales (como un cambio de su teléfono, cambio de su nombre y apellido, etc), puede solicitar que se elimine su cuenta o solicitar que se le dejen de enviar cualquier tipo de notificaciones. Para solicitar cualquiera de estas cosas, simplemente debes enviarnos un correo con tu petición a ralphaplication@gmail.com; nosotros rápidamente leeremos tu mensaje y tomaremos acción en el asunto, aunque no harémos ningún cambio en tu cuenta sin antes comprobar que en verdad eres tú quien está haciendo la petición.</p>\n            <p class=\"text-justify\">Ralph no venderá, cederá ni distribuirá la información personal que es recopilada sin su consentimiento, salvo que sea requerido por un juez con un orden judicial, si se nos requiere por ley o si haces un uso indebido de la aplicación web, como pedidos falsos, pedidos de broma, estés causando molestias a algún restaurante u otros usuarios, entre otras cosas.</p>\n\n            <br>\n            <p class=\"text-justify politicas-sub\"><strong>Edad de consentimiento</strong></p>\n            <p class=\"text-justify\">Al utilizar este sitio, declaras que tienes al menos la mayoría de edad en tu estado o provincia de residencia y que nos has dado tu consentimiento para permitir que cualquiera de tus dependientes menores use este sitio. Además, te recordamos que si tienes menos de 18 años, siempre debes obtener el permiso de tu padre, madre o tutor legal para usar el servicio.</p>\n\n            <br>\n            <p class=\"text-justify politicas-sub\"><strong>Cambios a esta política de privacidad</strong></p>\n            <p class=\"text-justify\">Nos reservamos el derecho de modificar esta política de privacidad en cualquier momento, así que es recomendable que la estés revisando frecuentemente.  Cambios y aclaraciones entrarán en vigencia inmediatamente después de su publicación en la aplicación web.  Si hacemos cambios materiales a esta política, te notificaremos que ha sido actualizada, para que estés enterado de los cambios se hayan hecho.</p>\n\n            <br>\n            <p class=\"text-justify politicas-sub\"><strong>Preguntas e información de contacto</strong></p>\n            <p class=\"text-justify\">Si quieres: acceder, corregir, enmendar o borrar cualquier información personal que poseamos sobre ti, registrar una queja, o simplemente quieres más información contáctanos a través de nuestro correo ralphaplication@gmail.com</p>\n        </div>\n    </div>\n    <p style=\"height: 20px;\"></p>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\n\n\n@Component({\n    selector: 'premios',\n    templateUrl: './premios.component.html',\n    providers: []\n}) \n\nexport class PremiosComponent implements OnInit{\t\t\t\t\n\n    constructor(){\n\n    }\n\n    ngOnInit(){\n        console.log('component ha sido cargado');\n    }\n}","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {ProductoService} from '../../services/producto.service';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {RestauranteService} from '../../services/restaurante.service';\nimport {StatsService} from '../../services/stats.service';\nimport {Pedido} from '../../models/pedido';\nimport {PedidoProducto} from '../../models/pedidoProducto';\nimport {GLOBAL} from '../../services/global';\nimport {Location} from '@angular/common';\nimport * as $ from 'jquery';\n\n@Component({\n    selector: 'producto',\n    templateUrl: './producto.component.html',\n    providers: [ProductoService, RestauranteService, UsuarioService, StatsService]\n})\n\nexport class ProductoComponent implements OnInit{\t\t\t\t\n    public producto: any;\n    public seccion: any;\n    public restaurante: any;\n    public status: string;\n    public identity;\n    public token;\n    public url: string;\n    public cantidad: number;\n    public productoId: any;\n    public pedido: Pedido;\n    public pedidoProducto: PedidoProducto;\n    public total: number;\n    public loading: boolean;\n    public ingredientes: any;\n    public ingredientes2: any;\n    public ingredientes3: any;\n    public seleccionados: any;\n    public ingPrecio: number;\n    public ingSelec: any;\n    public ingComision: number;\n    public ingObli: any;\n    public ingObli2: number;\n    public ingObli3: boolean;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _productoService: ProductoService,\n        private _usuarioService: UsuarioService,\n        private _restauranteService: RestauranteService,\n        private _statsService: StatsService,\n        private _location: Location\n    ){\n        this.url = GLOBAL.url;\n        this.identity = this._usuarioService.getIdentity();\n        this.token = this._usuarioService.getToken();\n        this.cantidad = 1;\n        this.status = null;\n        this.loading = true;\n        this.pedidoProducto = new PedidoProducto(null,0, \"\", \"\", 0, null,null, null)\n        this.ingredientes = [];\n        this.ingredientes2 = [];\n        this.seleccionados = [];\n        this.ingPrecio = 0;\n        this.ingSelec = [];\n        this.ingObli3 = true;\n    }\n\n    ngOnInit(){\n        this.loadPage();\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                this.productoId = params['id'];\n                this.obtenerProducto(this.productoId);\n            }\n        })\n    }\n\n    obtenerPedidoLocal(){\n        let pedido = JSON.parse(localStorage.getItem('pedido'));\n        let total = JSON.parse(localStorage.getItem('total'));\n\n        if(!pedido){\n            this.pedido = null;\n            this.total = null;\n        }\n\n        if(pedido != \"undefined\" && pedido != null){\n            this.pedido = pedido;\n            this.total = total;\n            if(this.pedido.restaurante != this.restaurante._id){\n                localStorage.removeItem('pedido');\n                localStorage.removeItem('total');\n                this.pedido = null;\n            }\n        } else {\n            this.pedido = null;\n            this.total = null;\n        }\n    }\n\n    backClicked() {\n        // if(this.pedido != null){\n        //     this._router.navigate(['/restaurant', this.producto.restaurante]);\n        // }\n        this._location.back();\n    }\n\n    obtenerProducto(id){\n        this._productoService.obtenerProducto(id).subscribe(\n            response => {\n                if(response){\n                    this.producto = response.producto;\n                    this.obtenerRestaurante(this.producto.restaurante);\n                    this.obtenerSeccion();\n                    this.loading = false;\n\n                    if(this.producto.ingredientes[0]){\n                        this.acomodarIngredientes();\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerRestaurante(id){\n        this._restauranteService.obtenerRestaurante(id).subscribe(\n            response => {\n                if(response.restaurante){\n                    this.restaurante = response.restaurante;\n                    this.obtenerPedidoLocal();\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerSeccion(){\n        this._restauranteService.obtenerSeccion(this.producto.seccion).subscribe(\n            response => {\n                if(response){\n                    this.seccion = response.seccion;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    acomodarIngredientes(){\n        this.producto.ingredientes.forEach(element => {\n            var objeto = [];\n            objeto.push(element.minimo);\n            objeto.push(element.maximo);\n            element.ingredientes.forEach(element => {\n                objeto.push(element[0]);             \n                this.ingredientes2.push(element);\n            });\n            this.ingredientes.push(objeto);\n        })\n\n        setTimeout(() => {\n            var n = 0;\n            this.ingredientes.forEach(element => {\n                if(element[0] == 1){\n                    this.ingredienteUnico(0, n, element[2]);\n                }\n                n = n+1;\n            });\n        },200)\n    }\n\n\n    checkbox(ing){\n        var n = 0;\n        this.ingredientes.forEach(element => {\n            if(element.includes(ing[0])){\n                if(this.ingredientes[n][0] == 1 && this.ingredientes[n][1] == 1){\n                    this.ingredienteUnico(1, n, ing);\n                } else {\n                    this.ingredienteMultiple(n, ing);\n                }\n            }\n            n = n+1;\n        });\n    }\n\n\n    ingredienteUnico(q, n, ing){\n        if(q == 0){\n            this.seleccionados[n] = [];\n            this.seleccionados[n].push(ing);\n            var elemento = [];\n            elemento.push(document.getElementById(this.seleccionados[n]));\n            elemento[0].checked=true;\n            this.agregarIngrediente(1, this.seleccionados[n]);\n\n        } else {\n            var elemento = [];\n            elemento.push(document.getElementById(this.seleccionados[n]));\n            elemento[0].checked=false;\n            this.agregarIngrediente(2, this.seleccionados[n]);\n            this.seleccionados[n] = [];\n            this.seleccionados[n].push(ing[0]);\n            elemento.push(document.getElementById(this.seleccionados[n]));\n            elemento[1].checked=true;\n            this.agregarIngrediente(1, ing);\n        }  \n    } \n\n\n    ingredienteMultiple(n, ing){\n        var elemento2 = [];\n        elemento2.push(document.getElementById(ing[0]))\n        var estado = elemento2[0].checked;\n\n        if(estado == true){\n            if(this.seleccionados[n] != undefined){\n                if(this.seleccionados[n].length < this.ingredientes[n][1]){\n                    this.seleccionados[n].push(ing[0]);\n                    var elemento = [];\n                    elemento.push(document.getElementById(ing[0]));\n                    elemento[0].checked=true;\n                    this.agregarIngrediente(1, ing);\n    \n                } else {\n                    var elemento = [];\n                    elemento.push(document.getElementById(ing[0]));\n                    elemento[0].checked=false;\n                }\n    \n            } else {\n                this.seleccionados[n] = [];\n                this.seleccionados[n].push(ing[0]);\n                this.agregarIngrediente(1, ing);\n            }\n\n        } else if(estado == false){\n            var position = this.seleccionados[n].indexOf(ing[0]);\n            this.seleccionados[n].splice(position, 1);\n            this.agregarIngrediente(2, ing);\n        }\n    }\n\n\n    agregarIngrediente(x, ing){\n        if(!ing[1]){\n            this.ingredientes2.forEach(element => {\n                if(element[0] == ing[0]){\n                    this.modificarTotal(element, x);\n                }\n            });\n        } else {\n            this.modificarTotal(ing, x);\n        }\n    }\n\n\n    modificarTotal(ingrediente, suma){\n        if(suma == 1){\n            this.ingSelec.push(ingrediente);\n            this.ingPrecio = this.ingPrecio + ingrediente[1];\n            \n        } else if(suma == 2){\n            this.ingPrecio = this.ingPrecio - ingrediente[1];\n            var position = this.ingSelec.indexOf(ingrediente);\n            this.ingSelec.splice(position, 1);\n        }\n        this.ingObligatorios();\n    }\n\n\n    ingObligatorios(){\n        this.ingObli = [];\n        this.ingObli2 = 0;\n        this.ingObli3 = false;\n\n        this.producto.ingredientes.forEach(element => {\n            if(element.minimo > 0){\n                var n = 0;\n                this.ingObli2 = this.ingObli2 + 1;\n                element.ingredientes.forEach(element2 => {\n                    if(this.ingSelec.includes(element2) && n == 0){\n                        this.ingObli.push(true);\n                        n = 1;   \n                    }\n                });\n            }\n        });\n        if(this.ingObli2 == this.ingObli.length){\n            this.ingObli3 = true;\n        }\n    }\n    \n    \n    crearPedido(n){\n        if(this.ingSelec[0]){\n            this.ingredientes3 = [];\n            this.ingComision = 0;\n            this.producto.ingredientes.forEach(element => {\n                element.ingredientes.forEach(element2 => {\n                    if(this.ingSelec.includes(element2)){\n                        this.ingComision = this.ingComision + element2[1];\n                        this.ingredientes3.push(element2[0])\n                    }\n                });\n            });\n            this.pedidoProducto.ingredientes = this.ingredientes3;\n            this.ingComision = (this.ingComision*100*this.cantidad)/1000;\n        }\n\n        if(!this.pedidoProducto.nota || this.pedidoProducto.nota.length == 0){\n            this.pedidoProducto.nota = null;\n        }\n        this.pedidoProducto.seccion = this.seccion.nombre;\n        this.pedidoProducto.producto = this.producto.nombre;\n        this.pedidoProducto.cantidad = this.cantidad;\n        this.pedidoProducto._id = this.producto._id;\n        this.pedidoProducto.total = (this.producto.precio * this.cantidad);\n\n        \n        if(this.producto.precio <= 100){ this.pedidoProducto.comision = (this.producto.precio /10 * this.cantidad);\n        } else if(this.producto.precio >= 101 && this.producto.precio <= 115){ this.pedidoProducto.comision = 10 * this.cantidad;\n        } else if(this.producto.precio >= 116 && this.producto.precio <= 130){ this.pedidoProducto.comision = 11 * this.cantidad;\n        } else if(this.producto.precio >= 131 && this.producto.precio <= 150){ this.pedidoProducto.comision = 12 * this.cantidad;\n        } else if(this.producto.precio >= 151 && this.producto.precio <= 175){ this.pedidoProducto.comision = 13 * this.cantidad;\n        } else if(this.producto.precio >= 176 && this.producto.precio <= 200){ this.pedidoProducto.comision = 14 * this.cantidad;\n        } else if(this.producto.precio >= 201 && this.producto.precio <= 225){ this.pedidoProducto.comision = 15 * this.cantidad;\n        } else if(this.producto.precio >= 226 && this.producto.precio <= 250){ this.pedidoProducto.comision = 16 * this.cantidad;\n        } else if(this.producto.precio >= 251 && this.producto.precio <= 275){ this.pedidoProducto.comision = 17 * this.cantidad;\n        } else if(this.producto.precio >= 276 && this.producto.precio <= 300){ this.pedidoProducto.comision = 18 * this.cantidad;\n        } else if(this.producto.precio >= 301 && this.producto.precio <= 333){ this.pedidoProducto.comision = 19 * this.cantidad;\n        } else if(this.producto.precio >= 334 && this.producto.precio <= 366){ this.pedidoProducto.comision = 20 * this.cantidad;\n        } else if(this.producto.precio >= 367 && this.producto.precio <= 400){ this.pedidoProducto.comision = 21 * this.cantidad;\n        } else if(this.producto.precio >= 401 && this.producto.precio <= 433){ this.pedidoProducto.comision = 22 * this.cantidad;\n        } else if(this.producto.precio >= 434 && this.producto.precio <= 466){ this.pedidoProducto.comision = 23 * this.cantidad;\n        } else if(this.producto.precio >= 467 && this.producto.precio <= 500){ this.pedidoProducto.comision = 24 * this.cantidad;\n        } else if(this.producto.precio >= 501 && this.producto.precio <= 533){ this.pedidoProducto.comision = 25 * this.cantidad;\n        } else if(this.producto.precio >= 534 && this.producto.precio <= 566){ this.pedidoProducto.comision = 26 * this.cantidad;\n        } else if(this.producto.precio >= 567 && this.producto.precio <= 600){ this.pedidoProducto.comision = 27 * this.cantidad;\n        } else if(this.producto.precio >= 601 && this.producto.precio <= 633){ this.pedidoProducto.comision = 28 * this.cantidad;\n        } else if(this.producto.precio >= 634 && this.producto.precio <= 666){ this.pedidoProducto.comision = 29 * this.cantidad;\n        } else if(this.producto.precio >= 667){ this.pedidoProducto.comision = 30 * this.cantidad;\n        }\n\n        if(this.ingSelec[0]){\n            this.pedidoProducto.comision = (this.pedidoProducto.comision*100 + this.ingComision*100)/100;\n            this.pedidoProducto.total = ((this.producto.precio * this.cantidad) + this.ingComision*10);\n        }\n\n        if(this.pedido == null){\n            this.total = this.cantidad;\n            var envio;\n            if(this.producto.tiempoEntrega >= 30){\n                envio = this.producto.tiempoEntrega\n            } else {\n                envio = 30\n            }\n            this.pedido = new Pedido(\"\", this.identity._id, this.restaurante._id, \"\", \"\", \"\", [], envio, \"\", null, null);\n            this.pedido.contenido.push(this.pedidoProducto);\n            localStorage.setItem('pedido', JSON.stringify(this.pedido));\n            localStorage.setItem('total', JSON.stringify(this.total));\n            if(this.identity.rol != 'ADMIN'){\n                this._statsService.nuevoPedido(0).subscribe();\n            }\n            \n        } else {\n            if(this.pedido.status < this.producto.tiempoEntrega){\n                this.pedido.status = this.producto.tiempoEntrega;\n            }\n            this.total = this.total + this.cantidad;\n            this.pedido.contenido.push(this.pedidoProducto);\n            localStorage.setItem('pedido', JSON.stringify(this.pedido));\n            localStorage.setItem('total', JSON.stringify(this.total));\n        }\n\n        if(n == 1){\n            this._location.back();\n\n        } else {\n            this._location.back();\n            setTimeout(() => {\n                this._router.navigate(['/pedido/0']);\n            }, 50)\n            // this._location.replaceState('/pedido/0')\n            // window.location.reload()\n        }\n    }\n\n    irPedido(){\n        this._location.back();\n        setTimeout(() => {\n            this._router.navigate(['/pedido/0']);\n        }, 50)\n    }\n\n    minus(){\n        if(this.cantidad > 1){\n            this.cantidad = this.cantidad - 1;\n        }\n    }\n\n    plus(){\n        if(this.cantidad < 10){\n            this.cantidad = this.cantidad + 1;\n        }\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\" *ngIf=\"restaurante\">\n            <div class=\"icon clickable\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>\n            </div>\n\n            <div class=\"col-2 avatar\">\n                <img src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/>\n            </div>\n\n            <div class=\"res-nom d-inline-block mt-1\" *ngIf=\"restaurante.nombre.length < 18\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div class=\"res-nom-big d-inline-block mt-1\" *ngIf=\"restaurante.nombre.length >= 18 && restaurante.nombre.length < 22\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div class=\"res-nom-xbig d-inline-block mt-1\" *ngIf=\"restaurante.nombre.length >= 22\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div *ngIf=\"pedido\" class=\"navbars flex-grow-1\">\n                <!-- <p class=\"text-right clickable\" [routerLink]=\"['/pedido/0']\"> -->\n                <p class=\"text-right clickable\" (click)=\"irPedido()\">\n                    <i class=\"icon fas fa-shopping-basket\"></i>\n                    <span class=\"badge restauranteBadge\">{{total}}</span> \n                </p>\n            </div>\n        </div>\n    </nav>\n\n    <div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\n        Ha ocurrido un error, vuelve a intentarlo.\n    </div>\n\n    <p style=\"height: 50px;\"></p>\n\n    <div class=\"container\" *ngIf=\"producto\">\n        <div class=\"panel-producto border panel panel-default\">\n            <div class=\"img-producto d-block\">\n                <p class=\"text-center\">\n                    <img *ngIf=\"producto && producto.imagen\" class=\"mt-2\" src=\"{{url + 'obtener-imagen-producto/' + producto.imagen}}\">\n                    <img *ngIf=\"restaurante && producto && !producto.imagen\" class=\"mt-2\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\">\n                </p>                   \n            </div>\n\n            <div class=\"row\" style=\"height: 38px\">\n                <p class=\"producto-nombre text-center flex-grow-1\">{{producto.nombre}}</p>\n            </div>\n            <div>\n                <div class=\"row mt-2\"> \n                    <p class=\"px-4 producto-descripcion-big flex-grow-1\">{{producto.descripcion}}</p>\n                </div>\n            </div>\n\n            <hr>\n\n            <div class=\"row mt-2\"> \n                <i class=\"producto-icon far fa-clock col-1\"></i>                    \n                <p class=\"text pl-4 col-4 text-left\">\n                    <span *ngIf=\"producto.tiempoEntrega >= 30\">{{producto.tiempoEntrega + ' min.'}}</span>\n                    <span *ngIf=\"producto.tiempoEntrega < 30\">{{'30 min.'}}</span>\n                </p>\n                <p class=\"producto-precio pr-5 flex-grow-1 text-right\">{{'$' + producto.precio + ' pesos'}}</p>\n            </div>\n        </div>\n        \n        <div *ngIf=\"producto.ingredientes[0]\" class=\"panel-producto border panel panel-default mt-3\">\n            <h5 class=\"ingredientes text-center pt-4\">Ingredientes extras</h5>\n            \n            <div *ngFor=\"let ingrediente of producto.ingredientes\">\n                <hr>\n                <div class=\"text-center mx-2 mt-2 text\">{{ingrediente.titulo}}</div>\n                <div class=\"text-center mx-2 politicas-reg text-muted\" *ngIf=\"ingrediente.minimo != 0\">(Obligatorio, Máx: {{ingrediente.maximo}})</div>\n                <div class=\"text-center mx-2 politicas-reg text-muted\" *ngIf=\"ingrediente.minimo == 0\">(Máx: {{ingrediente.maximo}})</div>\n                <div *ngFor=\"let ing of ingrediente.ingredientes\" class=\"my-2\">\n                    <div class=\"custom-control custom-checkbox ml-4\">\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{ing[0]}}\" value=\"ing[0]\" (click)=\"checkbox(ing)\" />\n                        <label class=\"custom-control-label col-8\" for=\"{{ing[0]}}\">{{ing[0]}}</label>\n                        <label *ngIf=\"ing[1] != 0\" class=\"col-3\" for=\"{{ing[0]}}\">{{'+ $' + ing[1]}}</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"producto-nota panel panel-default mt-4\">\n            <p class=\"ml-2\">Nota <span class=\"text-muted\">(Opcional)</span></p>\n            <textarea autocomplete=\"off\" name=\"nota\" #nota=\"ngModel\" [(ngModel)]=\"pedidoProducto.nota\" class=\"form-control producto-notabox\" placeholder=\"Escribe una nota...\"></textarea>\n        </div>\n    </div>\n\n    <div *ngIf=\"loading\">\n        <p class=\"text-center pt-2\">\n            <img src=\"../../assets/loading.gif\" width=\"20px\">\n        </p>\n    </div>\n\n    <p style=\"height: 60px;\"></p>\n\n    <div id=\"myModal\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">No puedes hacer pedidos a restaurantes que no sean de tu mismo municipio</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\">Aceptar</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal2\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">¿Deseas agregar otro producto o quieres finalizar tu pedido?</h5>\n                </div>\n                <div class=\"modal-footer\" *ngIf=\"restaurante\">\n                    <button type=\"button\" class=\"btn-modal-cancel btn btn-warning mb-2 px-4\" data-dismiss=\"modal\" (click)=\"crearPedido(1)\">Agregar otro</button>\n                    <button type=\"button\" class=\"btn-modal-success btn btn-primary mb-2\" data-dismiss=\"modal\" (click)=\"crearPedido(2)\">Finalizar pedido</button>\n                    <!-- <button type=\"button\" class=\"btn-modal-cancel btn btn-warning mb-2 px-4\" data-dismiss=\"modal\" (click)=\"crearPedido(1)\" [routerLink]=\"['/restaurant', restaurante._id]\">Agregar otro</button>\n                    <button type=\"button\" class=\"btn-modal-success btn btn-primary mb-2\" data-dismiss=\"modal\" (click)=\"crearPedido(2)\" [routerLink]=\"['/pedido/0']\">Finalizar pedido</button> -->\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div id=\"myModal3\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Hay ingredientes obligatorios que no seleccionaste</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\">Aceptar</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal4\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Para poder hacer un pedido en Ralph, debes crear una cuenta o iniciar sesión.</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning mt-2 ml-1\" data-dismiss=\"modal\" [routerLink]=\"['/registro']\">Crear cuenta</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary mt-2\" data-dismiss=\"modal\" [routerLink]=\"['/login']\">Iniciar sesión</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <nav class=\"navbar-bottom navbar-default fixed-bottom border-top\">   \n        <div class=\"row mt-1\">\n            <div class=\"col-6 row\">\n                <div class=\"col-4\" (click)=\"minus()\">\n                    <i class=\"icon-minus fas fa-minus\"></i>\n                </div>\n                <div class=\"col-5\">\n                    <p class=\"text-center number-cantidad\">{{cantidad}}</p>\n                </div>\n                <div class=\"col-2\" (click)=\"plus()\">\n                    <i class=\"icon-plus fas fa-plus\"></i>\n                </div>\n            </div>\n\n            <div *ngIf=\"producto\" class=\"flex-grow-1\">\n                <p class=\"text-right\" *ngIf=\"identity && restaurante\">\n                    <button *ngIf=\"identity.municipio != restaurante.municipio\" class=\"boton-producto btn btn-danger btn-orange2 px-4\" href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\">\n                    <!-- <button class=\"boton-producto btn btn-success px-4\" href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\"> -->\n                        <span>{{'$' + (producto.precio + ingPrecio)*cantidad}}</span>\n                        <span class=\"pl-3\">Ordenar</span>\n                    </button>\n                    <button *ngIf=\"identity.municipio == restaurante.municipio && ingObli3\" class=\"boton-producto btn btn-danger btn-orange2 px-4\" href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\">\n                        <span>{{'$' + (producto.precio + ingPrecio)*cantidad}}</span>\n                        <span class=\"pl-3\">Ordenar</span>\n                    </button>\n                    <button *ngIf=\"identity.municipio == restaurante.municipio && !ingObli3\" class=\"boton-producto btn btn-danger btn-orange2 px-4\" href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\">\n                        <span>{{'$' + (producto.precio + ingPrecio)*cantidad}}</span>\n                        <span class=\"pl-3\">Ordenar</span>\n                    </button>\n                </p>\n                <p class=\"text-right\" *ngIf=\"!identity\">\n                    <button class=\"boton-producto btn btn-danger btn-orange2 px-4\" href=\"#myModal4\" data-toggle=\"modal\" data-target=\"#myModal4\">\n                        <span>{{'$' + (producto.precio + ingPrecio)*cantidad}}</span>\n                        <span class=\"pl-3\">Ordenar</span>\n                    </button>\n                </p>\n            </div>\n        </div>\n    </nav>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {CuponService} from '../../services/cupon.service';\nimport {StatsService} from '../../services/stats.service';\n\n\n@Component({\n    selector: 'redireccionADS',\n    templateUrl: './redireccionADS.component.html',\n    providers: [UsuarioService, CuponService, StatsService]\n}) \n\nexport class RedireccionADSComponent implements OnInit{\t\t\n    public identity: any;\t\n    public token: any;\t\n    public promocion: any;\n    public municipio: any;\n    public campania: any;\n    public tipoAnuncio: any;\n    public numeroAnuncio: any;\n    public usuario: any;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _cuponService: CuponService,\n        private _statsService: StatsService\n    ){\n        this.identity = this._usuarioService.getIdentity();\n        this.token = this._usuarioService.getToken();\n    }\n\n\n    // this.promocion = [ minutos, segundos, volante o cartel, status, municipio];\n\n    // status =>   0 = persona que se le ha ofrecido apenas el cupón y no tiene una cuenta\n    //             1 = persona que ya se le ofreció el cupón Bienvenido o que no lo aprovechó la promoción\n    //             2 = persona que se le ofreció el cupón Bienvenido o que no lo aprovechó y escaneó el codigo QR\n    //             3 = persona que creó su cuenta o que ya la tenía creada y se le debe otorgar su cupón\n    //             4 = persona que ya se le otorgó su cupón\n\n\n\n    ngOnInit(){\n        this.promo('cartel');\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n\n            if(params['campania'] == 'con'){\n                this.campania = 'conversiones';\n\n            } else if(params['campania'] == 'alc'){\n                this.campania = 'alcance';\n            }\n\n\n            if(params['anuncio'].charAt(0) == 'a'){\n                this.tipoAnuncio = 'anuncio';\n\n            } else if(params['anuncio'].charAt(0) == 'h'){\n                this.tipoAnuncio = 'historia';\n            }\n            \n            this.numeroAnuncio = params['anuncio'].charAt(1);\n\n\n            if(params['municipio'] == 'j'){\n                this.municipio = 'jamay';\n\n            } else if(params['municipio'] == 'o'){\n                this.municipio = 'ocotlan';\n            }\n\n            if(this.identity){\n                this.usuario = 1;\n            } else {\n                this.usuario = 0;\n            }\n\n            this._statsService.nuevavisitaFB(this.campania, this.tipoAnuncio, this.numeroAnuncio, this.municipio, this.usuario).subscribe();\n        });\n    }\n    \n\n    promo(params){\n        this.promocion = JSON.parse(localStorage.getItem('promocion'));\n        \n        if(!this.promocion){\n            this.loadPage();\n\n            if(this.identity == null){\n                this.promocion = [15, 0, params, 0, this.municipio];\n                localStorage.setItem('promocion', JSON.stringify(this.promocion));\n                this._statsService.promoCupon(1).subscribe();\n                this._router.navigate(['/']);\n\n            } else {\n                this._cuponService.obtenerCupones(this.token, 2).subscribe(\n                    response => {\n                        if(response.cupones.length == 0){\n                            this.promocion = [0, 0, params, 3, this.municipio];\n                            localStorage.setItem('promocion', JSON.stringify(this.promocion));\n                            this._router.navigate(['/']);\n\n                        } else {\n                            this.promocion = [0, 0, 'otro', 2, this.municipio];\n                            localStorage.setItem('promocion', JSON.stringify(this.promocion));\n                            this._router.navigate(['/']);\n                        }\n                    },\n                    error => {\n                        this._router.navigate(['/']);\n                        var errorMessage = <any>error;\n                        // console.log(errorMessage);\n                    }\n                )\n            }\n\n        } else if(this.promocion[3] && this.promocion[3] == 1){\n            this.promocion[3] = 2;\n            localStorage.setItem('promocion', JSON.stringify(this.promocion));\n            this._router.navigate(['/']);\n            \n        } else {\n            this._router.navigate(['/']);\n        }\n            \n    }\n}","<div></div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport { UniqueSelectionDispatcher } from '@angular/cdk/collections';\n\n\n@Component({\n    selector: 'redireccionLinks',\n    templateUrl: './redireccionLinks.component.html',\n    providers: []\n}) \n\nexport class RedireccionLinksComponent implements OnInit{\t\t\t\t\n    public restauranteID;\n    public productoID;\n    public arreglo;\n    public numero;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n    ){\n        this.restauranteID = null;\n        this.productoID = null;\n        this.numero = 0;\n        // this.arreglo = ['aza','boa','bua','caa','laa','dea','hea','saa','sea','heb','hia','ila','kia','lia','bob','pea','via','toa','goa','lua','mia','paa','yaa','moa','poa','ara','maa','cab','noa','poc','peb','pob','cha','sab','ria','soa','sua','sac','gaa'];\n        // this.arreglo.sort();\n    }\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {     \n            if(params['producto'] != undefined){\n                this.productoID = (params['producto']);\n            }\n            if(params['restaurantID']){\n                this.checkRestID(params['restaurantID']);\n            }\n        })\n    }\n\n\n    checkRestID(restID){\n        if(restID == 'aza'){            this.restauranteID = '5eb4ac7db1739471c9b7b9eb';   \n        } else if(restID == 'boa'){     this.restauranteID = '5ee16b4f06de0d53a656237f';\n        } else if(restID == 'bua'){     this.restauranteID = '5eacb494b1739471c9b7b932';\n        } else if(restID == 'caa'){     this.restauranteID = '5eb45078b1739471c9b7b9da';\n        } else if(restID == 'laa'){     this.restauranteID = '5eebaf97061c8a3bae31d4b3';\n        } else if(restID == 'dea'){     this.restauranteID = '5f728df0572a68632e4593b2';\n        } else if(restID == 'hea'){     this.restauranteID = '5f347ca3d4dc1f4d56422c3a';\n        } else if(restID == 'saa'){     this.restauranteID = '5ee7b6dc06de0d53a65623cd';\n        } else if(restID == 'sea'){     this.restauranteID = '5f511123f4b7b7552579e890';\n        } else if(restID == 'heb'){     this.restauranteID = '5f44605565032c2c0415111e';\n        } else if(restID == 'hia'){     this.restauranteID = '5f3eb8615854ca30757870a2';\n        } else if(restID == 'ila'){     this.restauranteID = '5f3edd605854ca30757870ac';\n        } else if(restID == 'kia'){     this.restauranteID = '5f5bd4e9f5035406152fe9f9';\n        } else if(restID == 'lia'){     this.restauranteID = '5f3490fdd4dc1f4d56422c3d';\n        } else if(restID == 'bob'){     this.restauranteID = '5ebb3c181a1d6a45ec2e81ad';\n        } else if(restID == 'pea'){     this.restauranteID = '5ee39bb506de0d53a65623b3';\n        } else if(restID == 'via'){     this.restauranteID = '5f519a42f4b7b7552579e8b0';\n        } else if(restID == 'toa'){     this.restauranteID = '5eb1fefbb1739471c9b7b9b8';\n        } else if(restID == 'goa'){     this.restauranteID = '5f51772ef4b7b7552579e8a9';\n        } else if(restID == 'lua'){     this.restauranteID = '5f7f5901ef8ae5687d8d6980';\n        } else if(restID == 'mia'){     this.restauranteID = '5f7fc00eef8ae5687d8d6987';\n        } else if(restID == 'paa'){     this.restauranteID = '5f4bd2de2817da1d70987328';\n        } else if(restID == 'yaa'){     this.restauranteID = '5f187d44431e9c4328947b96';\n        } else if(restID == 'moa'){     this.restauranteID = '5efd19285a48f417a322e9f7';\n        } else if(restID == 'poa'){     this.restauranteID = '5eb44150b1739471c9b7b9cf';\n        } else if(restID == 'ara'){     this.restauranteID = '5f35e727d4dc1f4d56422c76';\n        } else if(restID == 'maa'){     this.restauranteID = '5f0368ad4f468f35845ea0d1';\n        } else if(restID == 'cab'){     this.restauranteID = '5ee51ad106de0d53a65623ba';\n        } else if(restID == 'noa'){     this.restauranteID = '5f4419b265032c2c0415111b';\n        } else if(restID == 'poc'){     this.restauranteID = '5eac9667b1739471c9b7b913';\n        } else if(restID == 'peb'){     this.restauranteID = '5f540cfe299fb80b038928db';\n        } else if(restID == 'pob'){     this.restauranteID = '5eb0c638b1739471c9b7b99d';\n        } else if(restID == 'cha'){     this.restauranteID = '5f04ba2a4f468f35845ea0e4';\n        } else if(restID == 'sab'){     this.restauranteID = '5efe49355a48f417a322ea3c';\n        } else if(restID == 'ria'){     this.restauranteID = '5f35cdddd4dc1f4d56422c71';\n        } else if(restID == 'soa'){     this.restauranteID = '5edaa7be0158fd557164144c';\n        } else if(restID == 'sua'){     this.restauranteID = '5f0612faef8bca480c1d22bb';\n        } else if(restID == 'sac'){     this.restauranteID = '5edeb94106de0d53a6562377';\n        } else if(restID == 'gaa'){     this.restauranteID = '5f601388297dfc4fb6698b65';        \n        }\n\n        if(restID == 'boa'){\n            this.redireccion()\n        }\n    }\n\n\n    redireccion(){\n        if(this.productoID){\n            window.history.replaceState(null, '', '/');\n            window.history.pushState(null, '', '/restaurant/' + this.restauranteID);\n            this._router.navigate(['/producto/', this.productoID]);\n\n        } else {\n            window.history.replaceState(null, '', '/');\n            this._router.navigate(['/restaurant', this.restauranteID]);\n        }\n    }\n\n    select(n){\n        this.numero = n;\n    }\n\n    replaceState(){\n        window.history.replaceState(null, '', '/');\n    }\n\n    pushState(){\n        window.history.pushState(null, '', '/restaurant/' + this.restauranteID);\n    }\n\n    navigate(){\n        this._router.navigate(['/producto/', this.productoID]);\n    }\n\n\n    onClick(){\n        var ua = navigator.userAgent || navigator.vendor;\n        if((ua.indexOf(\"FBAN\") > -1) || (ua.indexOf(\"FBAV\") > -1)){\n            alert('true');\n        }\n    }\n\n    getMobileOperatingSystem() {\n        // var userAgent = navigator.userAgent || navigator.vendor;\n      \n        // // Windows Phone must come first because its UA also contains \"Android\"\n        // if (/windows phone/i.test(userAgent)) {\n        // //   return \"Windows Phone\";\n        // alert('Its Windows Phone');\n        // }\n    \n        // if (/android/i.test(userAgent)) {\n        // //   return \"Android\";\n        // alert('Its Android');\n        // }\n    \n        // if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n        // //   return \"iOS\";\n        // alert('Its iOS');\n        // }\n\n        window.addEventListener('appinstalled', (evt) => {\n            console.log(evt);\n            console.log('a2hs installed');\n        });\n    }\n\n\n\n    salirdeFBAndroid(n){\n        if(n == 1){\n            window.location.replace(\"intent:ralph.com.mx/#Intent;scheme=https;package=com.android.chrome;end\");\n        \n        } else if(n == 4){\n            window.location.href = \"intent:ralph.com.mx/#Intent;scheme=https;package=com.android.chrome;end\";\n        \n        }\n    }\n\n\n    telefono(n){\n        if(n == 1){\n            window.location.href = \"tel:3921000573\";\n        \n        } else if(n == 5){\n            window.location.href = \"intent://send?phone=523929284097&text=Hola!%20Hay%20un%20pedido%20nuevo%20en%20la%20app#Intent;package=com.whatsapp;scheme=whatsapp;end\";\n        \n        } else if(n == 6){\n            window.location.href = \"whatsapp://send?phone=523929284097&text=Hola!%20Hay%20un%20pedido%20nuevo%20en%20la%20app\";\n        }\n    }\n\n\n    sms(n){\n        if(n == 1){\n            window.location.href = \"sms:3921000573\";\n        \n        } else if(n == 5){\n            // window.location.href = \"sms:/open?addresses={3921000573},{3929284097},{3929280427},{3921231871}\";\n        \n        } else if(n == 8){\n            window.location.href = \"sms:+523921000573,+523929280427;?body=Hola!%20Mensaje%20de%20prueba\";\n \n        } else if(n == 9){\n            window.location.href = \"sms://+523921000573,+523929280427;?&body=Hello%20World\";\n        \n        }\n    }\n}\n\n\n// https://app.urlgeni.us/\n\n\n\n\n\n\n\n// Los id Ralph se conforman de las 2 primeras letras del nombre del restaurante, y la tercera letra se usa por si el id ya se repitio\n// IDS Ralph de cada restaurant\n    // ara\n    // aza\n    // boa\n    // bob\n    // bua\n    // caa\n    // cab\n    // cha\n    // dea\n    // gaa\n    // goa\n    // hea\n    // heb\n    // hia\n    // ila\n    // kia\n    // laa\n    // lia\n    // lua\n    // maa\n    // mia\n    // moa\n    // noa\n    // paa\n    // pea\n    // peb\n    // poa\n    // pob\n    // poc\n    // ria\n    // saa\n    // sab\n    // sac\n    // sea\n    // soa\n    // sua\n    // toa\n    // via\n    // yaa","<div>    \n    <div class=\"mt-5\">\n\n        <div *ngIf=\"numero == 0\">\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"select(1)\">URLs</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"select(2)\">Sistemas operativos</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"select(3)\">Salir de facebook Android</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"select(4)\">Salir de facebook IOS</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"select(5)\">Telefono</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"select(6)\">Mensajes SMS</button></p>\n        </div>\n\n\n        <div *ngIf=\"numero == 1\">\n            <p class=\"text-center\"><button id=\"link\" class=\"btn btn-primary\" (click)=\"redireccion()\">click</button></p>\n            <p class=\"text-center\"><button id=\"link\" class=\"btn btn-primary\" (click)=\"replaceState()\">replaceState</button></p>\n            <p class=\"text-center\"><button id=\"link\" class=\"btn btn-primary\" (click)=\"pushState()\">pushState</button></p>\n            <p class=\"text-center\"><button id=\"link\" class=\"btn btn-primary\" (click)=\"navigate()\">navigate</button></p>\n        </div>\n\n        \n        <div *ngIf=\"numero == 2\">\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"onClick()\">Are u using FB?</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"getMobileOperatingSystem()\">getMobileOperatingSystem</button></p>\n        </div>\n\n\n        <div *ngIf=\"numero == 3\">\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"salirdeFBAndroid(1)\">Intento 1</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"salirdeFBAndroid(4)\">Intento 4</button></p>\n            <p class=\"text-center\"><a class=\"btn btn-primary px-5 my-2\" href=\"intent://ralph.com.mx#Intent;scheme=https;action=android.intent.action.VIEW;end;\">Intento 7</a></p>\n            <p class=\"text-center\"><a class=\"btn btn-primary px-5 my-2\" href=\"intent://ralph.com.mx#Intent;scheme=https;package=com.android.chrome;end\">Intento 8</a></p>\n        </div>\n\n\n        <div *ngIf=\"numero == 4\">\n            <p class=\"text-center\"><a class=\"btn btn-primary px-5 my-2\" href=\"safari://google.com\">Open Google in Safari 1</a></p>\n            <p class=\"text-center\"><a class=\"btn btn-primary px-5 my-2\" href=\"safari://google.com\" target=\"_blank\">Open Google in Safari 2</a></p>\n            <p class=\"text-center\"><a class=\"btn btn-primary px-5 my-2\" href=\"com-apple-mobilesafari-tab://google.com\">Open Google in Safari 3</a></p>\n            <p class=\"text-center\"><a class=\"btn btn-primary px-5 my-2\" href=\"safari-https://google.com\">Open Google in Safari 4</a></p>\n            <p class=\"text-center\"><a class=\"btn btn-primary px-5 my-2\" href=\"safari://http%3A%2F%2Fgoogle.com\">Open Google in Safari 5</a></p>\n            <p class=\"text-center\"><a class=\"btn btn-primary px-5 my-2\" href=\"safari://http%3A%2F%2Fgoogle.com\" target=\"_blank\">Open Google in Safari 6</a></p>           \n            <p class=\"text-center\"><a class=\"btn btn-primary px-5 my-2\" href=\"googlechrome://google.com\" target=\"_blank\">Open Google in Chrome</a></p>\n        </div>\n\n\n        <div *ngIf=\"numero == 5\">\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"telefono(1)\">Intento 1</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"telefono(5)\">WhatsApp Android</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"telefono(6)\">WhatsApp IOS</button></p>\n        </div>\n\n\n        <div *ngIf=\"numero == 6\">\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"sms(1)\">Intento 1</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"sms(8)\">Intento 8</button></p>\n            <p class=\"text-center\"><button class=\"btn btn-primary px-5 my-2\" (click)=\"sms(9)\">Intento 9</button></p>\n        </div>\n    </div>\n</div>\n\n<div></div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {CuponService} from '../../services/cupon.service';\nimport {StatsService} from '../../services/stats.service';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'redireccionQR',\n    templateUrl: 'redireccionQR.component.html',\n    providers: [UsuarioService, CuponService, StatsService]\n}) \n\nexport class RedireccionQRComponent implements OnInit{\t\t\n    public identity: any;\t\n    public token: any;\t\n    public promocion: any;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _cuponService: CuponService,\n        private _statsService: StatsService,\n        private _location: Location\n    ){\n        this.identity = this._usuarioService.getIdentity();\n        this.token = this._usuarioService.getToken();\n    }\n\n\n    // this.promocion = [ minutos, segundos, volante o cartel, status];\n\n    // status =>   0 = persona que se le ha ofrecido apenas el cupón y no tiene una cuenta\n    //             1 = persona que ya se le ofreció el cupón Bienvenido o que no lo aprovechó la promoción\n    //             2 = persona que se le ofreció el cupón Bienvenido o que no lo aprovechó y escaneó el codigo QR\n    //             3 = persona que creó su cuenta o que ya la tenía creada y se le debe otorgar su cupón\n    //             4 = persona que ya se le otorgó su cupón\n\n\n    ngOnInit(){\n        this.loadPage();\n    }\n    \n    loadPage(){\n        this._route.params.subscribe(params => {     \n            if(params['parametro'] == 'volante' || params['parametro'] == 'cartel' || params['parametro'] == 'oferta'){\n                this.promo(params['parametro']);\n                \n            } else {\n                this._router.navigate(['/']);\n            }        \n        })\n    }\n    \n    promo(params){\n        this.promocion = JSON.parse(localStorage.getItem('promocion'));\n        \n        if(!this.promocion){\n            this._statsService.nuevaVisitaPublicidad(params).subscribe();\n\n            if(this.identity == null){\n                this.promocion = [15, 0, params, 0];\n                localStorage.setItem('promocion', JSON.stringify(this.promocion));\n                this._statsService.promoCupon(1).subscribe();\n                this._router.navigate(['/']);\n\n            } else {\n                this._cuponService.obtenerCupones(this.token, 2).subscribe(\n                    response => {\n                        if(response.cupones.length == 0){\n                            this.promocion = [0, 0, params, 3];\n                            localStorage.setItem('promocion', JSON.stringify(this.promocion));\n                            this._router.navigate(['/']);\n\n                        } else {\n                            this.promocion = [0, 0, 'otro', 2];\n                            localStorage.setItem('promocion', JSON.stringify(this.promocion));\n                            this._router.navigate(['/']);\n                        }\n                    },\n                    error => {\n                        this._router.navigate(['/']);\n                        var errorMessage = <any>error;\n                        // console.log(errorMessage);\n                    }\n                )\n            }\n\n        } else if(this.promocion[3] && this.promocion[3] == 1){\n            this.promocion[3] = 2;\n            localStorage.setItem('promocion', JSON.stringify(this.promocion));\n            this._router.navigate(['/']);\n            \n        } else {\n            this._router.navigate(['/']);\n        }\n            \n    }\n}","<div></div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {Usuario} from '../../models/usuario';\nimport {Municipio} from '../../admin/models/municipio';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {MunicipiosService} from '../../services/municipio.service';\nimport * as $ from 'jquery';\n\nimport { AuthService } from \"angularx-social-login\";\nimport { FacebookLoginProvider, GoogleLoginProvider } from \"angularx-social-login\";\n \n \n@Component({\n    selector: 'register',\n    templateUrl: './register.component.html',\n    providers: [UsuarioService, MunicipiosService]\n})\n\nexport class RegisterComponent implements OnInit{\t\t\t\t\n    public title:string;\n    public usuario: Usuario;\n    public status: string;\n    public municipios: Municipio[];\n    public error: string;\n    public municipio: number;\n    public numero: number;\n    public pedido: any;\n    public promocion: any;\n    public texto:string;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _municipiosService: MunicipiosService,\n        private authService: AuthService\n    ){ \n        this.title = 'Registrate';\n        this.error = null;\n        this.usuario = new Usuario(\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"0\",\"\",\"\");\n        this.numero = 1;\n        this.texto = null;\n    }\n\n    ngOnInit(){\n        this.loadPage();\n        this.obtenerMunicipios();\n        this.obtenerMunicipio();\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    loadPage(){        \n        this.promocion = JSON.parse(localStorage.getItem('promocion'));        \n         \n        if(this.promocion){\n            if(this.promocion[3] == 0){     \n                localStorage.setItem('stop', 'true');\n            }\n            \n            if(this.promocion[3] == 0 || this.promocion[3] == 3){\n                this.texto = '¡Felicidades! Crea una cuenta y obtén tu regalo';\n            }\n        }\n    }\n\n    signInWithFB(): void {\n        this.authService.signIn(FacebookLoginProvider.PROVIDER_ID).then((data) => {\n            this.usuario.correo = data.email;\n            this.usuario.nombre = data.firstName;\n            this.usuario.apellido = data.lastName;\n            this.usuario.plataforma = 'Facebook';\n            this.numero = 2;\n        });\n    } \n    \n    signInWithGoogle(): void {\n        this.authService.signIn(GoogleLoginProvider.PROVIDER_ID).then((data) => {\n            this.usuario.correo = data.email;\n            this.usuario.nombre = data.firstName;\n            this.usuario.apellido = data.lastName;\n            this.usuario.plataforma = 'Google';\n            this.numero = 2;\n        });\n    }\n\n    signInWithRalph(){\n        this.usuario.plataforma = 'Ralph';\n        this.numero = 2;\n    }\n\n\n    obtenerMunicipio(){\n        let municipio = JSON.parse(localStorage.getItem('municipio'));\n\n        if(!municipio){\n            this.municipio = 0;\n        }\n\n        if(municipio != \"undefined\"){\n            this.municipio = municipio;\n        } else {\n            this.municipio = 0;\n        }\n    }\n\n    obtenerMunicipios(){\n        this._municipiosService.obtenerMunicipios().subscribe(\n            response => {\n                this.municipios = response.municipios;\n                this.municipios.splice(2, 1);\n            },\n            error => {\n                var errorMessage = <any>error;\n            }\n        )\n    }\n\n    onSubmit(form){\n        if(this.municipio >= 2){\n            form.reset();\n            this.status = 'error';\n            this.error = 'Ya creaste muchas cuentas diferentes';\n            return\n        }\n\n        this.status = null;\n        this.error = null;\n        if(form._directives[5].model != form._directives[6].model){\n            this.status = 'error';\n            this.error = 'Las contraseñas no son iguales'\n            return\n        } else if(this.usuario.telefono.length < 10){\n            console.log(this.usuario.telefono);\n            this.status = 'error';\n            this.error = 'El teléfono debe ser de 10 dígitos'\n            return\n        } else if(this.usuario.password.length < 6){\n            console.log(this.usuario.password);\n            this.status = 'error';\n            this.error = 'La contraseña debe tener al menos 6 dígitos'\n            return\n        } else {\n            this._usuarioService.register(this.usuario).subscribe(\n                response => {\n                    if(response.usuario && response.usuario._id){\n                        this.municipio = this.municipio + 1;\n                        localStorage.setItem('municipio', JSON.stringify(this.municipio));\n\n                        form.reset();\n                        this._router.navigate(['/verificacion', response.usuario.telefono]);\n\n                        this._usuarioService.codigoVerificacion(response.usuario.telefono).subscribe(\n                            response => {\n                                if(response){\n                                }\n                            },\n                            error => {\n                                var errorMessage = <any>error;\n                                console.log(errorMessage);\n                        \n                                if(errorMessage != null){\n                                    this.status = 'error';\n                                    this.error = 'Ha ocurrido un error';\n                                }\n                            }\n                        )\n\n                    } else {\n                        this.status = 'error';\n                        console.log(response);\n                        this.error = response.message;\n                    }\n                },\n                error => {\n                    this.status = 'error';\n                    var errorMessage = <any>error;\n\n                    if(errorMessage != null){                    \n                        if(errorMessage.error.message){\n                            this.error = errorMessage.error.message;\n                        } else {\n                            this.error = 'Error en el servidor';\n                        }\n                    }         \n                }\n            );\n        }\n    }\n}","<div id=\"login\" style=\"height: 810px;\" *ngIf=\"numero && numero == 1\">    \n    <br> <br>\n        <p class=\"text-center pt-5 mb-3\">\n            <img src=\"../../../assets/logo.png\" width=\"260px\" alt=\"\">\n        </p>\n\n    <div class=\"container pt-3\">\n        <div class=\"panel-body1 py-3 px-2 m-3\">\n            <div class=\"alert alert-danger text-center\" *ngIf=\"status == 'error'\">\n                {{error}}\n            </div>\n            <div class=\"alert alert-success text-center mx-3\" *ngIf=\"texto\">\n                {{texto}}\n            </div>\n            <p class=\"text-center mt-1\"><button (click)=\"signInWithFB()\" class=\"btn btn-primary btn-blue py-2 col-11\"><i class=\"fab fa-facebook-square mr-3 ml-2\"></i>Ingresar con Facebook</button></p>\n      \n            <p class=\"text-center\"><button (click)=\"signInWithGoogle()\" class=\"btn btn-primary btn-red py-2 col-11\"><i class=\"fab fa-google mr-3 ml-2\"></i>Ingresar con Google</button></p>\n          \n            <p class=\"text-center\"><button (click)=\"signInWithRalph()\" class=\"btn btn-outline-secondary btn-gray py-2 col-11\"><i class=\"fas fa-envelope mr-3 ml-2\"></i>Ingresar con correo</button></p>\n        \n            <!-- <p style=\"height: 0px;\"></p> -->\n            <p style=\"height: 1px;\"></p>\n\n            <div>\n                <p class=\"text-center lg-12 mb-0\">\n                    ¿Ya tienes una cuenta? <br>\n                    <a [routerLink]=\"['/login']\">Iniciar sesión</a>\n                </p>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n\n<div id=\"login\" style=\"height: 950px;\" *ngIf=\"numero && numero == 2\">    \n    <br>\n    <p class=\"text-center pt-4 mb-4\">\n        <img src=\"../../../assets/logo.png\" width=\"260px\">\n    </p>\n\n    <div class=\"container\">\n        <div class=\"panel-body1 p-3 m-3\">\n            <div class=\"alert alert-danger text-center\" *ngIf=\"status == 'error'\">\n                {{error}}\n            </div>\n            <div class=\"alert alert-success text-center\" *ngIf=\"texto\">\n                {{texto}}\n            </div>\n            \n            <form autocomplete=\"off\" #registerForm=\"ngForm\" (ngSubmit)=\"onSubmit(registerForm)\" class=\"\">\n                <div class=\"form-group\">\n                    <label>Selecciona tu municipio</label>\n                    <select name=\"municipio\" #municipio=\"ngModel\" [(ngModel)]=\"usuario.municipio\" class=\"custom-select\">\n                        <option value=\"0\">Selecciona tu municipio</option>\n                        <option *ngFor=\"let municipio of municipios\" value=\"{{municipio._id}}\">{{municipio.nombre}}</option>\n                    </select>\n                </div>\n\n                <div class=\"form-group\">\n                    <label class=\"sr-only\">Nombre</label>\n                    <input autocomplete=\"off\" type=\"text\" placeholder=\"Nombre\" name=\"nombre\" #nombre=\"ngModel\" [(ngModel)]=\"usuario.nombre\" class=\"form-control\" required />\n                    <span *ngIf=\"!nombre.valid && nombre.touched\">\n                        El nombre es obligatorio\n                    </span>\n                </div>\n\n                <div class=\"form-group\">\n                    <label class=\"sr-only\">Apellido</label>\n                    <input autocomplete=\"off\" type=\"text\" placeholder=\"Apellido\" name=\"apellido\" #apellido=\"ngModel\" [(ngModel)]=\"usuario.apellido\" class=\"form-control\" required />\n                    <span *ngIf=\"!apellido.valid && apellido.touched\">\n                        El apellido es obligatorio\n                    </span>\n                </div>\n\n                <div class=\"form-group\">\n                    <label class=\"sr-only\">Teléfono</label>\n                    <div class=\"row\">\n                        <span class=\"col-2 mt-2 mx-1\">+52</span>\n                        <input class=\"form-control col-9 ml-1\" maxlength=\"10\" autocomplete=\"off\" type=\"tel\" placeholder=\"Teléfono\" name=\"telefono\" #telefono=\"ngModel\" [(ngModel)]=\"usuario.telefono\" required />    \n                    </div>\n                    <span *ngIf=\"!telefono.valid && telefono.touched\">\n                        El teléfono es obligatorio\n                    </span>\n                </div>\n\n                <div class=\"form-group\">\n                    <label class=\"sr-only\">Correo electrónico</label>\n                    <input autocomplete=\"off\" type=\"email\" placeholder=\"Correo electrónico\" name=\"correo\" #correo=\"ngModel\" [(ngModel)]=\"usuario.correo\" class=\"form-control\" required pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\"/>\n                    <span *ngIf=\"!correo.valid && correo.touched\">\n                        El correo no es valido\n                    </span>\n                </div>\n\n                <div class=\"form-group\">\n                    <label class=\"sr-only\">Contraseña</label>\n                    <input autocomplete=\"off\" type=\"password\" placeholder=\"Contraseña\" name=\"password\" #password=\"ngModel\" [(ngModel)]=\"usuario.password\" class=\"form-control\" required />\n                    <span *ngIf=\"!password.valid && password.touched\">\n                        La contraseña es obligatoria\n                    </span>\n                </div>\n\n                <div class=\"form-group\">\n                    <label class=\"sr-only\">Confirmar contraseña</label>\n                    <input autocomplete=\"off\" type=\"password\" placeholder=\"Confirmar contraseña\" name=\"confirm_password\" #confirm_password=\"ngModel\" [(ngModel)]=\"usuario.confirm_password\" class=\"form-control\" required />\n                    <span *ngIf=\"!password.valid && password.touched\">\n                        La contraseña es obligatoria\n                    </span>\n                </div>\n\n                <p class=\"text-center politicas-reg\">Al hacer clic en \"Registrarse\", aceptas nuestra <u data-toggle=\"modal\" data-target=\"#exampleModalScrollable\" class=\"clickable\">Política de privacidad</u>.</p>\n\n                <p class=\"text-center\">\n                    <input type=\"submit\" class=\"btn-orange text-white mt-2 px-3\" value=\"Registrarse\" [disabled]=\"!registerForm.form.valid\">\n                </p>\n            </form>\n\n            <div>\n                <p class=\"text-center lg-12 mb-0\">\n                    ¿Ya tienes una cuenta? <br>\n                    <a [routerLink]=\"['/login']\">Iniciar sesión</a>\n                </p>\n            </div>\n        </div>\n        \n        <!-- Modal -->\n        <div class=\"modal\" id=\"exampleModalScrollable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalScrollableLabel\" aria-hidden=\"true\">\n            <div class=\"modal-dialog modal-dialog-scrollable\" role=\"document\">\n                <div class=\"modal-content my-4\">\n\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"exampleModalCenteredLabel\"><p class=\"text-center text\"><strong>POLÍTICA DE PRIVACIDAD</strong></p></h5>\n                    </div>\n\n                    <div class=\"modal-body\">\n                        <p class=\"text-justify\">La presente Política de Privacidad establece los términos en que Ralph usa y protege la información que es proporcionada por sus usuarios al momento de utilizar su aplicación web. Esta compañía está comprometida con la seguridad de los datos de sus usuarios. Cuando le pedimos llenar los campos de información personal con la cual usted pueda ser identificado, lo hacemos asegurando que sólo se empleará de acuerdo con los términos de este documento. Sin embargo esta Política de Privacidad puede cambiar con el tiempo o ser actualizada por lo que le recomendamos y enfatizamos revisar continuamente esta página para asegurarse que está de acuerdo con dichos cambios.</p>\n                        \n                        <br>\n                        <p class=\"text-justify politicas-sub\"><strong>Información que es recogida</strong></p>\n                        <p class=\"text-justify\">Nuestra aplicación web recoge la siguiente información personal: </p>\n                        <p class=\"text-justify\">En caso de ser un cliente o usuario: Nombre, apellido, información de contacto como correo electrónico o teléfono, municipio y contraseña de acceso.</p>\n                        <p class=\"text-justify\">En caso de ser un restaurante o negocio de comida: Los mismos datos que un usuario, y agregando el nombre de su negocio, horario de apertura, domicilio en el que está ubicado y teléfono de servicio.</p>\n                        <p class=\"text-justify\">Cuando navegas en nuestra aplicación web, también recibimos de manera automática la dirección de protocolo de internet de tu dispositivo (IP).</p>\n\n                        <br>\n                        <p class=\"text-justify politicas-sub\"><strong>Uso de la información recogida</strong></p>\n                        <p class=\"text-justify\">Nuestra aplicación web emplea la información recogida con el fin de proporcionar el mejor servicio posible, particularmente para mantener un registro de usuarios, de pedidos en caso que aplique, y mejorar nuestro servicio. Al momento de hacer un pedido, se le muestra al restaurante su nombre y apellido, su número de teléfono y la dirección de entrega que usted haya escrito para ese pedido en específico. El teléfono es necesario por si el restaurante necesita comunicarse con usted por alguna situación extraordinaria (como el hecho de que ya no tenga del producto que acaba de hacer el pedido, que la dirección de entrega proporcionada no exista, o cualquier otra situción que el restaurante necesite comunicarle). La información sobre el municipio al que pertenece, es para mostrarle los restaurantes y sus productos que están disponibles en el municipio al cual usted pertenece, y regular el que usted intente hacer pedidos a restaurantes de otros municipios. Su correo electrónico y contraseña fueron necesarios para que usted pudiera iniciar sesión en los dispositivos que usted deseé y no permitir que otra persona que no sabe su correo electrónico y su contraseña, pueda hacer pedidos utilizando sus datos.</p> \n                        <p class=\"text-justify\">Si tiene un restaurante, los datos del nombre del restaurante, el horario, la ubicación y todo su menú, serán mostrados a los usuarios para que puedan decidirse a hacer un pedido y/o conocer más sobre su negocio. El teléfono de contacto de su negocio, sólo se le mostrará en algunas ocasiones a los usuarios al momento de hacer un pedido, por cualquier situación en que el cliente necesite comunicarse con usted después de haber realizado su pedido. Nosotros conservamos su información únicamente durante el tiempo que usted mantenga una cuenta creada en nuestra plataforma; en caso de que usted decida eliminar su cuenta de Ralph por cualquier motivo, eliminaremos sus datos de nuestra base de datos.</p>\n                        <p class=\"text-justify\">Es posible que sean enviadas notificaciones periódicamente (por medio de notificaciones push, mensajes sms o correo electrónico) con ofertas especiales, nuevos productos y otra información publicitaria que consideremos relevante para usted o que pueda brindarle algún beneficio; estas notificaciones serán enviados a el correo electrónico o teléfono que usted proporcionó y podrán ser cancelados en cualquier momento.</p>\n\n                        <br>\n                        <p class=\"text-justify politicas-sub\"><strong>Seguridad de sus datos</strong></p>\n                        <p class=\"text-justify\">Ralph está altamente comprometido en cumplir con el compromiso de mantener su información segura. Usamos sistemas y técnicas avanzadas y las actualizaremos constantemente, para asegurarnos que no exista ningún acceso no autorizado. Todos los envíos de información a través de la aplicación web es encriptada mediante la tecnología Secure Socket Layer (SSL).</p>\n                        <p class=\"text-justify\">Para proteger su información personal, tomamos precauciones razonables y seguimos las mejores prácticas de la industria para asegurarnos de que no haya pérdida de manera inapropiada, mal uso, acceso, divulgación, alteración o destrucción de la misma. Así mismo, debe tener en cuenta que no nos hacemos responsables de cualquier tipo de intersección de una petición que se realice al servidor o algún robo o mal uso de uno de sus datos personales, aunque se le recompensará al usuario afectado con algún cupón o promoción especial y tomaremos acción inmediata para arreglar el problema, aumentar nuestra seguridad y prevenir futuros robos de información por medio de nuestra aplicación web.</p>\n\n                        <br>\n                        <p class=\"text-justify politicas-sub\"><strong>Uso de Cookies</strong></p>\n                        <p class=\"text-justify\">Una cookie se refiere a un fichero que es enviado con la finalidad de solicitar permiso para almacenarse en su ordenador, al aceptar dicho fichero se crea y la cookie sirve entonces para tener información respecto al tráfico web, y también facilita las futuras visitas a una web recurrente. Otra función que tienen las cookies es que con ellas las web pueden reconocerte individualmente y por tanto brindarte el mejor servicio personalizado de su web.</p>\n                        <p class=\"text-justify\">Nuestra aplicación web emplea las cookies para poder identificar las páginas que son visitadas y su frecuencia. Esta información es empleada únicamente para análisis estadístico y después la información se elimina de forma permanente. Usted puede eliminar las cookies en cualquier momento desde su ordenador. Sin embargo las cookies ayudan a proporcionar un mejor servicio de los sitios web, éstas no dan acceso a información de su ordenador ni de usted, a menos de que usted así lo quiera y la proporcione directamente. Usted puede aceptar o negar el uso de cookies, sin embargo la mayoría de navegadores aceptan cookies automáticamente, pues sirve para tener un mejor servicio web. También usted puede cambiar la configuración de su ordenador para declinar las cookies. Si se declinan es posible que no pueda utilizar algunos de nuestros servicios.</p>\n\n                        <br>\n                        <p class=\"text-justify politicas-sub\"><strong>Servicios y enlaces a terceros </strong></p>\n                        <p class=\"text-justify\">En general, los proveedores de terceras partes utilizados por nosotros solo recopilarán, usarán y divulgarán tu información en la medida que sea necesaria para que les permita desempeñar los servicios que nos proveen.</p>\n                        <p class=\"text-justify\">Esta aplicación web pudiera contener enlaces a otros sitios que pudieran ser de su interés. Una vez que usted de clic en estos enlaces y abandone nuestra página, ya no tenemos control sobre el sitio al que es redirigido y, por lo tanto, no somos responsables de los términos o privacidad ni de la protección de sus datos en esos otros sitios terceros. Dichos sitios están sujetos a sus propias políticas de privacidad por lo cual es recomendable que los consulte para confirmar que usted está de acuerdo con estas.</p>\n\n                        <br>\n                        <p class=\"text-justify politicas-sub\"><strong>Condiciones de uso</strong></p>\n                        <p class=\"text-justify\">Ralph espera ofrecerle el mejor servicio, pero no nos hacemos responsables de si un producto que encargó no es lo que esperaba, si un restaurante no atendió o entregó a tiempo su pedido, si se llegan a hacer pedidos falsos, entre otras cosas, aunque escucharemos todas las quejas y tomaremos acción inmediata para siempre estar mejorando nuestro servicio. Un usuario puede ser penalizado en la aplicación web y prohibirle el que pueda seguir usándola, en caso de que haga uso indebido de la misma. Así mismo, un negocio de comida puede recibir penalizaciones si no está cumpliendo con sus pedidos o con el correcto manejo de la aplicación web. En caso de que suceda esto y/o obtenga 3 penalizaciones, su negocio será dado de baja en la aplicación. Cuando un restaurante pone crédito dentro de la aplicación web, únicamente puede usarlo para que se le descuente de cada uno de los pedidos que le vayan haciendo; en ningún momento puede solicitar un reembolso del dinero que tiene como crédito. En caso de ser dado de baja de Ralph, tampoco podrá recibir ni solicitar un reembolso del dinero que tiene en el crédito.</p>\n            \n                        <br>\n                        <p class=\"text-justify politicas-sub\"><strong>Control de su información personal</strong></p>\n                        <p class=\"text-justify\">En cualquier momento usted puede restringir la recopilación o el uso de la información personal que es proporcionada a nuestra aplicación web.  Cada vez que se le solicite rellenar un formulario, como el de crear una cuenta usuario, usted es el que decide llenar esos datos para poder hacer uso de nuestros servicios. En cualquier momento puede solicitar un cambio de información en sus datos personales (como un cambio de su teléfono, cambio de su nombre y apellido, etc), puede solicitar que se elimine su cuenta o solicitar que se le dejen de enviar cualquier tipo de notificaciones. Para solicitar cualquiera de estas cosas, simplemente debes enviarnos un correo con tu petición a ralphaplication@gmail.com; nosotros rápidamente leeremos tu mensaje y tomaremos acción en el asunto, aunque no harémos ningún cambio en tu cuenta sin antes comprobar que en verdad eres tú quien está haciendo la petición.</p>\n                        <p class=\"text-justify\">Ralph no venderá, cederá ni distribuirá la información personal que es recopilada sin su consentimiento, salvo que sea requerido por un juez con un orden judicial, si se nos requiere por ley o si haces un uso indebido de la aplicación web, como pedidos falsos, pedidos de broma, estés causando molestias a algún restaurante u otros usuarios, entre otras cosas.</p>\n\n                        <br>\n                        <p class=\"text-justify politicas-sub\"><strong>Edad de consentimiento</strong></p>\n                        <p class=\"text-justify\">Al utilizar este sitio, declaras que tienes al menos la mayoría de edad en tu estado o provincia de residencia y que nos has dado tu consentimiento para permitir que cualquiera de tus dependientes menores use este sitio. Además, te recordamos que si tienes menos de 18 años, siempre debes obtener el permiso de tu padre, madre o tutor legal para usar el servicio.</p>\n\n                        <br>\n                        <p class=\"text-justify politicas-sub\"><strong>Cambios a esta política de privacidad</strong></p>\n                        <p class=\"text-justify\">Nos reservamos el derecho de modificar esta política de privacidad en cualquier momento, así que es recomendable que la estés revisando frecuentemente.  Cambios y aclaraciones entrarán en vigencia inmediatamente después de su publicación en la aplicación web.  Si hacemos cambios materiales a esta política, te notificaremos que ha sido actualizada, para que estés enterado de los cambios se hayan hecho.</p>\n\n                        <br>\n                        <p class=\"text-justify politicas-sub\"><strong>Preguntas e información de contacto</strong></p>\n                        <p class=\"text-justify\">Si quieres: acceder, corregir, enmendar o borrar cualquier información personal que poseamos sobre ti, registrar una queja, o simplemente quieres más información contáctanos a través de nuestro correo ralphaplication@gmail.com</p>\n\n                    </div>\n\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary px-5\" data-dismiss=\"modal\">Cerrar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {Restaurante} from '../../restaurantes/models/restaurante';\nimport {Seccion} from '../../restaurantes/models/seccion';\nimport {ProductoService} from '../../services/producto.service';\nimport {RestauranteService} from '../../services/restaurante.service';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {StatsService} from '../../services/stats.service';\nimport {MunicipiosService} from '../../services/municipio.service';\nimport {GLOBAL} from '../../services/global';\nimport {Location} from '@angular/common';\nimport * as $ from 'jquery';\n\n\n@Component({\n    selector: 'restaurante',\n    templateUrl: './restaurante.component.html',\n    providers: [ProductoService, RestauranteService, UsuarioService, MunicipiosService, StatsService]\n}) \n\nexport class RestauranteComponent implements OnInit{\t\t\t\t\n    public restaurante: Restaurante;\n    public secciones: Seccion[];\n    public productos: any;\n    public status: string;\n    public identity;\n    public token;\n    public url: string;\n    public peticion: any;\n    public page: number;\n    public pages: number;\n    public total: number;\n    public loading: boolean;\n    public load: boolean;\n    public id: any;\n    public pedido: boolean;\n    public cerrado: any;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _productoService: ProductoService,\n        private _restauranteService: RestauranteService,\n        private _usuarioService: UsuarioService,\n        private _municipiosService: MunicipiosService,\n        private _statsService: StatsService,\n        private _location: Location\n    ){\n        this.url = GLOBAL.url;\n        this.productos = [];\n        this.page = 1;\n        this.status = null;\n        this.loading = true;\n        this.identity = this._usuarioService.getIdentity();\n        this.token = this._usuarioService.getToken();\n     }\n\n\n    ngOnInit(){\n        this.loadPage();\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                this.id = params['id'];\n                this.obtenerRestaurante(this.id);\n                this.obtenerSecciones(this.id, this.page);\n            }\n        })\n    }\n\n    obtenerPedido(){\n        let pedido = JSON.parse(localStorage.getItem('pedido'));\n        let total = JSON.parse(localStorage.getItem('total'));\n\n        if(!pedido){\n            this.pedido = false;\n            this.total = null;\n        }\n\n        if(pedido != \"undefined\" && pedido != null){\n            this.pedido = true;\n            this.total = total;\n            if(pedido.restaurante != this.restaurante._id){\n                localStorage.removeItem('pedido');\n                localStorage.removeItem('total');\n                this.pedido = false;\n            }\n        }\n    }\n\n    backClicked() {\n        // this._router.navigate(['/']);\n        this._location.back();\n    }\n\n    borrarPedido(){\n        localStorage.removeItem('pedido');\n        localStorage.removeItem('total');\n        this.pedido = false;\n        this._location.back();\n    }\n\n    onScroll(){\n        this.page += 1;\n        \n        if(this.page == this.pages+1){\n            this.loading = false;\n        } else {\n            this.loading = true;\n            this.obtenerSecciones(this.id, this.page, true);\n        }\n    }\n\n    obtenerRestaurante(id){\n        this._restauranteService.obtenerRestaurante(id).subscribe(\n            response => {\n                if(response.restaurante){\n                    this.restaurante = response.restaurante;\n                    this.obtenerHorario();\n                    this.obtenerPedido();\n                    this.nuevaVisitaRestaurante(this.restaurante._id);\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerHorario(){\n        this._restauranteService.obtenerHorario(this.token, this.restaurante._id).subscribe(\n            response => {\n                if(response){\n                    if(response.horario[0]){\n                        this.restaurante.horario = [];\n                        var dia = response.dia;\n\n                        if(response.horario[0] && response.horario[0].apertura[dia]){\n                            var horarioApertura = response.horario[0].apertura[dia];\n                            var horarioCierre = response.horario[0].cierre[dia];\n                            \n                            var aperturaAM = ' am';\n                            var cierreAM = ' am';\n                            var aperturaMedia = ':00';\n                            var cierreMedia = ':00';\n        \n                            if(horarioApertura >= 12){\n                                aperturaAM = ' pm';\n                            }\n                            if(horarioApertura.toString().length >=3){\n                                aperturaMedia = ':30';\n                                horarioApertura = horarioApertura.toString().slice(0, - 2);\n                            }\n                            if(horarioApertura > 12){\n                                horarioApertura = horarioApertura - 12;\n                            }\n                            \n                            if(horarioCierre >= 12){\n                                cierreAM = ' pm';\n                            }\n                            if(horarioCierre.toString().length >=3){\n                                cierreMedia = ':30';\n                                horarioCierre = horarioCierre.toString().slice(0, - 2);\n                            }\n                            if(horarioCierre > 12){\n                                horarioCierre = horarioCierre - 12;\n                            }\n                            \n                            this.restaurante.horario[0] = horarioApertura + aperturaMedia + aperturaAM;\n                            this.restaurante.horario[1] = horarioCierre + cierreMedia + cierreAM;\n                            this.load = true;\n\n                            if(response.horario[1] && response.horario[1].apertura[dia]){\n                                var horarioApertura2 = response.horario[1].apertura[dia];\n                                var horarioCierre2 = response.horario[1].cierre[dia];\n                                \n                                var aperturaAM2 = ' am';\n                                var cierreAM2 = ' am';\n                                var aperturaMedia2 = ':00';\n                                var cierreMedia2 = ':00';\n            \n                                if(horarioApertura2 >= 12){\n                                    aperturaAM2 = ' pm';\n                                }\n                                if(horarioApertura2.toString().length >=3){\n                                    aperturaMedia2 = ':30';\n                                    horarioApertura2 = horarioApertura2.toString().slice(0, - 2);\n                                }\n                                if(horarioApertura2 > 12){\n                                    horarioApertura2 = horarioApertura2 - 12;\n                                }\n                                \n                                if(horarioCierre2 >= 12){\n                                    cierreAM2 = ' pm';\n                                }\n                                if(horarioCierre2.toString().length >=3){\n                                    cierreMedia2 = ':30';\n                                    horarioCierre2 = horarioCierre2.toString().slice(0, - 2);\n                                }\n                                if(horarioCierre2 > 12){\n                                    horarioCierre2 = horarioCierre2 - 12;\n                                }\n                                \n                                this.restaurante.horario[2] = horarioApertura2 + aperturaMedia2 + aperturaAM2;\n                                this.restaurante.horario[3] = horarioCierre2 + cierreMedia2 + cierreAM2;\n                            }\n                        } else {\n                            var diasSemana = ['domingos', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábados']\n                            this.cerrado = 'Cerrado los ' + diasSemana[dia];\n                            this.load = true;\n                        }\n                    } else {\n                        this.load = true;\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    nuevaVisitaRestaurante(restauranteId){\n        this._statsService.nuevaVisitaRestaurante(restauranteId).subscribe();\n    }\n\n    obtenerSecciones(id, page, adding = false){\n        this._restauranteService.obtenerSecciones(id, page, 0).subscribe(\n            response => {\n                if(response.secciones){\n                    this.pages = response.pages;\n\n                    response.secciones.forEach(element => {\n                        this.obtenerProductos(element._id, 1);\n                    });\n\n                    if(!adding){\n                        this.secciones = response.secciones;\n                        this.loading = false;\n                    } else {\n                        var arrayA = this.secciones;\n                        var arrayB = response.secciones;\n                        this.secciones = arrayA.concat(arrayB);\n                        this.loading = false;\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerProductos(seccionId, page){\n        this.peticion = '0/0/' + seccionId + '/0';\n        this._productoService.obtenerProductos(this.peticion, page).subscribe(\n            response => {\n                if(response.productos){\n                    response.productos.forEach(element => {\n                        this.productos.push(element);\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n\n\n\n\n\n\n\n    \n    // public productos2;\n    // public productosTop;\n    \n    // aaaa1(){\n    //     this.productos2 = [];\n    //     this.productos.forEach(element => {\n    //         if(element.seccion == \"5f7753f6c0671450941c3fe0\" || element.seccion == \"5f775682c0671450941c3fe3\" || element.seccion == \"5f7767e5c0671450941c3ff2\" || element.seccion == \"5f81bdb83991a5574c972cbd\"){\n    //             this.productos2.push(element);\n    //         }\n    //     });\n    // }\n\n\n    // aaaa(){\n    //     this.productosTop = [];\n\n    //     this.productos2.forEach(element => {\n    //         element.ingredientes.forEach(element2 => {\n    //             if(element2.titulo == 'Toppings'){ \n    //                 element2.ingredientes.forEach(element3 => {\n    //                     if(element3[0] == \"Almendra\" || element3[0] ==\"Nuez\" || element3[0] == \"Mermelada\"){\n    //                         element3[1] = 6;\n    //                         console.log(element3);\n    //                     }\n    //                 });\n\n    //                 this.productosTop.push(element)\n    //             }\n    //         });\n    //     });\n\n    //     console.log(this.productosTop);\n    // }\n\n    // aaaa2(){\n    //     var n = 0\n    //     var aaaaaaa = setInterval(() => {\n    //         this.actuaaaalizarProd(this.productosTop[n])\n            \n    //         if(n == this.productosTop.length){\n    //             clearInterval(aaaaaaa)\n    //             console.log(n);\n    //             console.log('ya');\n    //         }\n            \n    //         n = n + 1;\n\n    //     }, 5000)\n    // }\n\n\n    // // hacerlo desde la cuenta rafachido, y ponerme que soy de DelMich\n    // actuaaaalizarProd(producto){\n    //     this._productoService.actualizarproducto(this.token, this.restaurante._id, producto).subscribe(\n    //         response => {\n    //             if(response){\n    //                 console.log(response);                    \n    //             }\n    //         },\n    //         error => {\n    //             var errorMessage = <any>error;\n    //             console.log(errorMessage);\n        \n    //             if(errorMessage != null){\n    //                 this.status = 'error';\n    //             }\n    //         }\n    //     )\n    // }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 clickable\" style=\"height: 40px\" *ngIf=\"restaurante\">\n            <div class=\"icon\" *ngIf=\"pedido == false\" (click)=\"backClicked()\"> \n                <i class=\"fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"icon clickable\" *ngIf=\"pedido == true\" href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\"> \n                <i class=\"fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"col-2 avatar\">\n                <img src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/>\n            </div>\n\n            <div class=\"res-nom d-inline-block mt-1\" *ngIf=\"restaurante.nombre.length < 18\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div class=\"res-nom-big d-inline-block mt-1\" *ngIf=\"restaurante.nombre.length >= 18 && restaurante.nombre.length < 22\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div class=\"res-nom-xbig d-inline-block mt-1\" *ngIf=\"restaurante.nombre.length >= 22\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div *ngIf=\"pedido\" class=\"navbars flex-grow-1\">\n                <p class=\"text-right\" [routerLink]=\"['/pedido/0']\">\n                    <i class=\"icon fas fa-shopping-basket\"></i>\n                    <span class=\"badge restauranteBadge\">{{total}}</span> \n                </p>\n            </div>\n        </div>\n    </nav>\n\n    <!-- <button style=\"height: 140px\" (click)=\"aaaa1()\">asdfasdfa1</button>\n    <button style=\"height: 140px\" (click)=\"aaaa()\">asdfasdfa</button>\n    <button style=\"height: 140px\" (click)=\"aaaa2()\">asdfasdfa2</button> -->\n\n    <div id=\"myModal2\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Si abandonas la página, se cancelará tu pedido.</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\" (click)=\"borrarPedido()\">Salir</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" [routerLink]=\"['/pedido/0']\">Finalizar pedido</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\n        Ha ocurrido un error, vuelve a intentarlo.\n    </div>\n    \n    <div *ngIf=\"restaurante\">\n        <div class=\"info container d-block mt-2\" style=\"height: 140px\">            \n            <div class=\"row\" style=\"height: 40px\" *ngIf=\"!restaurante.horario[3]\"> \n                <i class=\"icon far fa-clock col-1\"></i>                    \n                <p class=\"pl-4 text col-3\">\n                    Horario:\n                </p>\n                <p *ngIf=\"!cerrado && load\" class=\"text flex-grow-1 text-right pr-3\">{{restaurante.horario[0] + ' - ' + restaurante.horario[1]}}</p>\n                <p *ngIf=\"cerrado && load\" class=\"text flex-grow-1 text-right pr-3\">{{cerrado}}</p>\n            </div>\n\n            <div *ngIf=\"!cerrado\">\n                <div class=\"row\" style=\"height: 28px\" *ngIf=\"restaurante.horario[3]\"> \n                    <i class=\"icon far fa-clock col-1 pt-2\"></i>                    \n                    <p class=\"pl-4 pt-2 text col-3\">\n                        Horario:\n                    </p>\n                    <p *ngIf=\"load\" class=\"text2 flex-grow-1 text-right pr-3\">{{restaurante.horario[0] + ' - ' + restaurante.horario[1]}}</p>\n                </div>\n    \n                <div class=\"row\" style=\"height: 35px\" *ngIf=\"restaurante.horario[3]\"> \n                    <p *ngIf=\"load\" class=\"text2 flex-grow-1 text-right pr-3\">{{restaurante.horario[2] + ' - ' + restaurante.horario[3]}}</p>\n                </div>\n            </div>\n\n            <div class=\"row\" style=\"height: 38px\"> \n                <i class=\"icon fa fa-map-marker-alt col-1\"></i>                    \n                <p class=\"pl-4 text col-3\">\n                    Ubicación:\n                </p>\n                <p class=\"text flex-grow-1 text-right pr-3\">{{restaurante.ubicacion[0] + ' #' + restaurante.ubicacion[1]}}</p>\n            </div>\n            \n            <div class=\"mt-1\">\n                <h5>\n                    <span *ngIf=\"restaurante.status == 'inactivo'\" class=\"badge badge-danger mr-2 ml-4\">Cerrado</span>\n\n                    <div *ngIf=\"restaurante.envio && restaurante.status == 'activo'\">\n                        <div *ngIf=\"restaurante.envio[0] || restaurante.envio[0] == 0\">\n                            <span *ngIf=\"restaurante.envio[0] == 0 && !restaurante.envio[1]\" class=\"badge badge-success ml-4\">Envío gratis</span>\n                            <span *ngIf=\"restaurante.envio[0] != 0 && !restaurante.envio[1]\" class=\"badge badge-primary ml-4\">Envío a <strong>${{restaurante.envio[0]}}</strong> pesos</span>\n                            <span *ngIf=\"restaurante.envio[1] && restaurante.envio[2] == 0\" class=\"badge badge-primary ml-1\">Envío a ${{restaurante.envio[0]}} pesos</span>\n                            <span *ngIf=\"restaurante.envio[1] && restaurante.envio[2] == 0\" class=\"badge badge-success ml-1 mt-2\">Envío gratis en pedidos mayores a ${{restaurante.envio[1]}}</span>\n                            <span *ngIf=\"restaurante.envio[1] && restaurante.envio[2] != 0\" class=\"badge badge-primary ml-1\">Envío a ${{restaurante.envio[0]}} pesos</span>\n                            <span *ngIf=\"restaurante.envio[1] && restaurante.envio[2] != 0\" class=\"badge badge-success ml-1 mt-2\">Envío a <strong>${{restaurante.envio[2]}}</strong> en pedidos mayores a ${{restaurante.envio[1]}}</span>\n                        </div>\n                    </div>\n                </h5>\n            </div>\n\n            <!-- <div class=\"mt-1 ml-3\" *ngIf=\"restaurante.servicioDomicilio == false\">\n                <h5>\n                    <span *ngIf=\"restaurante.status == 'inactivo'\" class=\"badge badge-danger mr-2\">Cerrado</span>\n                    <span class=\"badge badge-primary\">No acepta cupones</span>\n                </h5>\n            </div> -->\n        </div>\n\n        <!-- <p *ngIf=\"restaurante.servicioDomicilio == false || restaurante.status == 'inactivo'\" style=\"height: 25px;\"></p> -->\n        <div *ngIf=\"restaurante.envio && restaurante.status == 'activo'\">\n            <p *ngIf=\"restaurante.envio[0] >= 0 && !restaurante.envio[1]\" style=\"height: 25px;\"></p>\n            <p *ngIf=\"restaurante.envio[1] >= 0\" style=\"height: 55px;\"></p>\n        </div>\n\n        <div *ngIf=\"restaurante.status == 'inactivo'\">\n            <p style=\"height: 25px;\"></p>\n        </div>\n\n        <p *ngIf=\"restaurante.horario[3]\" style=\"height: 8px;\"></p>\n\n    </div>\n\n    <div *ngIf=\"restaurante\" class=\"mt-2\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n        <div *ngFor=\"let seccion of secciones\" class=\"mb-4\" style=\"height: 250px;\"> \n            <div class=\"border-top\" style=\"height: 20%;\">\n                <p class=\"subtitle\">{{seccion.nombre}}</p>\n            </div>\n\n            <div class=\"scrolling-wrapper mx-1\">\n                <div *ngFor=\"let producto of productos\" class=\"cards\">\n                    <a *ngIf=\"identity != null && restaurante.status == 'activo'\" [routerLink]=\"['/producto/', producto._id]\">\n                        <div class=\"card-deck\" *ngIf=\"producto.seccion == seccion._id\">\n                            <div class=\"card mx-1\" style=\"width: 250px; height: 250px;\">\n                                <div class=\"card-img-overlay d-inline\">\n                                    <p class=\"card-tiempo flex-grow-1 text-center\">\n                                        <i class=\"far fa-clock\"></i>\n                                        <span *ngIf=\"producto.tiempoEntrega >= 30\">{{' ' + producto.tiempoEntrega + ' min'}}</span>\n                                        <span *ngIf=\"producto.tiempoEntrega < 30\">{{' 30 min'}}</span>\n                                    </p>\n                                </div>\n                            \n                                <img *ngIf=\"producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-producto/' + producto.imagen}}\">\n                                <img *ngIf=\"!producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\">\n                                <div class=\"card-img-overlay d-flex\">\n                                    <p style=\"height: 35px;\" class=\"card-nombre col-10 text-left\">{{producto.nombre}}</p>\n                                    <p style=\"height: 35px;\" class=\"card-precio flex-grow-1 text-center\">{{'$' + producto.precio}}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </a>\n                    <a *ngIf=\"identity == null && restaurante.status == 'activo'\" href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\">\n                        <div class=\"card-deck\" *ngIf=\"producto.seccion == seccion._id\">\n                            <div class=\"card mx-1\" style=\"width: 250px; height: 250px;\">\n                                <div class=\"card-img-overlay d-inline\">\n                                    <p class=\"card-tiempo flex-grow-1 text-center\">\n                                        <i class=\"far fa-clock\"></i>\n                                        <span *ngIf=\"producto.tiempoEntrega >= 30\">{{' ' + producto.tiempoEntrega + ' min'}}</span>\n                                        <span *ngIf=\"producto.tiempoEntrega < 30\">{{' 30 min'}}</span>\n                                    </p>\n                                </div>\n                            \n                                <img *ngIf=\"producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-producto/' + producto.imagen}}\">\n                                <img *ngIf=\"!producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\">\n                                <div class=\"card-img-overlay d-flex\">\n                                    <p style=\"height: 35px;\" class=\"card-nombre col-10 text-left\">{{producto.nombre}}</p>\n                                    <p style=\"height: 35px;\" class=\"card-precio flex-grow-1 text-center\">{{'$' + producto.precio}}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </a>\n                    <a *ngIf=\"restaurante.status == 'inactivo'\" href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\" role=\"button\">\n                        <div class=\"card-deck\" *ngIf=\"producto.seccion == seccion._id\">\n                            <div class=\"card mx-1\" style=\"width: 250px; height: 250px;\">\n                                <div class=\"card-img-overlay d-inline\">\n                                    <p class=\"card-tiempo flex-grow-1 text-center\">\n                                        <i class=\"far fa-clock\"></i>\n                                        <span *ngIf=\"producto.tiempoEntrega >= 30\">{{' ' + producto.tiempoEntrega + ' min'}}</span>\n                                        <span *ngIf=\"producto.tiempoEntrega < 30\">{{' 30 min'}}</span>\n                                    </p>\n                                </div>\n                            \n                                <img *ngIf=\"producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-producto/' + producto.imagen}}\">\n                                <img *ngIf=\"!producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\">\n                                <div class=\"card-img-overlay d-flex\">\n                                    <p style=\"height: 35px;\" class=\"card-nombre col-10 text-left\">{{producto.nombre}}</p>\n                                    <p style=\"height: 35px;\" class=\"card-precio flex-grow-1 text-center\">{{'$' + producto.precio}}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </a>\n                </div> \n            </div>\n            <div id=\"myModal\" class=\"modal\">\n                <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Para poder hacer un pedido en Ralph, debes crear una cuenta o iniciar sesión.</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\" [routerLink]=\"['/registro']\">Crear cuenta</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" [routerLink]=\"['/login']\">Iniciar sesión</button>\n                    </div>\n                </div>\n                </div>\n            </div>\n        </div>\n        <div id=\"myModal3\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Este restaurante se encuentra cerrado</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\">Aceptar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div *ngIf=\"loading\">\n            <p class=\"text-center pt-2\">\n                <img src=\"../../assets/loading.gif\" width=\"20px\">\n            </p>\n        </div>\n        <p style=\"height: 10px;\"></p>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {PedidoProducto} from '../../models/pedidoProducto';\n\n\n@Component({\n    selector: 'verificacion',\n    templateUrl: './verificacion.component.html',\n    providers: [UsuarioService]\n}) \n\nexport class VerificacionComponent implements OnInit{\t\t\t\t\n    public tel: number;\n    public codigo: number;\n    public status: string;\n    public error: string;\n    public pedidoProducto: PedidoProducto;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService\n    ){\n        this.pedidoProducto = new PedidoProducto(null,null,\"\",\"\",null,\"\",null, null)\n    }\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['tel']){ \n                this.tel = params['tel'];\n            }\n        })\n    }\n\n    verificarTelefono(form){\n        if(this.pedidoProducto.nota.length < 6){\n            this.status = 'error';\n            this.error = 'El código de verificación debe ser de 6 dígitos';\n            return\n        } else {\n            this.status = null;\n        this._usuarioService.verificarTelefono(this.tel, this.pedidoProducto.nota).subscribe(\n            response => {\n                if(response.status == \"approved\"){\n                    form.reset();\n                    this._router.navigate(['/login']);\n                } else {\n                    this.status = 'error';\n                    this.error = 'El código es incorrecto';\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                    this.error = 'Ha ocurrido un error'\n                }\n            }\n        )\n        }\n    }\n}","<div id=\"login\" style=\"height: 800px;\">    \n    <br>\n    <p class=\"text-center pt-5 mb-5\">\n        <img src=\"../../../assets/logo.png\" width=\"260px\" alt=\"\">\n    </p>\n\n    <div class=\"container\">\n        <div class=\"panel-body1 p-3 m-3\">\n            <div class=\"alert alert-danger text-center\" *ngIf=\"status == 'error'\">\n                {{error}}\n            </div>\n            \n            <p class=\"text-center\">Hemos enviado un código de verificación al teléfono <strong>{{tel}}</strong>. Escribe ese código.</p>\n            <p class=\"text-muted text-center\">Esto puede demorar unos minutos</p>\n            <form autocomplete=\"off\" #form=\"ngForm\" (ngSubmit)=\"verificarTelefono(form)\" class=\"\">\n\n                <div class=\"form-group\">\n                    <label class=\"sr-only\">Código de verificación</label>\n                    <input autocomplete=\"off\" maxlength=\"6\" type=\"tel\" placeholder=\"Código de verificación\" name=\"nota\" #nota=\"ngModel\" [(ngModel)]=\"pedidoProducto.nota\" class=\"form-control\" required />\n                    <span *ngIf=\"!nota.valid && nota.touched\">\n                        El código de verificación es obligatorio\n                    </span>\n                </div>\n\n                <p class=\"text-center\">\n                    <input type=\"submit\" class=\"btn-orange text-white mt-2 px-3\" value=\"Enviar\" [disabled]=\"!form.form.valid\">\n                </p>\n            </form>\n\n            <p style=\"height: 10px\"></p>\n\n            <div>\n                <p class=\"text-center lg-12 mb-0\">\n                    ¿No recibiste ningún código? <br>\n                    <a [routerLink]=\"['/registro']\">Registrarse con un teléfono real</a>\n                </p>\n            </div>\n        </div>\n    </div>\n</div>","import { Component } from '@angular/core';\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\n\n@Component({\n  selector: 'main-nav',\n  templateUrl: './main-nav.component.html',\n  styleUrls: ['./main-nav.component.css']\n})\nexport class MainNavComponent {\n\n  isHandset$: Observable<boolean> = this.breakpointObserver.observe(Breakpoints.Handset)\n    .pipe(\n      map(result => result.matches),\n      shareReplay()\n    );\n\n  constructor(private breakpointObserver: BreakpointObserver) {}\n\n}\n","<mat-sidenav-container>\n    <ng-content></ng-content>\n</mat-sidenav-container>","export class Cupon{\n    constructor(\n        public _id: string,\n        public usuario: string,\n        public nombre: string,\n        public cupones: string,\n        public compraMinima: Number,\n        public fechaVencimiento: string,\n        public status: string,\n    ){}\n}","export class Notificacion{\n    constructor(\n        public usuario: string,\n        public restaurante: string,\n        public restaurantes: string,\n        public title: string,\n        public body: string,\n        public url: string\n    ){}\n}","export class Pedido{\n    constructor(\n        public _id: string,\n        public usuario: string,\n        public restaurante: string,\n        public fecha: string,\n        public total: string,\n        public comision: string,\n        public contenido: Array<object>,\n        public status: string,\n        public direccion: string,\n        public envio: Number,\n        public cupon: Number\n        // public ganancia: string,\n    ){}\n}","export class PedidoProducto{\n    constructor(\n        public _id: string,\n        public cantidad: number,\n        public seccion: string,\n        public producto: string,\n        public total: number,\n        public nota: string,\n        public comision: number,\n        public ingredientes: Array<string>\n    ){}\n}","export class Usuario{\n    constructor(\n        public _id: string,\n        public nombre: string,\n        public apellido: string,\n        public correo: string,\n        public password: string,\n        public confirm_password: string,\n        public telefono: string,\n        public imagen: string,\n        public domicilio: string,\n        public municipio: string,\n        public rol: string,\n        public restaurante: string,\n        public status: String,\n        public visitas: String,\n        public plataforma: String\n    ){}\n}","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {PedidoService} from '../../services/pedido.service';\nimport {Location} from '@angular/common';\nimport {GLOBAL} from '../../services/global';\nimport * as $ from 'jquery';\n\n\n@Component({\n    selector: 'inicioRe',\n    templateUrl: './inicioRe.component.html',\n    providers: [UsuarioService, PedidoService]\n}) \n\nexport class InicioReComponent implements OnInit{\t\t\t\t\n    public token;\n    public identity;\n    public status;\n    public pedidos;\n    public total;\n    public url;\n    public notif;\n    public support;\n    public permission;\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _pedidoService: PedidoService,\n        private _location: Location\n    ){\n        this.url = GLOBAL.url;\n        this.token = this._usuarioService.getToken();\n        this.identity = this._usuarioService.getIdentity();\n        this.pedidos = [];\n    }\n\n    ngOnInit(){\n        this.obtenerPedidosRepartidor();\n        this.supportNotification();\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    backClicked() {\n        this._location.back();\n    }\n\n    obtenerPedidosRepartidor(){\n        this._pedidoService.obtenerPedidosRepartidor(this.token).subscribe(\n            response => {\n                if(response){\n                    console.log(response);\n                    response.pedidos.forEach(pedido => {\n                        if(pedido.restaurante.municipio == this.identity.municipio && pedido.restaurante.servicioDomicilio == false){\n                            this.pedidos.push(pedido);\n                        }\n                    });\n                    this.total = this.pedidos.length;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    supportNotification(){\n        if(!window.Notification){\n            this.support = false;\n            this.notif = false;\n        } else {\n            this.support = true;\n            this.permission = Notification.permission;\n            \n            if (Notification.permission == 'default'){\n                this.notif = false;\n            } else {\n                this.notif = true;\n            }            \n        }\n    }\n\n    notificationRequest(){\n        Notification.requestPermission( function(permission){\n            if (permission == 'granted'){\n                // console.log('granted');\n            }\n        }).then(e => {\n            this.vapid();\n            this.notif = true;\n        })\n    }\n\n    vapid(){\n        if(navigator.serviceWorker){\n            const token = this.token;\n            navigator.serviceWorker.getRegistration().then(reg => {\n            \n                this.getPublicKey().then( function(key){                    \n                    reg.pushManager.subscribe({\n                        userVisibleOnly: true,\n                        applicationServerKey: key\n                    }).then(res => res.toJSON())\n                    .then(subscription => {\n                        fetch(GLOBAL.url + 'subscribe', {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json', 'Authorization': token},\n                            body: JSON.stringify(subscription)\n                        })\n                        .catch(console.log);\n                    })\n                })\n            })\n        } else {\n            // console.log('no lo soporta');\n        } \n    }\n\n    getPublicKey(){\n        const token = this.token;\n        return fetch(this.url + 'key', {\n            headers: { 'Authorization': token},\n        })\n        .then(res => res.arrayBuffer())\n        // retornar arreglo, pero como un UnitBarray\n        .then(key => new Uint8Array(key));\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom flex-grow-1 mt-1\">\n                <p class=\"text-center\">Pedidos</p>\n            </div>\n        </div>\n    </nav>\n    \n    <div>\n        <div class=\"info container d-block mt-2\" style=\"height: 175px\" >  \n            <p class=\"text-center\" *ngIf=\"support && support == true && !notif\">\n                <button class=\"btn btn-primary px-5 mt-2 mb-4 text\" (click)=\"notificationRequest()\">Activar notificaciones ({{permission}})</button>\n            </p>\n            <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n                <p class=\"text-center\">\n                    Ha ocurrido un error.\n                </p>\n            </div>\n\n            <div class=\"row\" style=\"height: 40px\" *ngIf=\"pedidos[0] && total\"> \n                <p class=\"pl-4 subtitle col-10\">\n                    {{'Pedidos: ' + total}}\n                </p>\n            </div>\n\n            <div *ngIf=\"pedidos.length == 0\" class=\"sinpedidos\">\n                <p style=\"height: 80px;\"></p>\n                <p class=\"text-center\"><i class=\"sinpedidos-icon fas fa-clipboard-list\"></i></p>\n                <p class=\"text-center\">Por el momento <br> no hay pedidos</p>\n            </div>\n\n            <div class=\"mt-4\">\n                <div *ngFor=\"let pedido of pedidos\" class=\"mb-4 mt-2\"> \n                    <div class=\"card\" [routerLink]=\"['/repartidor/pedido', pedido._id]\">\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <p class=\"pedido-card-tiempo flex-grow-1 text-center mx-5\">\n                                    {{(pedido.fecha | amFromUnix) | amLocale:'es' | amTimeAgo}}\n                                </p>\n                            </div>\n                            \n                            <div class=\"row mb-2\">\n                                <div class=\"col-2 avatar2\">\n                                    <img src=\"{{url + 'obtener-imagen-restaurante/' + pedido.restaurante.imagen}}\"/>\n                                </div>                            \n                                <p class=\"pedido-card-text2\">{{pedido.restaurante.nombre}}</p>\n                            </div>\n\n                            <div class=\"row\">\n                                <p  class=\"pedido-card-icon pl-4 col-2\">{{pedido.contenido.length}}</p>\n                                <p *ngIf=\"pedido.contenido.length == 1\" class=\"pedido-card-text ml-1\">Producto</p>\n                                <p *ngIf=\"pedido.contenido.length > 1\" class=\"pedido-card-text ml-1\">Productos</p>\n                                <p *ngIf=\"!pedido.cupon\" class=\"pedido-card-total flex-grow-1 text-right\">{{'$' + (pedido.total + pedido.envio)}}</p>\n                                <p *ngIf=\"pedido.cupon\" class=\"pedido-card-total flex-grow-1 text-right\">{{'$' + (pedido.total + pedido.envio - pedido.cupon)}}</p>\n                            </div>\n\n                            <div class=\"row pedido-line2 mb-4\">\n                                <i class=\"pedido-card-icon fa fa-map-marker-alt col-2 mt-1 ml-1\"></i>                    \n                                <div class=\"pedido-card-text\">{{pedido.direccion}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <p style=\"height: 40px;\"></p>\n        </div>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../services/usuario.service';\nimport {PedidoService} from '../../services/pedido.service';\nimport {RestauranteService} from '../../services/restaurante.service';\nimport {Location} from '@angular/common';\nimport {GLOBAL} from '../../services/global';\n\n\n@Component({\n    selector: 'pedidoRe',\n    templateUrl: './pedidoRe.component.html',\n    providers: [UsuarioService, PedidoService, RestauranteService]\n}) \n\nexport class PedidoReComponent implements OnInit{\t\t\t\t\n    public token;\n    public identityR;\n    public status;\n    public pedido;\n    public restaurante;\n    public url;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _pedidoService: PedidoService,\n        private _restauranteService: RestauranteService,\n        private _location: Location\n    ){\n        this.url = GLOBAL.url;\n        this.token = this._usuarioService.getToken();\n        this.identityR = this._usuarioService.getIdentityR();\n        this.restaurante = this.identityR;\n        this.status = null;\n    }\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                var id = params['id'];\n                this.obtenerPedido(id);\n            }\n        })\n    }\n\n    backClicked() {\n        this._location.back();\n    }\n\n\n    obtenerPedido(pedidoId){\n        this._pedidoService.obtenerPedido(this.token, pedidoId, 3).subscribe(\n            response => {\n                if(response){\n                    this.pedido = response.pedido;\n                    this.restaurante = response.pedido.restaurante;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    whatsApp(){\n        window.location.href = 'https://api.whatsapp.com/send?phone=52' + this.restaurante.llamadas[0];\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom flex-grow-1\">\n                <p class=\"text-center mt-1\">Detalles pedido</p>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 45px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                Ha ocurrido un error.\n            </p>\n        </div>\n\n        <p style=\"height: 5px;\"></p>\n\n        <h3 class=\"text-center\">Datos del restaurante</h3>\n\n        <div class=\"mt-2 panel-body1 border p-2 m-2\" *ngIf=\"pedido && restaurante\">\n            <div class=\"res-nom2 avatar flex-grow-1 mt-1\">\n                <p><img src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/><span class=\"pl-2 ml-1\">{{restaurante.nombre}}</span></p>\n            </div>\n            <div class=\"row\">\n                <p class=\"text-right col-2 ml-2 mt-2 mr-2\"><i class=\"pedido-card-icon fa fa-map-marker-alt\"></i></p>\n                <p class=\"text-detalle-pedido\">{{restaurante.ubicacion[0] + ' #' + restaurante.ubicacion[1]}}</p>\n            </div>\n            <p *ngIf=\"restaurante.llamadas.length > 0\" class=\"text-center\"><button class=\"btn btn-success px-3\" (click)=\"whatsApp()\"><i class=\"fab fa-whatsapp mr-2\"></i>Contactar al restaurante</button></p>\n        </div>\n        <p style=\"height: 17px;\"></p>\n\n        <h3 class=\"text-center\">Datos del cliente</h3>\n\n        <div *ngIf=\"pedido\">\n            <div class=\"panel-body1 border p-2 m-2\">\n                <div class=\"row\" *ngIf=\"pedido\">\n                    <p class=\"text-right col-2 ml-2 mt-2 mr-2\"><i class=\"pedido-card-icon fas fa-user\"></i></p>\n                    <p class=\"text-detalle-pedido\">{{pedido.usuario.nombre + ' ' + pedido.usuario.apellido}}</p>\n                </div>\n                <div class=\"row\" *ngIf=\"pedido\">\n                    <p class=\"text-right col-2 ml-2 mt-2 mr-2\"><i class=\"pedido-card-icon fa fa-map-marker-alt\"></i></p>\n                    <p class=\"text-detalle-pedido\">{{pedido.direccion}}</p>\n                </div>\n                <div class=\"row\" *ngIf=\"pedido\">\n                    <p class=\"text-right col-2 ml-2 mt-2 ml-1 mr-1\"><i class=\"pedido-card-icon fas fa-phone-alt\"></i></p>\n                    <p class=\"text-detalle-pedido\">{{pedido.usuario.telefono}}</p>\n                </div>\n            </div>\n\n            <br>\n            \n            <div class=\"row mb-2\">\n                <p class=\"text flex-grow-1 d-block text-right mr-3\"><strong>Pedido:<span class=\"detalle-pedido-total3 ml-3\">{{' ' + '$' + pedido.total}}</span></strong></p>\n            </div>\n            <div class=\"row mb-2\">\n                <p class=\"text flex-grow-1 d-block text-right mr-3\">Costo de envío:<span class=\"detalle-pedido-total ml-3\">{{' ' + '$' + pedido.envio}}</span></p>\n            </div>\n            <div class=\"row\">\n                <p class=\"text-detalle-pedido flex-grow-1 text-right mr-5 mt-2\">Total:<span class=\"detalle-pedido-total2\">{{' ' + '$' + (pedido.total + pedido.envio)}}</span> </p>\n            </div>\n        </div>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {Restaurante} from '../../models/restaurante';\nimport {Seccion} from '../../models/seccion';\nimport {Producto} from '../../models/producto';\nimport {ProductoService} from '../../../services/producto.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {GLOBAL} from '../../../services/global';\nimport {Location} from '@angular/common';\nimport * as $ from 'jquery';\n\n\n@Component({\n    selector: 'PerfilRestaurantR',\n    templateUrl: './PerfilRestaurantR.component.html',\n    providers: [ProductoService, RestauranteService, UsuarioService]\n}) \n\nexport class PerfilRestaurantRComponent implements OnInit{\t\t\t\t\n    public title: string;\n    public restaurante: Restaurante;\n    public secciones: Seccion[];\n    public productos: any;\n    public producto: Producto;\n    public status: string;\n    public identity;\n    public identityR;\n    public token;\n    public url: string;\n    public peticion: any;\n    public page: number;\n    public pages: number;\n    public loading: boolean;\n    public productoStatus;\n    public id: any;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _productoService: ProductoService,\n        private _restauranteService: RestauranteService,\n        private _usuarioService: UsuarioService,\n        private _location: Location\n    ){\n        this.identityR = this._usuarioService.getIdentityR();\n        this.restaurante = this.identityR;\n        this.url = GLOBAL.url;\n        this.title = this.identityR.nombre;\n        this.productos = [];\n        this.page = 1;\n        this.loading = false;\n        this.status = null;\n        this.id = null;\n    }\n\n\n    ngOnInit(){\n        this.obtenerRestaurante(this.identityR._id);\n        this.obtenerSecciones(this.identityR._id, this.page);\n        this.identity = this._usuarioService.getIdentity()\n        this.token = this._usuarioService.getToken();\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    backClicked() {\n        // this._router.navigate(['/restaurante/inicio']);\n        this._location.back();\n    }\n\n    onScroll(){\n        this.page += 1;\n        \n        if(this.page == this.pages+1){\n            this.loading = false;\n        } else {\n            this.loading = true;\n            this.obtenerSecciones(this.identityR._id, this.page, true);\n        }\n    }\n\n    obtenerRestaurante(id){\n        this._restauranteService.obtenerRestaurante(id).subscribe(\n            response => {\n                if(response.restaurante){\n                    this.restaurante = response.restaurante;\n                    // console.log(this.restaurante);\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerSecciones(id, page, adding = false){\n        this._restauranteService.obtenerSecciones(id, page, 0).subscribe(\n            response => {\n                if(response.secciones){\n                    this.pages = response.pages;\n\n                    response.secciones.forEach(element => {\n                        this.obtenerProductosRestaurante(element._id);\n                    });\n\n                    if(!adding){\n                        this.secciones = response.secciones;\n                        this.loading = false;\n                    } else {\n                        var arrayA = this.secciones;\n                        var arrayB = response.secciones;\n                        this.secciones = arrayA.concat(arrayB);\n                        this.loading = false;\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerProductosRestaurante(seccionId){\n        this._productoService.obtenerProductosRestaurante(seccionId).subscribe(\n            response => {\n                if(response.productos){\n                    response.productos.forEach(element => {\n                        this.productos.push(element);\n                    });\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    // obtenerProductos(seccionId, page){\n    //     this.peticion = '0/0/' + seccionId + '/0';\n    //     this._productoService.obtenerProductos(this.peticion, page).subscribe(\n    //         response => {\n    //             if(response.productos){\n    //                 response.productos.forEach(element => {\n    //                     this.productos.push(element);\n    //                 });\n    //             }\n    //         },\n    //         error => {\n    //             var errorMessage = <any> error;\n    //             // console.log(errorMessage);\n   \n    //             if(errorMessage != null){\n    //                 this.status = 'error';\n    //             }\n    //         }\n    //     )\n    // }\n\n    preparar(id){\n        this.id = id;\n    }\n\n    preparar2(status){\n        this.productoStatus = status;\n    }\n\n    ejecutar(numeroDeLaFuncion){\n        if(numeroDeLaFuncion == 0){\n            this._router.navigate(['/restaurante/producto/', this.id])\n        \n        } else if(numeroDeLaFuncion == 2){\n            this.eliminarProducto(this.id);\n        \n        } else if(numeroDeLaFuncion == 3){\n            this.activarProducto(this.id, 1);\n        \n        } else if(numeroDeLaFuncion == 4){\n            this.activarProducto(this.id, 2);\n\n        } else if(numeroDeLaFuncion == 6){\n            this.eliminarSeccion(this.id);      \n        }\n    }\n\n    activarProducto(producto_id, status){\n        this._productoService.activarProducto(this.token, producto_id, status).subscribe(\n            response => {\n                if(response){\n                    // window.location.reload();\n                    this.productos = [];\n                    this.page = 1;\n                    this.obtenerSecciones(this.identityR._id, this.page);\n                    this.productoStatus == null;\n                    this.id == null;\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    eliminarProducto(producto_id){\n        this._productoService.eliminarProducto(this.token, producto_id).subscribe(\n            response => {\n                if(response){\n                    // window.location.reload();\n                    this.productos = [];\n                    this.page = 1;\n                    this.obtenerSecciones(this.identityR._id, this.page);\n                    this.productoStatus == null;\n                    this.id == null;\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    eliminarSeccion(id){\n        var n = 0;\n        var total = this.productos.length;\n        var vacio = true;\n\n        this.productos.forEach(element => {                        \n            if(id == element.seccion){\n                vacio = false;\n                console.log(element);\n            }\n\n            n = n + 1;\n\n            if(n == total){\n                if(vacio == false){\n                    return alert('No puedes eliminar una sección que contenga productos');\n                } else if(vacio == true){\n                    this._restauranteService.eliminarSeccion(this.token, id).subscribe(\n                        response => {\n                            if(response){\n                                this.productos = [];\n                                this.page = 1;\n                                this.obtenerSecciones(this.identityR._id, this.page);\n                                this.productoStatus == null;\n                                this.id == null;\n                            }\n                        },\n                        error => {\n                            var errorMessage = <any>error;\n                            console.log(errorMessage);\n                    \n                            if(errorMessage != null){\n                                this.status = 'error';\n                            }\n                        }\n                    )\n                }\n            }\n        })\n    }\n\n    copyMessage(restauranteId: string){\n        const selBox = document.createElement('textarea');\n        selBox.style.position = 'fixed';\n        selBox.style.left = '0';\n        selBox.style.top = '0';\n        selBox.style.opacity = '0';\n        selBox.value = 'https://ralph.tk/restaurant/' + restauranteId;\n        // selBox.value = 'https://ralph.com.mx/restaurant/' + restauranteId;\n        document.body.appendChild(selBox);\n        selBox.focus();\n        selBox.select();\n        document.execCommand('copy');\n        document.body.removeChild(selBox);\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"col-2 avatar\">\n                <img src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/>\n            </div>\n\n            <div class=\"res-nom d-inline-block mt-1\" *ngIf=\"restaurante.nombre.length < 18\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div class=\"res-nom-big d-inline-block mt-1\" *ngIf=\"restaurante.nombre.length >= 18 && restaurante.nombre.length < 22\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div class=\"res-nom-xbig d-inline-block mt-1\" *ngIf=\"restaurante.nombre.length >= 22\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div class=\"navbars flex-grow-1\">\n                <p class=\"text-right\">\n                    <i href=\"#myModal5\" data-toggle=\"modal\" data-target=\"#myModal5\" class=\"icon fas fa-share-alt clickable pl-2\"></i>\n                </p>\n            </div>\n        </div>\n    </nav>\n\n\n    <div>\n        <div class=\"info container d-block mt-2\" style=\"height: 140px\" >            \n            <div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\n                Ha ocurrido un error, vuelve a intentarlo.\n            </div>\n            <div class=\"row\" style=\"height: 40px\" *ngIf=\"!restaurante.horario[3]\"> \n                <i class=\"icon far fa-clock col-1\"></i>                    \n                <p class=\"pl-4 text col-3\">\n                    Horario:\n                </p>\n                <p class=\"text flex-grow-1 text-right pr-3\">{{restaurante.horario[0] + ' - ' + restaurante.horario[1]}}</p>\n            </div>\n\n            <div class=\"row\" style=\"height: 28px\" *ngIf=\"restaurante.horario[3]\"> \n                <i class=\"icon far fa-clock col-1 pt-2\"></i>                    \n                <p class=\"pl-4 pt-2 text col-3\">\n                    Horario:\n                </p>\n                <p class=\"text2 flex-grow-1 text-right pr-3\">{{restaurante.horario[0] + ' - ' + restaurante.horario[1]}}</p>\n            </div>\n\n            <div class=\"row\" style=\"height: 35px\" *ngIf=\"restaurante.horario[3]\"> \n                <p class=\"text2 flex-grow-1 text-right pr-3\">{{restaurante.horario[2] + ' - ' + restaurante.horario[3]}}</p>\n            </div>\n\n            <div class=\"row\" style=\"height: 38px\"> \n                <i class=\"icon fa fa-map-marker-alt col-1\"></i>                    \n                <p class=\"pl-4 text col-3\">\n                    Ubicación:\n                </p>\n                <p class=\"text flex-grow-1 text-right pr-3\">{{restaurante.ubicacion[0] + ' #' + restaurante.ubicacion[1]}}</p>\n            </div>\n            \n            <!-- <div class=\"mt-1 ml-4\" *ngIf=\"restaurante.servicioDomicilio && restaurante.servicioDomicilio == true\">\n                <h5>\n                    <span class=\"badge badge-success\">Envío gratis</span>\n                </h5>\n            </div>\n\n            <div class=\"mt-1 ml-3\" *ngIf=\"restaurante.servicioDomicilio == false\">\n                <h5>\n                    <span class=\"badge badge-primary\">Envío por mandaditos</span>\n                </h5>\n            </div> -->\n        </div>\n    </div>\n\n    <p *ngIf=\"restaurante.horario[3]\" style=\"height: 15px;\"></p>\n\n    <div class=\"mt-2\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n        <div *ngFor=\"let seccion of secciones\" class=\"mb-4\" style=\"height: 250px;\">\n            <div class=\"border-top\" style=\"height: 20%;\">\n                <a [routerLink]=\"['/restaurante/seccion/', seccion._id]\" class=\"subtitle\">\n                    {{seccion.nombre}}\n                    <i class=\"icon-edit fas fa-pencil-alt ml-2\"></i>\n                </a>\n                <a href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\" (click)=\"preparar(seccion._id)\">\n                    <i class=\"icon-edit fas fa-trash-alt ml-3\"></i>\n                </a>\n            </div>\n\n            <div class=\"scrolling-wrapper mx-1\">\n                <div *ngFor=\"let producto of productos\" class=\"cards\">\n                    <a (click)=\"preparar2(producto.status)\" (click)=\"preparar(producto._id)\" href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\" role=\"button\">\n                        <div class=\"card-deck\" *ngIf=\"producto.seccion == seccion._id\">\n                            <div class=\"card mx-1\" style=\"width: 250px; height: 250px;\">\n                                <div class=\"card-img-overlay d-inline\">\n                                    <p class=\"card-tiempo flex-grow-1 text-center\">\n                                        <i class=\"far fa-clock\"></i>\n                                        {{producto.tiempoEntrega + ' min'}}\n                                    </p>\n                                </div>\n                            \n                                <img *ngIf=\"producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-producto/' + producto.imagen}}\">\n                                <img *ngIf=\"!producto.imagen\" loading=\"lazy\" class=\"bd-placeholder-img card-img-top\" width=\"100%\" height=\"200\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\">\n\n                                <i *ngIf=\"producto.status == 'inactivo'\" class=\"far fa-eye-slash icono-inactivo\"></i>\n\n                                <div class=\"card-img-overlay d-flex\">\n                                    <p style=\"height: 35px;\" class=\"card-nombre col-10 text-left\">{{producto.nombre}}</p>\n                                    <p style=\"height: 35px;\" class=\"card-precio flex-grow-1 text-center\">{{'$' + producto.precio}}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </a>\n                </div> \n            </div>\n        </div>\n    </div>\n\n    <div id=\"myModal\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\">    \n                <a *ngIf=\"productoStatus == 'inactivo'\" href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">Activar</a>\n                <a *ngIf=\"productoStatus == 'activo'\" href=\"#myModal4\" data-toggle=\"modal\" data-target=\"#myModal4\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">Desactivar</a>\n                <a (click)=\"ejecutar(0)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">Editar</a>\n                <a href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\" class=\"btn-modal-option btn btn-warning\" data-dismiss=\"modal\">Eliminar</a>\n                <button class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>                \n            </div>\n        </div>\n    </div>\n\n    <div id=\"myModal2\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Eliminar producto?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" (click)=\"ejecutar(2)\">Eliminar</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal3\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Activar producto?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" (click)=\"ejecutar(3)\">Activar</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal4\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Desactivar producto?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" (click)=\"ejecutar(4)\">Desactivar</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal5\" class=\"modal\">\n        <div class=\"modal modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"mt-3\">\n                <p class=\"recado-chico\">https://ralph.tk/restaurant/ <br>{{restaurante._id}}</p>\n                <!-- <p class=\"recado-chico\">https://ralph.com.mx/restaurant/ <br>{{restaurante._id}}</p> -->\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" (click)=\"copyMessage(restaurante._id)\">Copiar enlace</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal6\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Eliminar sección?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" (click)=\"ejecutar(6)\">Eliminar</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div *ngIf=\"loading\">\n            <p class=\"text-center pt-2\">\n                <img src=\"../../../assets/loading.gif\" width=\"20px\">\n            </p>\n        </div>\n        <p style=\"height: 50px;\"></p>\n        \n    <nav class=\"navbar-bottom navbar-default fixed-bottom\">            \n        <a [routerLink]=\"['/restaurante/seccion/0']\" class=\"btn-navbar col-6 border-right border-top\">Añadir sección</a>\n        <a [routerLink]=\"['/restaurante/producto/0']\" class=\"btn-navbar col-6 border-left border-top\">Añadir producto</a>\n    </nav>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {PedidoService} from '../../../services/pedido.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {Pedido} from '../../../models/pedido';\nimport {Restaurante} from '../../models/restaurante';\nimport {Location} from '@angular/common';\nimport * as $ from 'jquery';\n\n\n@Component({\n    selector: 'creditoDebo',\n    templateUrl: './creditoDebo.component.html',\n    providers: [UsuarioService, PedidoService, RestauranteService]\n}) \n\nexport class creditoDeboComponent implements OnInit{\t\t\t\t\n    public token;\n    public identityR;\n    public status;\n    public total;\n    public pedidos: Pedido[];\n    public page: number;\n    public pages: number;\n    public loading: boolean;\n    public restaurante: Restaurante;\n    public debe: number;\n    public depositos;\n    public deposit;\n    public cobros;\n    public tipo;\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _restauranteService: RestauranteService,\n        private _pedidoService: PedidoService,\n        private _location: Location\n    ){\n        this.token = this._usuarioService.getToken();\n        this.identityR = this._usuarioService.getIdentityR();\n        this.pedidos = [];\n        this.page = 1;\n        this.loading = true;\n        this.status = null;\n        this.tipo = 1;\n    }\n\n    ngOnInit(){\n        this.obtenerRestaurante();\n        this.obtenerPedidos(this.page);\n        this.checkModal();\n    }\n\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n\n    backClicked() {\n        // this._router.navigate(['/restaurante/inicio']);\n        this._location.back();\n    }\n\n\n    cambiarTipo(n){\n        if(this.tipo != n){\n            this.tipo = n;\n            this.loading = true;\n            this.page = 1;\n            \n            if(n == 1){\n                this.obtenerPedidos(this.page);\n                \n            } else if(n == 2){\n                this.obtenerDepositos(this.page);\n                \n            } else if(n == 3){\n                this.obtenerCobros(this.page);\n            }\n        }\n    }\n\n\n    onScroll(){\n        this.page += 1;\n\n        if(this.page >= this.pages+1){\n            return  this.loading = false;\n            \n        } else {\n            if(this.tipo == 1){\n                this.obtenerPedidos(this.page, true);\n                \n            } else if(this.tipo == 2){\n                this.obtenerDepositos(this.page, true);\n                \n            } else if(this.tipo == 3){\n                this.obtenerCobros(this.page, true);\n            }\n            this.loading = true;\n        }\n    }\n\n\n    obtenerRestaurante(){\n        this._restauranteService.obtenerRestaurante(this.identityR._id).subscribe(\n            response => {\n                if(response.restaurante){\n                    this.restaurante = response.restaurante;\n                    this.debe = response.restaurante.debe - response.restaurante.debe - response.restaurante.debe;\n                }\n            },\n            error => {\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n    \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    obtenerPedidos(page, adding = false){\n        this._pedidoService.obtenerPedidos(this.token, this.identityR._id, page, 1).subscribe(\n            response => {\n                if(!response){\n                    return this.status = 'error';\n                }\n                this.pages = response.pages\n\n                if(!adding){\n                    this.pedidos = response.pedidos;\n                    this.total = response.total;\n                    this.loading = false;\n                } else {\n                    var arrayA = this.pedidos;\n                    var arrayB = response.pedidos;\n                    this.pedidos = arrayA.concat(arrayB);\n                    this.loading = false;\n                }            \n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    obtenerDepositos(page, adding = false){\n        this._restauranteService.obtenerDepositos(this.token, this.identityR._id, page).subscribe(\n            response => {\n                if(response){\n                    this.pages = response.pages\n    \n                    if(!adding){\n                        this.depositos = response.depositos;\n                        this.total = response.total;\n                        this.loading = false;\n                    } else {\n                        var arrayA = this.depositos;\n                        var arrayB = response.depositos;\n                        this.depositos = arrayA.concat(arrayB);\n                        this.loading = false;\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n\n    obtenerCobros(page, adding = false){\n        this._restauranteService.obtenerCobros(this.token, this.identityR._id, page).subscribe(\n            response => {\n                if(response){\n                    // const sortedActivities = this.cobros.slice().sort((a, b) => b.fecha - a.fecha);\n                    this.pages = response.pages\n    \n                    if(!adding){\n                        this.cobros = response.cobros;\n                        this.total = response.total;\n                        this.loading = false;\n                    } else {\n                        var arrayA = this.cobros;\n                        var arrayB = response.cobros;\n                        this.cobros = arrayA.concat(arrayB);\n                        this.loading = false;\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    cargarDeposito(deposit){\n        this.deposit = deposit;\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom flex-grow-1\">\n                <p class=\"text-center mt-1\">Crédito / Debo</p>\n            </div>\n\n            <!-- <div class=\"navbars flex-grow-1\">\n                <p class=\"clickable text-right mr-1\" [routerLink]=\"['/restaurante/depositos']\">\n                    <i class=\"icon fas fa-dollar-sign\"></i>\n                </p>\n            </div> -->\n        </div>\n    </nav>\n\n    <div class=\"credito-info container d-block mt-2 border-bottom\" style=\"height: 200px\" *ngIf=\"restaurante\">            \n        <div class=\"row\"> \n            <p class=\"pl-4 text col-8\">Crédito disponible:</p>\n            <p class=\"text-credito flex-grow-1 text-right pr-5\">{{'$' + restaurante.credito}}</p>\n        </div>\n\n        <div class=\"row\">\n            <p class=\"pl-4 text col-8\">Debo a Ralph:</p>\n            <p class=\"text-debe flex-grow-1 text-right pr-5\">{{'$' + debe}}</p>\n        </div>\n\n        <div class=\"row\">\n            <p class=\"pl-4 text col-8\">Ralph te debe:</p>\n            <p class=\"text-credito flex-grow-1 text-right pr-5\">{{'$' + restaurante.ralphDebe}}</p>\n        </div>\n    </div>\n    \n    <div class=\"container\">\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                Ha ocurrido un error.\n            </p>\n        </div>\n\n        <div *ngIf=\"tipo == 1\" class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n            <div *ngFor=\"let pedido of pedidos\" class=\"mb-3 mt-2\"> \n                <div class=\"card\" *ngIf=\"pedido.status != 'Cancelado'\" style=\"height: 115px;\" [routerLink]=\"['/restaurante/pedido', pedido._id, 2]\">\n                    <div class=\"card-body pedido-card\">\n                        <div class=\"row\">\n                            <p class=\"text-muted flex-grow-1 text-center mx-5\">\n                                {{(pedido.fecha | amFromUnix) | amLocale:'es' | amDateFormat:'LL'}}\n                            </p>\n                        </div>\n                        <div class=\"row card-credito\">\n                            <p class=\"pedido-card-text col-9 text-right ml-1\">Total:</p>\n                            <p class=\"text-credito flex-grow-1 text-left pl-3\" *ngIf=\"!pedido.cupon && restaurante && restaurante.servicioDomicilio == false\">{{'$' + pedido.total}}</p>\n                            <p class=\"text-credito flex-grow-1 text-left pl-3\" *ngIf=\"!pedido.cupon && restaurante && restaurante.servicioDomicilio == true\">{{'$' + (pedido.total + pedido.envio)}}</p>\n                            <p class=\"text-credito flex-grow-1 text-left pl-3\" *ngIf=\"pedido.cupon\">{{'$' + ((pedido.total*100) + (pedido.envio*100) - (pedido.cupon*100))/100}}</p>\n                        </div>\n  \n                        <div class=\"row pedido-line mb-1\">\n                            <p class=\"credito-card-text col-4 ml-2\">Pedido</p>\n                            <p class=\"pedido-card-text col-5 text-right\" *ngIf=\"!pedido.cupon || (pedido.comision - pedido.cupon + pedido.envio) >= 0\">Comisión:</p>\n                            <p class=\"text-debe flex-grow-1 text-left pl-1\" *ngIf=\"!pedido.cupon\">{{'-$' + pedido.comision}}</p>\n                            <p class=\"text-debe flex-grow-1 text-left pl-1\" *ngIf=\"pedido.cupon && (pedido.comision - pedido.cupon + pedido.envio) >= 0\">{{'-$' + ((pedido.comision*100) - (pedido.cupon*100) + (pedido.envio*100))/100}}</p>\n                            <p class=\"pedido-card-text col-5 text-right\" *ngIf=\"pedido.cupon && (pedido.comision - pedido.cupon + pedido.envio) < 0\">Obtuviste:</p>\n                            <p class=\"text-credito flex-grow-1 text-left pl-1\" *ngIf=\"pedido.cupon && (pedido.comision - pedido.cupon + pedido.envio) < 0\">{{'+$' + (((pedido.comision*100) - (pedido.cupon*100) + (pedido.envio*100))/100 * -1)}}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div *ngIf=\"tipo == 2\" class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n            <div *ngFor=\"let deposito of depositos\" class=\"mb-3 mt-2\"> \n                <div class=\"card\">\n                    <div class=\"card-body pedido-card\">\n                        <div class=\"row\">\n                            <!-- <p class=\"text-muted flex-grow-1 text-center mx-5\"> -->\n                            <p class=\"text-muted col-10 ml-1 pl-5 text-center\">\n                                {{(deposito.fecha | amFromUnix) | amLocale:'es' | amDateFormat:'LL'}}\n                            </p>\n                            <i class=\"flex-grow-1 px-1 icon-trash2 fas fa-info-circle\" (click)=\"cargarDeposito(deposito)\" href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\"></i>\n                        </div>\n                        <div class=\"row\">\n                            <span class=\"ml-3 deposito-text col-4\">Pago</span>\n                            <span class=\"deposito-text col-5 text-right\">Cantidad:</span>\n                            <span class=\"deposito-cant flex-grow-1\">{{'$' + deposito.cantidad}}</span>\n                        </div>\n                        <hr *ngIf=\"deposito.nota\">\n                        <div class=\"mt-2 text-center deposito-nota\" *ngIf=\"deposito.nota\">\n                            <span class=\"\">{{'*' + deposito.nota + '*'}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div *ngIf=\"tipo == 3\" class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n            <div *ngFor=\"let cobro of cobros\" class=\"mb-3 mt-2\"> \n                <div class=\"card\">\n                    <div class=\"card-body pedido-card\">\n                        <div class=\"row\">\n                            <p class=\"text-muted flex-grow-1 text-center mx-5\">\n                                {{(cobro.fecha | amFromUnix) | amLocale:'es' | amDateFormat:'LL'}}\n                            </p>\n                        </div>\n                        <div class=\"row\">\n                            <span class=\"ml-2 deposito-text col-4\">Cobro</span>\n                            <span class=\"deposito-text col-5 text-right\">Cantidad:</span>\n                            <span class=\"deposito-cant2 flex-grow-1\">{{'$' + cobro.cantidad}}</span>\n                        </div>\n                        <hr *ngIf=\"cobro.nota\">\n                        <div class=\"mt-2 text-center deposito-nota\" *ngIf=\"cobro.nota\">\n                            <span class=\"\">{{'*' + cobro.nota + '*'}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"myModal2\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-body\" *ngIf=\"deposit\">\n                        <p class=\"modal-credito mb-1\">Cantidad del pago: <strong>{{'$' + deposit.cantidad}}</strong></p>\n                        <p class=\"modal-credito text-muted\" *ngIf=\"deposit.metodoPago == 'Efectivo' || deposit.metodoPago == 'Oxxo'\">{{'Pago en ' + deposit.metodoPago}}</p>\n                        <p class=\"modal-credito text-muted\" *ngIf=\"deposit.metodoPago == 'Transferencia' || deposit.metodoPago == 'Paypal'\">{{'Pago con ' + deposit.metodoPago}}</p>\n                        <hr>\n                        <strong class=\"text\">Antes del pago</strong>\n                        <div class=\"row modal-credito mt-1\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Crédito disponible:</span>\n                            <span class=\"text-credito flex-grow-1 text-right mr-1 pr-5\">{{'$' + deposit.credito[0]}}</span>\n                        </div>\n                        <div class=\"row modal-credito\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Debo a Ralph:</span>\n                            <span class=\"text-debe flex-grow-1 text-right mr-1 pr-5\">{{'$' + (deposit.debe[0]*-1)}}</span>\n                        </div>\n                        <div class=\"row modal-credito\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Ralph te debe:</span>\n                            <span class=\"text-credito flex-grow-1 text-right mr-1 pr-5\">{{'$' + deposit.ralphDebe[0]}}</span>\n                        </div>\n                        <hr>                        \n                        <strong class=\"text\">Después del pago</strong>\n                        <div class=\"row modal-credito mt-1\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Crédito disponible:</span>\n                            <span class=\"text-credito flex-grow-1 text-right mr-1 pr-5\">{{'$' + deposit.credito[1]}}</span>\n                        </div>\n                        <div class=\"row modal-credito\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Debo a Ralph:</span>\n                            <span class=\"text-debe flex-grow-1 text-right mr-1 pr-5\">{{'$' + (deposit.debe[1]*-1)}}</span>\n                        </div>\n                        <div class=\"row modal-credito\">\n                            <span class=\"text-left col-8 ml-1 pl-4\">Ralph te debe:</span>\n                            <span class=\"text-credito flex-grow-1 text-right mr-1 pr-5\">{{'$' + deposit.ralphDebe[1]}}</span>\n                        </div>                   \n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\">Aceptar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div *ngIf=\"loading\">\n            <p class=\"text-center pt-2\">\n                <img src=\"../../../../assets/loading.gif\" width=\"20px\">\n            </p>\n        </div>\n        <p style=\"height: 40px;\"></p>\n\n        <!-- <nav class=\"navbar-bottom navbar-default fixed-bottom\">\n            <a [routerLink]=\"['/restaurante/depositos']\" class=\"btn-navbar col-12 border-top\">                \n                <p class=\"text-center text-depositar\"><i class=\"fas fa-dollar-sign mr-2\"></i>Depositar</p>\n            </a>\n        </nav> -->\n\n        <div id=\"myModal\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <a (click)=\"cambiarTipo(1)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                        Pedidos\n                    </a>\n                    <a (click)=\"cambiarTipo(2)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                        Pagos\n                    </a>\n                    <a (click)=\"cambiarTipo(3)\" class=\"btn-modal-option btn btn-warning border-bottom-0\" data-dismiss=\"modal\">\n                        Cobros\n                    </a>\n                </div>\n            </div>\n        </div>\n\n        <nav class=\"navbar-bottom navbar-default fixed-bottom\">\n            <a href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\" class=\"btn-navbar col-12 border-top\">                \n                <p class=\"text-center text-depositar\">\n                    <span *ngIf=\"tipo == 1\">Pedidos</span>\n                    <span *ngIf=\"tipo == 2\">Pagos</span>\n                    <span *ngIf=\"tipo == 3\">Cobros</span>\n                    <i class=\"ml-2 categorias-icon fas fa-sort-up\"></i>\n                </p>\n            </a>\n        </nav>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'depositos',\n    templateUrl: './depositos.component.html',\n    providers: []\n}) \n\nexport class DepositosComponent implements OnInit{\t\t\t\t\n\n    constructor(\n        private _router: Router,\n        private _location: Location\n    ){\n\n    }\n\n    ngOnInit(){\n    }\n\n    backClicked() {\n        // this._router.navigate(['/restaurante/credito-debo']);\n        this._location.back();\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom flex-grow-1\">\n                <p class=\"text-center mt-1\">Depósitos</p>\n            </div>\n        </div>\n    </nav>\n\n    <div class=\"sinpedidos\">\n        <p style=\"height: 100px;\"></p>\n        <p class=\"text-center mb-5\">Próximamente</p>\n        <p class=\"text-center\"><i class=\"sinpedidos-icon fas fa-hammer\"></i></p>\n        <p class=\"text-center\">Esta ventana está en construcción</p>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {ProductoService} from '../../../services/producto.service';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {GLOBAL} from '../../../services/global';\nimport {Location} from '@angular/common';\nimport * as $ from 'jquery';\n\n@Component({\n    selector: 'detalleProd',\n    templateUrl: './detalleProd.component.html',\n    providers: [UsuarioService, ProductoService]\n})\n\nexport class DetalleProdComponent implements OnInit{\t\t\t\t\n    public producto: any;\n    public restaurante: any;\n    public status: string;\n    public identity;\n    public token;\n    public url: string;\n    public productoId: any;\n    public pedidoProducto: any;\n    public loading: boolean;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _productoService: ProductoService,\n        private _location: Location\n    ){\n        this.token = this._usuarioService.getToken();\n        this.identity = this._usuarioService.getIdentity();\n        this.restaurante = this._usuarioService.getIdentityR();\n        this.url = GLOBAL.url;\n        this.status = null;\n        this.loading = true;\n    }\n\n    ngOnInit(){\n        this.loadPage();\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    loadPage(){\n        this.pedidoProducto = JSON.parse(localStorage.getItem('pedidoProducto'));\n\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                this.productoId = params['id'];\n                this.obtenerProducto(this.productoId);\n            }\n        })\n    }\n\n    backClicked() {\n        this._location.back();\n    }\n\n    obtenerProducto(id){\n        this._productoService.obtenerProducto(id).subscribe(\n            response => {\n                if(response){\n                    this.producto = response.producto;\n                    this.loading = false;\n                    if(this.pedidoProducto.ingredientes && this.pedidoProducto.ingredientes[0]){\n                        this.acomodarIngredientes();\n                    }\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    acomodarIngredientes(){\n        setTimeout(() => {\n            this.pedidoProducto.ingredientes.forEach(element => {\n                var elemento = [];\n                elemento.push(document.getElementById(element));\n                elemento[0].checked=true;\n            });\n        },200)\n    }\n\n\n    checkbox(ing){\n        var elemento2 = [];\n        elemento2.push(document.getElementById(ing[0]))\n        var estado = elemento2[0].checked;\n\n        if(estado == true){\n            var elemento = [];\n            elemento.push(document.getElementById(ing[0]));\n            elemento[0].checked=false;\n\n        } else if(estado == false){\n            var elemento = [];\n            elemento.push(document.getElementById(ing[0]));\n            elemento[0].checked=true;\n        }\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>\n            </div>\n\n            <div class=\"res-nom mt-1 flex-grow-1\">\n                <p class=\"text-center\">Detalles producto</p>\n            </div>\n        </div>\n    </nav>\n\n    <div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\n        Ha ocurrido un error, vuelve a intentarlo.\n    </div>\n\n    <p style=\"height: 50px;\"></p>\n\n    <div class=\"container\" *ngIf=\"producto\">\n        <div class=\"panel-producto border panel panel-default\">\n            <div class=\"img-producto d-block\">\n                <p class=\"text-center\">\n                    <img *ngIf=\"producto && producto.imagen\" class=\"mt-2\" src=\"{{url + 'obtener-imagen-producto/' + producto.imagen}}\">\n                    <img *ngIf=\"restaurante && producto && !producto.imagen\" class=\"mt-2\" src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\">\n                </p>\n            </div>\n\n            <div class=\"detalle-pedido text-center mt-2\">\n                <span class=\"text-muted\">{{'Sección: ' + pedidoProducto.seccion}}</span>\n                <p class=\"producto-nombre text-center\">{{producto.nombre}}</p>\n            </div>\n            <div>\n                <div class=\"row mt-4\"> \n                    <p class=\"px-4 producto-descripcion-big flex-grow-1\">{{producto.descripcion}}</p>\n                </div>\n            </div>\n\n            <br>\n        </div>\n\n        <div *ngIf=\"producto.ingredientes[0]\" class=\"panel-producto border panel panel-default mt-3\">\n            <h5 class=\"ingredientes text-center pt-4\">Ingredientes extras</h5>\n            \n            <div *ngFor=\"let ingrediente of producto.ingredientes\">\n                <hr>\n                <div class=\"text-center mx-2 mt-2 mb-3 text\">{{ingrediente.titulo}}</div>\n                <div *ngFor=\"let ing of ingrediente.ingredientes\" class=\"my-2\">\n                    <div class=\"custom-control custom-checkbox ml-4\">\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{ing[0]}}\" value=\"ing[0]\" (click)=\"checkbox(ing)\" />\n                        <label class=\"custom-control-label col-8\" for=\"{{ing[0]}}\">{{ing[0]}}</label>\n                        <!-- <label *ngIf=\"ing[1] != 0\" class=\"col-3\" for=\"{{ing[0]}}\">{{'+ $' + ing[1]}}</label> -->\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"producto-nota panel panel-default mt-4\" *ngIf=\"pedidoProducto && pedidoProducto.nota\">\n            <p class=\"ml-2\">Nota:</p>\n            <textarea autocomplete=\"off\" name=\"nota\" #nota=\"ngModel\" [(ngModel)]=\"pedidoProducto.nota\" class=\"form-control producto-notabox\"></textarea>\n        </div>\n    </div>\n\n    <div *ngIf=\"loading\">\n        <p class=\"text-center pt-2\">\n            <img src=\"../../assets/loading.gif\" width=\"20px\">\n        </p>\n    </div>\n\n    <p style=\"height: 20px;\"></p>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {GLOBAL} from '../../../services/global';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {PedidoService} from '../../../services/pedido.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {Pedido} from '../../../models/pedido';\nimport {Restaurante} from '../../models/restaurante';\nimport {Notificacion} from '../../../models/notificacion';\nimport {Location} from '@angular/common';\nimport * as $ from 'jquery';\n\n\n@Component({\n    selector: 'inicioR',\n    templateUrl: './inicioR.component.html',\n    providers: [UsuarioService, PedidoService, RestauranteService]\n}) \n\nexport class InicioRComponent implements OnInit{\t\t\t\t\n    public support: boolean;\n    public notif: boolean;\n    public permission: any;\n    public url: any;\n    public token;\n    public identity;\n    public identityR;\n    public status;\n    public total;\n    public restaurante: Restaurante;\n    public notificacion: Notificacion;\n    public pedidos: Pedido[];\n    public completedload: boolean;\n    \n    // public innerWidth: any;\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _pedidoService: PedidoService,\n        private _restauranteService: RestauranteService,\n        private _location: Location\n    ){\n        this.url = GLOBAL.url;\n        this.token = this._usuarioService.getToken();\n        this.identity = this._usuarioService.getIdentity();\n        this.identityR = this._usuarioService.getIdentityR();\n        this.pedidos = [];\n        this.notificacion = new Notificacion(null,null,\"\",null,\"\",\"\");\n        this.completedload = false;\n        this.status = null;\n    }\n\n\n    ngOnInit(){\n        this.obtenerRestaurante();\n        this.supportNotification();\n        this.obtenerPedidos();\n        this.checkModal();\n\n        // this.innerWidth = window.innerWidth;\n        // console.log(this.innerWidth);\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    backClicked() {\n        // this._router.navigate(['/']);\n        this._location.back();\n    }\n\n    obtenerRestaurante(){\n        this._restauranteService.obtenerRestaurante(this.identityR._id).subscribe(\n            response => {\n                if(response){\n                    this.restaurante = response.restaurante;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerPedidos(){\n        this._pedidoService.obtenerPedidos(this.token, this.identityR._id, 1, 0).subscribe(\n            response => {\n                if(!response){\n                    this.status = 'error';\n                } else {\n                    this.completedload = true;\n                    this.pedidos = response.pedidos;\n                    this.total = response.total;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    actualizarPedido(status, pedidoId, usuarioId){\n        if(status == 'En preparacion'){\n            return\n        }\n\n        if(status == 'En espera'){\n\n            this._pedidoService.actualizarPedido(this.token, pedidoId, usuarioId, 1).subscribe(\n                response => {\n                    if(response){\n                        \n                    }\n                },\n                error => {\n                    var errorMessage = <any>error;\n                    // console.log(errorMessage);\n            \n                    if(errorMessage != null){\n                        this.status = 'error';\n                    }\n                }\n            )\n        }\n    }\n\n    activarRestaurante(status){\n        if(this.restaurante.status == 'por activar'){\n            return\n\n        } else if(status == 'activar'){\n            this.restaurante.status = 'activo';\n\n        } else if(status == 'desactivar'){\n            this.restaurante.status = 'inactivo';\n        }\n\n        this._restauranteService.actualizarRestaurante(this.token, this.restaurante).subscribe(\n            response => {\n                if(response){\n                    localStorage.setItem('identityR', JSON.stringify(response.restaurante));\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    supportNotification(){\n        if(!window.Notification){\n            this.support = false;\n            this.notif = false;\n        } else {\n            this.support = true;\n            this.permission = Notification.permission;\n            \n            if (Notification.permission == 'default'){\n                this.notif = false;\n            } else {\n                this.notif = true;\n            }            \n        }\n    }\n\n    notificationRequest(){\n        Notification.requestPermission( function(permission){\n            if (permission == 'granted'){\n                // console.log('granted');\n            }\n        }).then(e => {\n            this.vapid();\n            this.notif = true;\n        })\n    }\n\n    vapid(){\n        if(navigator.serviceWorker){\n            const token = this.token;\n            navigator.serviceWorker.getRegistration().then(reg => {\n            \n                this.getPublicKey().then( function(key){                    \n                    reg.pushManager.subscribe({\n                        userVisibleOnly: true,\n                        applicationServerKey: key\n                    }).then(res => res.toJSON())\n                    .then(subscription => {\n                        fetch(GLOBAL.url + 'subscribe', {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json', 'Authorization': token},\n                            body: JSON.stringify(subscription)\n                        })\n                        .catch(console.log);\n                    })\n                })\n            })\n        } else {\n            // console.log('no lo soporta');\n        } \n    }\n\n    getPublicKey(){\n        const token = this.token;\n        return fetch(this.url + 'key', {\n            headers: { 'Authorization': token},\n        })\n        .then(res => res.arrayBuffer())\n        // retornar arreglo, pero como un UnitBarray\n        .then(key => new Uint8Array(key));\n    }\n\n    // push(title, body, url){\n    //     this.notificacion.title = title;\n    //     this.notificacion.body = body;\n    //     this.notificacion.restaurante = this.identityR._id;\n    //     this.notificacion.url = url;\n\n    //     this._pedidoService.push(this.token, this.notificacion).subscribe();\n    // }\n    \n    copyMessage(restauranteId: string){\n        const selBox = document.createElement('textarea');\n        selBox.style.position = 'fixed';\n        selBox.style.left = '0';\n        selBox.style.top = '0';\n        selBox.style.opacity = '0';\n        selBox.value = 'https://ralph.tk/restaurant/' + restauranteId;\n        // selBox.value = 'https://ralph.com.mx/restaurant/' + restauranteId;\n        document.body.appendChild(selBox);\n        selBox.focus();\n        selBox.select();\n        document.execCommand('copy');\n        document.body.removeChild(selBox);\n    }\n    \n    logout(){\n        localStorage.removeItem('pedido');\n        localStorage.removeItem('total');\n        localStorage.removeItem('identity');\n        localStorage.removeItem('identityR');\n        localStorage.removeItem('token');\n        this.identity = null;\n        this.identityR = null;\n        this.token = null;\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"col-2 avatar\" *ngIf=\"restaurante\">\n                <img src=\"{{url + 'obtener-imagen-restaurante/' + restaurante.imagen}}\"/>\n            </div>\n\n            <div class=\"res-nom d-inline-block mt-1\" *ngIf=\"restaurante && restaurante.nombre && restaurante.nombre.length < 18\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div class=\"res-nom-big d-inline-block mt-1\" *ngIf=\"restaurante && restaurante.nombre && restaurante.nombre.length >= 18 && restaurante.nombre.length < 22\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n\n            <div class=\"res-nom-xbig d-inline-block mt-1\" *ngIf=\"restaurante && restaurante.nombre && restaurante.nombre.length >= 22\">\n                <p>{{restaurante.nombre}}</p>\n            </div>\n            \n            <div class=\"navbars flex-grow-1\" (click)=\"drawer.toggle()\">\n                <p class=\"text-right\">\n                    <i class=\"icon fas fa-bars\"></i>\n                </p>\n            </div>\n        </div>\n          \n        <mat-sidenav-container>\n            <mat-sidenav #drawer position=\"end\" fixedInViewport=\"true\">\n                <mat-toolbar  style=\"height: 90px;\">\n                    <p class=\"mt-3 drawer-title\">{{identity.nombre + ' ' + identity.apellido}}</p>\n                </mat-toolbar>\n                <mat-nav-list class=\"mt-2\">\n                    <!-- <p class=\"text-right\"><a class=\"drawer-list\" [routerLink]=\"['/mis-datos']\" (click)=\"drawer.toggle()\">Editar mis datos personales</a></p>\n                    <hr> -->\n                    <p  *ngIf=\"identity && identity.rol == 'RESTAURANTE'\" class=\"text-right\"><a class=\"drawer-list\" [routerLink]=\"['/restaurante/mis-datos']\" (click)=\"drawer.toggle()\">Editar datos de mi negocio</a></p>\n                    <hr *ngIf=\"identity && identity.rol == 'RESTAURANTE'\">\n                    <p class=\"text-right\"><a href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\" class=\"drawer-list\" *ngIf=\"restaurante && restaurante.status == 'activo'\" (click)=\"drawer.toggle()\">Desactivar Restaurante</a></p>\n                    <p class=\"text-right\"><a href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\" class=\"drawer-list\" *ngIf=\"restaurante && restaurante.status == 'inactivo'\" (click)=\"drawer.toggle()\">Activar Restaurante</a></p>\n                    <hr>\n                    <p *ngIf=\"identity && identity.rol == 'RESTAURANTE'\" class=\"text-right\"><a class=\"drawer-list\" [routerLink]=\"['/restaurante/credito-debo']\" (click)=\"drawer.toggle()\">Mi crédito</a></p>\n                    <hr *ngIf=\"identity && identity.rol == 'RESTAURANTE'\">\n                    <p class=\"text-right\"><a href=\"#myModal6\" data-toggle=\"modal\" data-target=\"#myModal6\" class=\"drawer-list\" (click)=\"drawer.toggle()\">Compartir enlace</a></p>\n                    <hr>\n                    <p class=\"text-right\"><a class=\"drawer-list\" [routerLink]=\"['/nosotros']\" (click)=\"drawer.toggle()\">¿Quienes somos?</a></p>\n                    <hr>\n                    <!-- <p class=\"text-right\"><a class=\"drawer-list\" href=\"https://m.me/RalphApp\" (click)=\"drawer.toggle()\">Reportar un problema</a></p>\n                    <hr> -->\n                    <p class=\"text-right\"><a href=\"#myModal4\" data-toggle=\"modal\" data-target=\"#myModal4\" class=\"drawer-list\" (click)=\"drawer.toggle()\" >Cerrar sesión</a></p>\n                    <hr>\n                    <p class=\"text-center mt-5\"><a class=\"drawer-close m-5 py-5\" (click)=\"drawer.toggle()\">Cerrar ventana</a></p>\n                </mat-nav-list>\n            </mat-sidenav>    \n        </mat-sidenav-container>\n    </nav>\n\n    <div id=\"myModal\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Activar Restaurante?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" (click)=\"activarRestaurante('activar')\">Activar</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal2\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Desactivar Restaurante?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button type=\"button\" *ngIf=\"pedidos.length != 0\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" (click)=\"activarRestaurante('desactivar')\" href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\">Desactivar</button>\n                <button type=\"button\" *ngIf=\"pedidos.length == 0\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" (click)=\"activarRestaurante('desactivar')\">Desactivar</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal3\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-body\">\n                <h5 class=\"modal-title\">A partir de este momento, tu <br> restaurante aparece como <br> cerrado, pero termina los <br> pedidos que tienes pendientes.</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\">Aceptar</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div id=\"myModal4\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">¿Cerrar sesión?</h5>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" [routerLink]=\"['/login']\" (click)=\"logout()\">Sí</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div *ngIf=\"restaurante\">\n        <div class=\"info container d-block mt-2\" style=\"height: 175px\" >  \n            <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n                <p class=\"text-center\">\n                    Ha ocurrido un error.\n                </p>\n            </div>\n\n            <p class=\"text-center\">\n                <button class=\"btn btn-primary px-5 mt-2 mb-4 text\" *ngIf=\"support && support == true && !notif\" (click)=\"notificationRequest()\">Activar notificaciones ({{permission}})</button>\n            </p>\n\n            <p class=\"text-center status\">\n                <span *ngIf=\"restaurante && restaurante.status == 'por activar'\" class=\"text\">Tu restaurante aún no ha sido dado de alta</span>\n                <i *ngIf=\"restaurante && restaurante.status == 'inactivo'\" class=\"icon-red fas fa-circle mr-3\"></i>\n                <span *ngIf=\"restaurante && restaurante.status == 'inactivo'\" class=\"text-center\">Tu restaurante está inactivo</span>\n                <i *ngIf=\"restaurante && restaurante.status == 'activo'\" class=\"icon-green fas fa-circle mr-3\"></i>\n                <span *ngIf=\"restaurante && restaurante.status == 'activo'\" class=\"text-center\">Tu restaurante está activo</span>\n                <br>\n                <button href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\" class=\"btn btn-success px-5 mt-2 text\" *ngIf=\"restaurante && restaurante.status == 'inactivo'\">Activar Restaurante</button>\n            </p>\n\n            <div class=\"row\" style=\"height: 40px\" *ngIf=\"pedidos[0]\"> \n                <p class=\"pl-4 subtitle col-9\">\n                    {{'Pedidos: ' + total}}\n                </p>\n            </div>\n\n            <div *ngIf=\"restaurante && restaurante.status == 'activo' && pedidos.length == 0  && completedload\" class=\"sinpedidos\">\n                <p style=\"height: 80px;\"></p>\n                <p class=\"text-center\"><i class=\"sinpedidos-icon fas fa-clipboard-list\"></i></p>\n                <p class=\"text-center\">No tienes pedidos por el momento</p>\n            </div>\n\n            <div class=\"mt-4\">\n                <div *ngFor=\"let pedido of pedidos\" class=\"mb-4 mt-2\"> \n                    <div class=\"card\" [routerLink]=\"['/restaurante/pedido', pedido._id, 0]\" (click)=\"actualizarPedido(pedido.status, pedido._id, pedido.usuario._id)\">\n                        <div class=\"card-body\">\n                          <div class=\"row\">\n                            <p class=\"pedido-card-tiempo flex-grow-1 text-center mx-5\">\n                                {{(pedido.fecha | amFromUnix) | amLocale:'es' | amTimeAgo}}\n                            </p>\n                          </div>\n                          <div class=\"row\">\n                                <p  class=\"pedido-card-icon pl-4 col-2\">{{pedido.contenido.length}}</p>\n                                <p *ngIf=\"pedido.contenido.length == 1\" class=\"pedido-card-text ml-1\">Producto</p>\n                                <p *ngIf=\"pedido.contenido.length > 1\" class=\"pedido-card-text ml-1\">Productos</p>\n                                <!-- <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"!pedido.cupon && restaurante.servicioDomicilio == false\">{{'$' + pedido.total}}</p>\n                                <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"!pedido.cupon && restaurante.servicioDomicilio == true\">{{'$' + (pedido.total + pedido.envio)}}</p> -->\n                                <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"!pedido.cupon\">{{'$' + (pedido.total + pedido.envio)}}</p>\n                                <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"pedido.cupon\">{{'$' + (pedido.total + pedido.envio - pedido.cupon)}}</p>\n                          </div>\n\n                          <div class=\"row pedido-line\">\n                                <i class=\"pedido-card-icon fas fa-user col-2 mt-1 ml-1\"></i>                \n                                <p class=\"pedido-card-text\">{{pedido.usuario.nombre + ' ' + pedido.usuario.apellido}}</p>\n                          </div>\n\n                          <div class=\"row pedido-line2\">\n                                <i class=\"pedido-card-icon fa fa-map-marker-alt col-2 mt-1 ml-1\"></i>                    \n                                <div class=\"pedido-card-text\">{{pedido.direccion}}</div>\n                          </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <p style=\"height: 40px;\"></p>\n        </div>\n    </div>    \n        \n    <div id=\"myModal5\" class=\"modal\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">No tienes permiso para acceder a esta ventana</h5>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn-modal-success btn btn-primary px-5\" data-dismiss=\"modal\">Aceptar</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div id=\"myModal6\" class=\"modal\">\n        <div class=\"modal modal-dialog-centered\" role=\"document\" *ngIf=\"restaurante\">\n        <div class=\"modal-content\">\n            <div class=\"mt-3\">\n                <p class=\"recado-chico\">https://ralph.tk/restaurant/ <br>{{restaurante._id}}</p>\n                <!-- <p class=\"recado-chico\">https://ralph.com.mx/restaurant/ <br>{{restaurante._id}}</p> -->\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn-modal-success btn btn-primary\" data-dismiss=\"modal\" (click)=\"copyMessage(restaurante._id)\">Copiar enlace</button>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <nav class=\"navbar-bottom navbar-default fixed-bottom\">\n        <a *ngIf=\"identity && identity.rol == 'RESTAURANTE'\" [routerLink]=\"['/restaurante/perfil']\" class=\"btn-navbar col-6 border-right border-top\">\n            <i class=\"fas fa-list-ul mr-2\"></i>\n            Productos\n        </a>\n        <a *ngIf=\"identity && identity.rol == 'EMPLEADO'\" href=\"#myModal5\" data-toggle=\"modal\" data-target=\"#myModal5\" class=\"btn-navbar col-6 border-right border-top\">\n            <i class=\"fas fa-list-ul mr-2\"></i>\n            Productos\n        </a>\n        <a [routerLink]=\"['/restaurante/ventas']\" class=\"btn-navbar col-6 border-left border-top\">\n            <i class=\"far fa-chart-bar mr-2\"></i>\n            Mis ventas\n        </a>\n    </nav>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {UploadService} from '../../../services/upload.service';\nimport {GLOBAL} from '../../../services/global';\nimport { NgxImageCompressService } from 'ngx-image-compress';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'misDatosR',\n    templateUrl: './misDatosR.component.html',\n    providers: [RestauranteService, UsuarioService, UploadService]\n}) \n\nexport class MisDatosRComponent implements OnInit{\t\t\t\t\n    public identity;\n    public identityR;\n    public token;\n    public title: string;\n    public url: string;\n    public restaurante: any;\n    public status: string;\n    public support;\n    public permission;\n\n    public fileToUpload: File;\n    public imagesFiles: File;\n    public localUrl: any;\n    public localCompressedURl:any;\n    public imgResultAfterCompress: any;\n    public imageFile: any;\n    public imageBlob: any;\n    public fileName : any;\n    public sizeOfOriginalImage:number;\n    public sizeOFCompressedImage:number;\n    public vecesProceso:number;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _restauranteService: RestauranteService,\n        private _uploadService: UploadService,\n        private imageCompress: NgxImageCompressService,\n        private _location: Location\n    ){\n        this.title ='Actualizar mis datos';\n        this.identity = this._usuarioService.getIdentity();\n        this.identityR = this._usuarioService.getIdentityR();\n        this.token = this._usuarioService.getToken();\n        this.url = GLOBAL.url;\n        this.localCompressedURl = null;\n        this.status = null;\n        this.vecesProceso = 0;\n    }\n\n    ngOnInit(){\n        this.obtenerRestaurante();\n        this.supportNotification();\n    }\n\n    backClicked() {\n        // this._router.navigate(['/restaurante/inicio']);\n        this._location.back();\n    }\n\n    obtenerRestaurante(){\n        this._restauranteService.obtenerRestaurante(this.identityR._id).subscribe(\n            response => {\n                if(response){\n                    this.restaurante = response.restaurante;\n                    localStorage.setItem('identityR', JSON.stringify(this.restaurante));\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    onSubmit(){\n        this._restauranteService.actualizarRestaurante(this.token, this.restaurante).subscribe(\n            response => {\n                if(!response){\n                    this.status = 'error';\n                } else if(this.fileToUpload && this.fileToUpload.size){\n                    this.imageFile = this.convertFile(this.imgResultAfterCompress);\n                    this._uploadService.makeFileRequest(this.url+'actualizar-imagen-restaurante/'+this.restaurante._id, this.imageFile, this.token, 'image', 'PUT')\n                        .then((result:any) => {\n                            this.localCompressedURl = null\n                            this.imageFile = [];\n                            this.restaurante.imagen = result.restaurante.imagen;\n                            this.status = 'success';\n                            localStorage.setItem('identityR', JSON.stringify(this.restaurante));\n                            this.identityR = this.restaurante;  \n                        });\n                } else {\n                    this.status = 'success';\n                    localStorage.setItem('identityR', JSON.stringify(this.restaurante));\n                    this.identityR = this.restaurante;               \n                }\n            },\n            error =>{\n                var errorMessage = <any> error;\n                // console.log(errorMessage);\n   \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n        });\n    }                    \n\n    selectFile(fileInput: any) {\n        this.fileToUpload = fileInput.target.files[0];\n\n        if (this.fileToUpload && this.fileToUpload.size) {\n            var reader = new FileReader();\n            reader.onload = (fileInput: any) => {\n                this.localUrl = fileInput.target.result;\n                this.compressFile(this.localUrl)\n            }\n            reader.readAsDataURL(this.fileToUpload);\n        }\n    }\n\n    compressFile(image) {\n        this.vecesProceso = this.vecesProceso + 1;\n        var orientation = -1;\n\n        this.sizeOfOriginalImage = this.imageCompress.byteCount(image)/(1024*1024);\n        // console.log('Size in bytes is now:',  this.sizeOfOriginalImage);\n        \n        var compresion = 80;\n\n        if(this.sizeOfOriginalImage > 50){\n            var compresion = 10;\n\n        } else if(this.sizeOfOriginalImage > 10){\n            var compresion = 20;\n\n        } else if(this.sizeOfOriginalImage > 1){\n            var compresion = 30;\n\n        } else if(this.sizeOfOriginalImage > 0.3){\n            var compresion = 40;\n        }  \n\n        this.imageCompress.compressFile(image, orientation, compresion, 50).then(\n            result => {\n                this.imgResultAfterCompress = result;\n                this.localCompressedURl = result;\n\n                this.sizeOFCompressedImage = this.imageCompress.byteCount(result)/(1024*1024)\n                // console.log('Size in bytes after compression:',  this.sizeOFCompressedImage);\n\n                if(this.sizeOFCompressedImage < 0.4 || this.vecesProceso >= 3){\n                    this.vecesProceso = 0;\n                    return this.imgResultAfterCompress;\n                } else {\n                    this.compressFile(this.imgResultAfterCompress)\n                }\n            });\n        }\n        \n    convertFile(imgResultAfterCompress){\n        // call method that creates a blob from dataUri\n        const imageBlob = this.dataURItoBlob(imgResultAfterCompress.split(',')[1]);\n        \n        //imageFile created below is the new compressed file which can be send to API in form data\n        const imageFile = new File([imageBlob], 'image.jpeg', { type: 'image/jpeg' });\n        return this.imageFile = imageFile;\n    }\n\n    dataURItoBlob(dataURI) {\n        const byteString = window.atob(dataURI);\n        const arrayBuffer = new ArrayBuffer(byteString.length);\n        const int8Array = new Uint8Array(arrayBuffer);\n        \n        for (let i = 0; i < byteString.length; i++) {\n            int8Array[i] = byteString.charCodeAt(i);\n        }\n\n        const blob = new Blob([int8Array], { type: 'image/jpeg' });\n        return blob;\n    }\n\n    supportNotification(){\n        if(!window.Notification){\n            this.support = false;\n        } else {\n            this.support = true;\n            this.permission = Notification.permission;\n        }\n    }\n    \n    notificationRequest(){\n        Notification.requestPermission( function(permission){\n            if (permission == 'granted'){\n                // console.log('granted');\n            }\n        }).then(e => {\n            this.vapid();\n        })\n    }\n\n    vapid(){\n        if(navigator.serviceWorker){\n            const token = this.token;\n            navigator.serviceWorker.getRegistration().then(reg => {\n            \n                this.getPublicKey().then( function(key){                    \n                    reg.pushManager.subscribe({\n                        userVisibleOnly: true,\n                        applicationServerKey: key\n                    }).then(res => res.toJSON())\n                    .then(subscription => {\n                        fetch(GLOBAL.url + 'subscribe', {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json', 'Authorization': token},\n                            body: JSON.stringify(subscription)\n                        })\n                        .catch(console.log);\n                    })\n                })\n            })\n        } else {\n            // console.log('no lo soporta');\n        } \n    }\n\n    getPublicKey(){\n        const token = this.token;\n        return fetch(this.url + 'key', {\n            headers: { 'Authorization': token},\n        })\n        .then(res => res.arrayBuffer())\n        // retornar arreglo, pero como un UnitBarray\n        .then(key => new Uint8Array(key));\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"icono-Ralph navbar-brand\">\n                <img src=\"../../../../assets/icono.png\"/>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 50px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"panel-body p-3 m-1\">  \n\n        <h2 class=\"h2-strong\">\n            <p class=\"text-center\">\n                {{title}}\n            </p>\n        </h2>\n\n\n        <form autocomplete=\"off\" #misDatosRForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" class=\"\" *ngIf=\"restaurante\">\n\n            <div class=\"img-edit d-block\">\n                <p class=\"text-center\">\n                    <img *ngIf=\"identityR.imagen && identityR.imagen != null && localCompressedURl == null\" src=\"{{url + 'obtener-imagen-restaurante/' + identityR.imagen}}\">\n                    <img *ngIf=\"localCompressedURl && localCompressedURl != null\" [src]=\"localCompressedURl\"/>\n                </p>                    \n                <div *ngIf=\"identityR.imagen == null && localCompressedURl == null\" class=\"square mx-auto px-auto\">\n                    <i class=\"icon-img fas fa-camera\"></i>\n                </div>\n            </div>\n            <p class=\"text-center\">\n                <label for=\"file-upload\" class=\"custom-file-upload\" *ngIf=\"identityR.imagen && identityR.imagen != null\" >Actualizar imágen</label>\n                <input id=\"file-upload\" *ngIf=\"identityR.imagen && identityR.imagen != null\" type=\"file\" accept=\".jpg,.png,.jpeg\" placeholder=\"Subir nueva imagen\" (change)=\"selectFile($event)\" />\n\n                <label for=\"file-upload\" class=\"custom-file-upload px-3\" *ngIf=\"identityR.imagen == null\" >Subir imágen</label>\n                <input id=\"file-upload\" type=\"file\" *ngIf=\"identityR.imagen == null\" accept=\".jpg,.png,.jpeg\" placeholder=\"Seleccionar imagen\" (change)=\"selectFile($event)\" />\n                <br>\n                <label>Procura no subir imágenes muy pesadas.</label>\n            </p>\n\n            <hr>\n\n            <div class=\"form-group mt-3\">\n                <label>Nombre de tu negocio</label>\n                <input autocomplete=\"off\" maxlength=\"22\" type=\"text\" name=\"nombre\" #nombre=\"ngModel\" [(ngModel)]=\"restaurante.nombre\" class=\"form-control\" required />\n                <span *ngIf=\"!nombre.valid && nombre.touched\">\n                    El nombre es obligatorio\n                </span>\n            </div>\n\n            <div class=\"form-group mt-3\">\n                <label>Ubicación</label>\n                <div class=\"row\">\n                    <input autocomplete=\"off\" maxlength=\"22\" type=\"text\" name=\"ubicacion[0]\" #ubicacion=\"ngModel\" [(ngModel)]=\"restaurante.ubicacion[0]\" class=\"form-control col-7 ml-3\" required />\n                    <label class=\"col-1 mt-2\">#</label>\n                    <input autocomplete=\"off\" type=\"number\" name=\"ubicacion[1]\" #ubicacion=\"ngModel\" [(ngModel)]=\"restaurante.ubicacion[1]\" class=\"form-control col-3\" required />\n                </div>\n                <span *ngIf=\"!ubicacion.valid && ubicacion.touched\">\n                    La ubicacion es obligatoria\n                </span>\n            </div>\n\n            <div class=\"form-group mt-3\">\n                <label>Horario</label>\n                <div  class=\"row\">\n                    <label class=\"col-1 mt-2 mr-4 ml-2\">De</label>\n                    <input autocomplete=\"off\" maxlength=\"9\" type=\"text\" name=\"horario[0]\" #horario=\"ngModel\" [(ngModel)]=\"restaurante.horario[0]\" class=\"form-control col-4\" required />\n                    <label class=\"col-1 mt-2 mr-2\">a</label>\n                    <input autocomplete=\"off\" maxlength=\"9\" type=\"text\" name=\"horario[1]\" #horario=\"ngModel\" [(ngModel)]=\"restaurante.horario[1]\" class=\"form-control col-4\" required />\n                </div>\n                <span *ngIf=\"!horario.valid && horario.touched\">\n                    El horario es obligatorio\n                </span>\n            </div>\n\n            <div class=\"form-group mt-3\">\n                <label>Horario 2 (opcional)</label>\n                <div  class=\"row\">\n                    <label class=\"col-1 mt-2 mr-4 ml-2\">De</label>\n                    <input autocomplete=\"off\" maxlength=\"9\" type=\"text\" name=\"horario[2]\" #horario=\"ngModel\" [(ngModel)]=\"restaurante.horario[2]\" class=\"form-control col-4\" required />\n                    <label class=\"col-1 mt-2 mr-2\">a</label>\n                    <input autocomplete=\"off\" maxlength=\"9\" type=\"text\" name=\"horario[3]\" #horario=\"ngModel\" [(ngModel)]=\"restaurante.horario[3]\" class=\"form-control col-4\" required />\n                </div>\n            </div>\n\n            <div class=\"form-group mt-3\">\n                <label>Teléfono de contacto</label>\n                <input autocomplete=\"off\" maxlength=\"10\" type=\"tel\" name=\"telefono\" #telefono=\"ngModel\" [(ngModel)]=\"restaurante.telefono\" class=\"form-control\" required />\n                <span *ngIf=\"!telefono.valid && telefono.touched\">\n                    El teléfono es obligatorio\n                </span>\n            </div>\n\n            <div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\n                Se han actualizado tus datos correctamente\n            </div>\n        \n            <div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\n                No se han podido actualizar tus datos\n            </div>\n\n            <p class=\"text-center mt-4\">\n                <input type=\"submit\" value=\"Guardar cambios\" class=\"btn btn-success\">\n            </p>\n        </form>\n\n        <div *ngIf=\"restaurante && restaurante.horario[3] == '12345'\">\n            <br>\n            <br>\n            <p class=\"text-center\">\n                <button class=\"btn btn-primary px-5 mb-3 text\" *ngIf=\"support == true\" (click)=\"notificationRequest()\">Activar notificaciones ({{permission}})</button>\n                <button class=\"btn btn-primary px-5 mb-3 text\" *ngIf=\"support == false\" (click)=\"notificationRequest()\">Support: ({{support}})</button>\n            </p>\n        </div>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {PedidoService} from '../../../services/pedido.service';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {Pedido} from '../../../models/pedido';\nimport {Restaurante} from '../../models/restaurante';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'pedidoR',\n    templateUrl: './pedidoR.component.html',\n    providers: [UsuarioService, PedidoService, RestauranteService]\n}) \n\nexport class PedidoRComponent implements OnInit{\t\t\t\t\n    public token;\n    public identityR;\n    public status;\n    public pedido;\n    public restaurante: Restaurante;\n    public id;\n    public numero;\n    public credito;\n    public debe;\n    public ralphDebe;\n    public resultado;\n    public operacion;\n    public operacion1;\n    public operacion2;\n    public operacion3;\n    public operacion4;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _pedidoService: PedidoService,\n        private _restauranteService: RestauranteService,\n        private _location: Location\n    ){\n        this.token = this._usuarioService.getToken();\n        this.identityR = this._usuarioService.getIdentityR();\n        this.restaurante = this.identityR;\n        this.status = null;\n    }\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            if(params['id']){ \n                this.id = params['id'];\n                this.obtenerPedido(this.id);\n            }\n\n            if(params['numero']){ \n                this.numero = params['numero'];\n            }\n        })\n\n        let pedidoProducto = JSON.parse(localStorage.getItem('pedidoProducto'));\n\n        if(pedidoProducto != \"undefined\" && pedidoProducto != null){\n            localStorage.removeItem('pedidoProducto');\n        }\n    }\n    \n\n    backClicked() {\n        // if(this.numero == 0){\n        //     this._router.navigate(['/restaurante/inicio']);\n        // }\n\n        // if(this.numero == 1){\n        //     this._router.navigate(['/restaurante/ventas']);\n        // }\n\n        // if(this.numero == 2){\n        //     this._router.navigate(['/restaurante/credito-debo']);\n        // }\n        this._location.back();\n    }\n\n    obtenerPedido(pedidoId){\n        this._pedidoService.obtenerPedido(this.token, pedidoId, 1).subscribe(\n            response => {\n                if(response){\n                    this.pedido = response.pedido;\n\n                    var op = (this.pedido.comision*100) - (this.pedido.cupon*100)\n                    this.operacion = op / 100;\n                    \n                    var op1 = (this.pedido.total*100) - (this.pedido.comision*100)\n                    this.operacion1 = op1 / 100;\n                    \n                    var op2 = (this.pedido.total*100) - (this.pedido.comision*100) + (this.pedido.envio*100)\n                    this.operacion2 = op2 / 100;\n                    \n                    var op3 = (this.pedido.total*100) - (this.pedido.cupon*100) + (this.pedido.envio*100)\n                    this.operacion3 = op3 / 100;\n\n                    // var op4 = (this.pedido.cupon*100) - (this.pedido.envio*100) - (this.pedido.comision*100)\n                    var op4 = (this.pedido.cupon*100) - (this.pedido.comision*100)\n                    this.operacion4 = op4 / 100;\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    actualizarPedido(pedidoId, usuarioId, status){\n        if(status == 2){\n            var direction = ['restaurante/inicio']\n        } else {\n            var direction = ['restaurante/ventas']\n        }\n\n        this._pedidoService.actualizarPedido(this.token, pedidoId, usuarioId, status).subscribe(\n            response => {\n                if(response){\n                    if(status == 2){\n                        this.obtenerRestaurante();\n                    }\n\n                    // this._router.navigate(direction);\n                    this._location.back();\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    obtenerRestaurante(){\n        this._restauranteService.obtenerRestaurante(this.identityR._id).subscribe(\n            response => {\n                if(response){\n                    this.restaurante = response.restaurante;\n                    this.credito = response.restaurante.credito;\n                    this.debe = response.restaurante.debe;\n                    this.actualizarCredito();\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n    actualizarCredito(){\n        if(this.pedido.cupon != null){\n            var com = (this.pedido.comision*1000) - (this.pedido.cupon*1000) + (this.pedido.envio*1000);\n            this.pedido.comision = com / 1000;\n        }\n\n        if(this.pedido.comision >= 0){\n            if(this.credito > 0){\n                var res = (this.credito*1000) - (this.pedido.comision*1000);\n                this.resultado = res / 1000;\n    \n                if(this.resultado > 0){\n                    this.credito = this.resultado;\n                }\n        \n                if(this.resultado <= 0){\n                    this.credito = 0;\n                    this.debe = this.resultado;\n                }\n            } else if (this.credito <= 0){\n                var res2 = (this.debe*1000) - (this.pedido.comision*1000);\n                this.resultado = res2 / 1000;\n                this.debe = this.resultado;\n            }\n\n        } else {\n            this.restaurante.ralphDebe = this.restaurante.ralphDebe + (this.pedido.comision * -1);\n        }\n        \n        this.restaurante.credito = this.credito;\n        this.restaurante.debe = this.debe;\n        \n\n        this._restauranteService.actualizarRestaurante(this.token, this.restaurante).subscribe(\n            response => {\n                if(response){\n                }\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n\n\n    whatsAppMandaditos(){\n        if(this.restaurante.municipio == '5ea75e0f006fd271928efe33'){\n            window.location.href = 'https://api.whatsapp.com/send?phone=523921009557&text=Hola,%20soy%20de%20' + this.restaurante.nombre + ',%20nomas%20para%20avisarte%20que%20el%20pedido%20que%20hubo%20a%20trav%C3%A9s%20de%20la%20aplicaci%C3%B3n%20Ralph,%20ya%20est%C3%A1%20listo%20para%20que%20lo%20recojan.';\n\n        } else {\n            window.location.href = 'https://api.whatsapp.com/send?phone=523921220020&text=Hola,%20soy%20de%20' + this.restaurante.nombre + ',%20nomas%20para%20avisarte%20que%20el%20pedido%20que%20hubo%20a%20trav%C3%A9s%20de%20la%20aplicaci%C3%B3n%20Ralph,%20ya%20est%C3%A1%20listo%20para%20que%20lo%20recojan.';\n        }\n    }\n\n\n    funcionProducto(producto){\n        localStorage.setItem('pedidoProducto', JSON.stringify(producto));\n    }\n\n\n    whatsApp(tel){\n        window.location.href = 'https://api.whatsapp.com/send?phone=52' + tel + '&text=%C2%A1Hola!%20Soy%20del%20negocio%20' + this.restaurante.nombre;\n    }\n\n    telefono(tel){\n        window.location.href = 'tel:' + tel;\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom flex-grow-1\">\n                <p class=\"text-center mt-1\">Detalles pedido</p>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 45px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                Ha ocurrido un error.\n            </p>\n        </div>\n\n        <div class=\"row\" style=\"height: 35px\" *ngIf=\"pedido && numero == 0\"> \n            <p class=\"text-right mr-4 mt-3 flex-grow-1 text\">\n                {{(pedido.fecha | amFromUnix) | amLocale:'es' | amTimeAgo}}\n            </p>\n        </div>\n\n        <div class=\"row\" style=\"height: 35px\" *ngIf=\"pedido && numero != 0\"> \n            <p class=\"text-right mr-4 mt-3 flex-grow-1 text\">\n                {{(pedido.fecha | amFromUnix) | amLocale:'es' | amDateFormat:'LL'}}\n            </p>\n        </div>\n\n        <div class=\"mt-4\" *ngIf=\"pedido\">\n            <div *ngFor=\"let productoPedido of pedido.contenido\" class=\"mb-3\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <div class=\"row detalle-pedido\">\n                            <p class=\"col-12 text-muted text-center\">{{'Sección: ' + productoPedido.seccion}}</p>\n                        </div>\n\n                        <div class=\"row detalle-pedido\">\n                            <p class=\"ml-1 col-2 text-center\">{{productoPedido.cantidad}}</p>\n                            <p class=\"\">{{productoPedido.producto}}</p>\n                            <p class=\"detalle-pedido-total flex-grow-1 text-right\">{{'$' + productoPedido.total}}</p>\n                        </div> \n\n                        <div class=\"row detalle-ing mt-1 mb-3\" *ngIf=\"productoPedido.ingredientes\">\n                            <div class=\"col-2\"></div>\n                            <div class=\"flex-grow-1 ml-1\">\n                                <span class=\"btn-gray\">Detalles:</span>\n                                <div *ngFor=\"let ingrediente of productoPedido.ingredientes\">\n                                    <span class=\"pl-3 text-justify producto-ing\">{{'-' + ingrediente}}</span>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"row detalle-pedido\" *ngIf=\"numero != 2\">\n                            <div class=\"pl-4 col-9 text-justify producto-descripcion\"><span *ngIf=\"productoPedido.nota\">{{'* ' + productoPedido.nota + ' *' }}</span></div>\n                            <a [routerLink]=\"['/restaurante/detalle-producto', productoPedido._id]\" (click)=\"funcionProducto(productoPedido)\" *ngIf=\"productoPedido._id\" class=\"pr-3 text-left mt-2 pt-1\"><i class=\"flex-grow-1 icon-trash fas fa-info-circle\"></i></a>\n                        </div>\n                        \n                        <div class=\"row detalle-pedido mt-2\" *ngIf=\"pedido && numero == 2 && productoPedido.comision\">\n                            <p class=\"flex-grow-1 text-right\">Comisión:<span class=\"ml-2 mr-5\">$  {{productoPedido.comision}}</span></p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <p style=\"height: 5px;\"></p>\n\n        <div *ngIf=\"pedido\">\n            <div class=\"row\" *ngIf=\"pedido && numero != 2\">\n                <p class=\"text-right col-4 mt-2 mr-2\"><i class=\"pedido-card-icon fas fa-user\"></i></p>\n                <p class=\"text-detalle-pedido\">{{pedido.usuario.nombre + ' ' + pedido.usuario.apellido}}</p>\n            </div>\n            <div class=\"row\" *ngIf=\"pedido && numero != 2 && pedido.status != 'Completado' && pedido.status != 'Cancelado'\">\n                <p class=\"text-right col-4 mt-2 mr-2\"><i class=\"pedido-card-icon fa fa-map-marker-alt\"></i></p>\n                <p class=\"text-detalle-pedido\">{{pedido.direccion}}</p>\n            </div>\n            <div class=\"row\" *ngIf=\"pedido && numero != 2 && pedido.status != 'Completado' && pedido.status != 'Cancelado'\">\n                <p class=\"text-right col-4 mt-2 ml-1 mr-1\"><i class=\"pedido-card-icon fas fa-phone-alt\"></i></p>\n                <p class=\"text-detalle-pedido\">{{pedido.usuario.telefono}}</p>\n            </div>\n            <p class=\"text-center\" *ngIf=\"pedido && numero != 2 && pedido.status != 'Completado' && pedido.status != 'Cancelado'\">\n                <button class=\"btn btn-success px-4 mx-2\" type=\"submit\" (click)=\"whatsApp(pedido.usuario.telefono)\"><i class=\"text fab fa-whatsapp\"></i></button>\n                <button class=\"btn btn-primary px-4 mx-2\" type=\"submit\" (click)=\"telefono(pedido.usuario.telefono)\"><i class=\"text fas fa-phone-alt\"></i></button>    \n            </p>\n\n            <div *ngIf=\"numero == 0\">\n                <br>\n                <div class=\"row mb-2\">\n                    <p class=\"text flex-grow-1 d-block text-right mr-3\"><strong>Subtotal:<span class=\"detalle-pedido-total3 ml-3\">{{' ' + '$' + (pedido.total)}}</span></strong></p>\n                </div>\n                <div class=\"row mb-2\">\n                    <p class=\"text flex-grow-1 d-block text-right mr-3\">Costo de envío:<span class=\"detalle-pedido-total ml-3\">{{' ' + '$' + pedido.envio}}</span></p>\n                </div>\n                <div class=\"row mb-2\" *ngIf=\"pedido.cupon\">\n                    <p class=\"text flex-grow-1 d-block text-right mr-3\">Cupón:<span class=\"detalle-pedido-total3 ml-3\">{{' ' + '- $' + (pedido.cupon)}}</span></p>\n                </div>\n                <div class=\"row\" *ngIf=\"pedido\">\n                    <!-- <p class=\"text-detalle-pedido flex-grow-1 text-right mr-5 mt-2\" *ngIf=\"!pedido.cupon && restaurante && restaurante.servicioDomicilio == false\">Total:<span class=\"detalle-pedido-total2\">{{' ' + '$' + pedido.total}}</span> </p>\n                    <p class=\"text-detalle-pedido flex-grow-1 text-right mr-5 mt-2\" *ngIf=\"!pedido.cupon && restaurante && restaurante.servicioDomicilio == true\">Total:<span class=\"detalle-pedido-total2\">{{' ' + '$' + (pedido.total + pedido.envio)}}</span> </p> -->\n                    <p class=\"text-detalle-pedido flex-grow-1 text-right mr-5 mt-2\" *ngIf=\"!pedido.cupon\">Total:<span class=\"detalle-pedido-total2\">{{' ' + '$' + (pedido.total + pedido.envio)}}</span> </p>\n                    <p class=\"text-detalle-pedido flex-grow-1 text-right mr-5 mt-2\" *ngIf=\"pedido.cupon\">Total:<span class=\"detalle-pedido-total2\">{{' ' + '$' + (pedido.total + pedido.envio - pedido.cupon)}}</span> </p>\n                </div>\n\n                <p *ngIf=\"pedido\" class=\"text-center mt-3\"><button class=\"btn btn-danger btn-orange px-4\" href=\"#myModal\" data-toggle=\"modal\" data-target=\"#myModal\"><i class=\"fas fa-check mr-2\"></i>Pedido enviado</button></p>\n                \n                <p style=\"height: 10px;\" *ngIf=\"restaurante.servicioDomicilio == false\"></p>\n                <p *ngIf=\"restaurante.servicioDomicilio == false\" class=\"text-center mt-3\"><button class=\"btn btn-success px-4\" (click)=\"whatsAppMandaditos()\"><i class=\"fab fa-whatsapp mr-2\"></i>Contactar al repartidor</button></p>\n            </div>\n        </div>\n\n        <div id=\"myModal\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Pedido enviado?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarPedido(pedido._id, pedido.usuario._id, 2)\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div *ngIf=\"pedido && numero != 0\" class=\"mt-5\">\n            <div class=\"row\" *ngIf=\"restaurante.servicioDomicilio == true\">\n                <p class=\"col-1\"></p>\n                <p class=\"col-7 text-left text-detalle-pedido\">Costo de envío:</p>\n                <p class=\"flex-grow-1 text-left text-detalle-pedido\">{{'$' + pedido.envio}}</p>\n            </div>\n            <div class=\"row\">\n                <p class=\"col-1\"></p>\n                <p class=\"col-7 text-left text-detalle-pedido\">Total:</p>\n                <p *ngIf=\"restaurante.servicioDomicilio == true\" class=\"flex-grow-1 text-left text-detalle-pedido\">{{'$' + (pedido.total + pedido.envio)}}</p>\n                <p *ngIf=\"restaurante.servicioDomicilio == false\" class=\"flex-grow-1 text-left text-detalle-pedido\">{{'$' + (pedido.total)}}</p>\n            </div>\n            <div *ngIf=\"pedido.cupon\">\n                <div class=\"row\">\n                    <p class=\"col-1\"></p>\n                    <p class=\"col-7 text-left text-detalle-pedido\">Cupón:</p>\n                    <p class=\"flex-grow-1 text-left text-detalle-pedido\">{{'-$' + (pedido.cupon)}}</p>\n                </div>\n                <div class=\"row\">\n                    <p class=\"col-1\"></p>\n                    <p class=\"col-7 text-left text-detalle-pedido\">Dinero recibido:</p>\n                    <p class=\"flex-grow-1 text-left text-detalle-pedido\"><strong>{{'\\$' + operacion3}}</strong></p>\n                </div>\n            </div> \n            <div class=\"row\">\n                <p class=\"col-1\"></p>\n                <p class=\"col-7 text-left text-detalle-pedido\">Comisión Ralph:</p>\n                <p class=\"flex-grow-1 text-left text-detalle-pedido\" *ngIf=\"!pedido.cupon\">{{'-$' + pedido.comision}}</p>\n                <p class=\"flex-grow-1 text-left text-detalle-pedido\" *ngIf=\"pedido.cupon && pedido.comision > pedido.cupon\">-$ {{operacion}}<span class=\"text-muted pl-1\">{{' (-$' + pedido.comision + ')'}}</span></p>\n                <p class=\"flex-grow-1 text-left text-detalle-pedido\" *ngIf=\"pedido.cupon && pedido.comision <= pedido.cupon\">$0<span class=\"text-muted pl-1\">{{' (-$' + pedido.comision + ')'}}</span></p>\n            </div>\n            <div class=\"row\">\n                <p class=\"col-1\"></p>\n                <p class=\"col-7 text-left text-detalle-pedido\">Ganancia:</p>\n                <p class=\"flex-grow-1 text-left detalle-pedido-total2\" *ngIf=\"!pedido.cupon && restaurante.servicioDomicilio == false\">{{'$' + operacion1}}</p>\n                <p class=\"flex-grow-1 text-left detalle-pedido-total2\" *ngIf=\"!pedido.cupon && restaurante.servicioDomicilio == true\">{{'$' + operacion2}}</p>\n                <p class=\"flex-grow-1 text-left detalle-pedido-total2\" *ngIf=\"pedido.cupon && pedido.comision > pedido.cupon\">{{'$' + operacion2}}</p>\n                <p class=\"flex-grow-1 text-left detalle-pedido-total2\" *ngIf=\"pedido.cupon && pedido.comision <= pedido.cupon\">{{'$' + operacion3 + ' +'}}</p>\n                <!-- <p class=\"flex-grow-1 text-left detalle-pedido-total2\" *ngIf=\"pedido.cupon\">{{'$' + (pedido.total - pedido.comision + pedido.envio - pedido.cupon)}}</p> -->\n            </div>\n            <div class=\"row\" *ngIf=\"pedido.cupon && pedido.comision <= pedido.cupon\">\n                <p class=\"col-1\"></p>\n                <p class=\"col-7 text-left text-detalle-pedido\">Ralph te debe:</p>\n                <p class=\"flex-grow-1 text-left detalle-pedido-total2\">{{'$' + operacion4}}</p>\n            </div>\n        </div>\n\n        <p *ngIf=\"pedido && pedido.status == 'En camino' && numero == 1\" class=\"text-center mt-3\"><button class=\"btn btn-success px-3 mt-1\" href=\"#myModal2\" data-toggle=\"modal\" data-target=\"#myModal2\"><i class=\"fas fa-check-circle mr-2\"></i>El pedido fue completado</button></p>\n        <!-- <p *ngIf=\"pedido && pedido.status == 'En camino' && numero == 1\" class=\"text-center mt-3\"><button class=\"btn btn-danger px-4\" href=\"#myModal3\" data-toggle=\"modal\" data-target=\"#myModal3\"><i class=\"fas fa-times-circle mr-2\"></i>El pedido fue cancelado</button></p> -->\n\n        <p style=\"height: 5px;\"></p>\n\n        <div id=\"myModal2\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Pedido completado?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarPedido(pedido._id, 0, 3)\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div id=\"myModal3\" class=\"modal\">\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">¿Pedido cancelado?</h5>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn-modal-cancel btn btn-warning\" data-dismiss=\"modal\">Cancelar</button>\n                        <button type=\"button\" class=\"btn-modal-success btn btn-primary px-4\" data-dismiss=\"modal\" (click)=\"actualizarPedido(pedido._id, 0, 4)\">Si</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {Producto} from '../../models/producto';\nimport {Cupon} from '../../../models/cupon';\nimport {Ingredientes} from '../../models/ingredientes';\nimport {Seccion} from '../../models/seccion';\nimport {Categoria} from '../../../admin/models/categoria';\nimport {ProductoService} from '../../../services/producto.service';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {MunicipiosService} from '../../../services/municipio.service';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {UploadService} from '../../../services/upload.service';\nimport {GLOBAL} from '../../../services/global';\nimport { NgxImageCompressService } from 'ngx-image-compress';\nimport {Location} from '@angular/common';\n\n\n@Component({\n    selector: 'productoR',\n    templateUrl: './productoR.component.html',\n    providers: [ProductoService, UsuarioService, MunicipiosService, RestauranteService, UploadService]\n})\n\nexport class ProductoRComponent implements OnInit{\t\t\t\t\n    public identityR;\n    public token;\n    public url: string;\n    public producto: Producto;\n    public cupon: Cupon;\n    public ingredientes: Ingredientes;\n    public categorias: Categoria[];\n    public secciones: Seccion[];\n    public status: string;\n    public id: any;\n    public comision: any;\n    public ingredientesExtras: any;\n    public ing: any;\n\n    public fileToUpload: File;\n    public imagesFiles: File;\n    public localUrl: any;\n    public localCompressedURl:any;\n    public imgResultAfterCompress: any;\n    public imageFile: any;\n    public imageBlob: any;\n    public fileName : any;\n    public sizeOfOriginalImage:number;\n    public sizeOFCompressedImage:number;\n    public vecesProceso:number;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _productoService: ProductoService,\n        private _municipiosService: MunicipiosService,\n        private _restauranteService: RestauranteService,\n        private _uploadService: UploadService,\n        private imageCompress: NgxImageCompressService,\n        private _location: Location\n    ){\n        this.identityR = this._usuarioService.getIdentityR();\n        this.token = this._usuarioService.getToken();\n        this.url = GLOBAL.url;\n        this.localCompressedURl = null;\n        this.vecesProceso = 0;\n        this.status = null;\n        this.fileToUpload = null;\n        this.cupon = new Cupon(null, null, null, null, null, null, null);\n        this.ingredientes = new Ingredientes(null, null, null, null);\n        this.ingredientesExtras = [];\n        this.ing = [];\n    }\n\n    ngOnInit(){\n        this.obtenerCategorias();\n        this.obtenerSecciones();\n        this.loadPage();\n    }\n\n    backClicked() {\n        // this._router.navigate(['/restaurante/perfil']); \n        this._location.back();\n    }\n   \n    loadPage(){\n        this._route.params.subscribe(params => {\n            this.id = 0;\n\n            if(params['id'] != 0){ \n                this.id = params['id'];\n            }\n\n            if(this.id != 0){\n                this.obtenerProducto(this.id);                \n            } else {\n                this.producto = new Producto(\"\", \"\", \"\", \"\", null, null, \"\", \"\", \"\", \"\", []);\n                // this.comision = this.producto.precio * 0.1;\n            }\n        })\n    }\n\n    obtenerProducto(id){\n        this._productoService.obtenerProducto(id).subscribe(\n            response => {                \n                if(response.producto && response.producto._id){\n                    this.producto = response.producto;\n                    // this.comision = this.producto.precio * 0.1;\n\n                    var ingr = [];\n                    ingr.push(this.producto.ingredientes)\n\n                    ingr[0].forEach(element => {\n                        element.ingredientes.forEach(element => {\n                            this.ing.push(element[0])\n                        });\n                    });\n\n                } else {\n                    this.status = 'error2';\n                }\n            },\n            error => {\n                this.status = 'error2';\n                // console.log(<any>error)\n            }\n        )\n    }\n\n    obtenerCategorias(){\n        this._municipiosService.obtenerCategorias().subscribe(\n            response => {\n                this.categorias = response.categorias;\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n            }\n        )\n    }\n\n    obtenerSecciones(){\n        this._restauranteService.obtenerSecciones(this.identityR._id, 1, 1).subscribe(\n            response => {\n                this.secciones = response.secciones;\n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n            }\n        )\n    }\n\n    anadir(){\n        if(this.cupon.fechaVencimiento != null && this.cupon.fechaVencimiento != \"\" && this.cupon.compraMinima != null){\n\n            var aaaa = [] \n            aaaa.push(this.cupon.compraMinima);\n\n            if(this.ing.includes(this.cupon.fechaVencimiento)){\n                var alerta = 'Ya hay un ingrediente extra con el nombre de \"' + this.cupon.fechaVencimiento + '\". Intenta con un nombre diferente.';\n                return alert(alerta);\n\n            } else if(Number.isInteger(aaaa[0]) == false){\n                return alert('No puedes escribir precios con decimales.');\n\n            } else {\n                var objeto = [];\n                objeto.push(this.cupon.fechaVencimiento);\n                objeto.push(this.cupon.compraMinima);\n                this.ing.push(this.cupon.fechaVencimiento);\n        \n                this.cupon.fechaVencimiento = null;\n                this.cupon.compraMinima = null;\n                this.ingredientesExtras.push(objeto);\n            }\n        }\n    }\n\n    anadirIngrediente(){\n        if(this.ingredientes.titulo != null && this.ingredientes.titulo != \"\" && this.ingredientes.minimo != null && this.ingredientes.maximo != null && this.ingredientesExtras[0]){\n\n            this.ingredientes.ingredientes = this.ingredientesExtras;\n\n\n            var titulo = this.ingredientes.titulo;\n            this.ingredientes.titulo = null;\n\n            var minimo = this.ingredientes.minimo;\n            this.ingredientes.minimo = null;\n            \n            var maximo = this.ingredientes.maximo;\n            this.ingredientes.maximo = null;\n            \n            var ingredient = this.ingredientes.ingredientes;\n            this.ingredientes.ingredientes = null;\n\n            var ingredientesE = { titulo: titulo, minimo: minimo, maximo: maximo, ingredientes: ingredient}\n            this.producto.ingredientes.push(ingredientesE);\n\n            this.ingredientesExtras = [];\n        }\n    }\n\n\n    onSubmit(form){\n        if(Number.isInteger(this.producto.precio) == false){\n            return alert('No puedes escribir precios con decimales.');\n\n        } else if(this.id == 0){\n            this.action1(form);\n        } else {\n            this.action2();\n        }\n    }\n\n\n    action1(form){\n        // if (this.fileToUpload && this.fileToUpload.size){\n        //     this.producto.imagen = '1';\n        // }\n\n        if(this.producto.precio <= 0){\n            this.status = 'error3';\n\n        } else {\n            this._productoService.crearProducto(this.token, this.producto).subscribe(\n                response => {\n                    if(!response.producto || !response.producto._id){\n                        this.status = 'error1';\n                    } else if (this.fileToUpload && this.fileToUpload.size){\n                        this.producto = response.producto;\n                        this.imageFile = this.convertFile(this.imgResultAfterCompress);\n                        this._uploadService.makeFileRequest(this.url+'actualizar-imagen-producto/'+this.identityR._id + '/' + response.producto._id, this.imageFile, this.token, 'image', 'PUT')\n                            .then((result:any) => {\n                                this.localCompressedURl = null\n                                this.imageFile = [];\n                                form.reset();\n                                // this._router.navigate(['/restaurante/perfil']);                          \n                                this._location.back();\n                            });\n                    } else if (response.producto){\n                        form.reset();\n                        // this._router.navigate(['/restaurante/perfil']);\n                        this._location.back();\n                    }\n                },\n                error =>{\n                    var errorMessage = <any> error;\n                    // console.log(errorMessage);\n       \n                    if(errorMessage != null){\n                        this.status = 'error1';\n                    }\n                }\n            )\n        }\n    }\n\n    action2(){\n        this._productoService.actualizarproducto(this.token, this.identityR._id, this.producto).subscribe(\n            response => {\n                if(!response.producto || !response.producto._id){\n                    this.status = 'error2';\n                } else if (this.fileToUpload && this.fileToUpload.size){\n                    this.producto = response.producto;\n                    this.imageFile = this.convertFile(this.imgResultAfterCompress);\n                    this._uploadService.makeFileRequest(this.url+'actualizar-imagen-producto/'+this.identityR._id + '/' + response.producto._id, this.imageFile, this.token, 'image', 'PUT')\n                        .then((result:any) => {\n                            this.producto.imagen = result.producto.imagen;\n                            this.localCompressedURl = null\n                            this.imageFile = [];\n                            this.status = 'success';\n                            this._location.back();\n                        });\n                } else {\n                    this.producto = response.producto;\n                    this.status = 'success';\n                    this._location.back();\n                }\n            },\n            error => {\n                this.status = 'error2';\n                // console.log(<any>error)\n            }\n        );\n    }\n\n    guardarLocalStorage(){\n        localStorage.setItem('producto', JSON.stringify(this.producto));\n    }\n\n    actualizarLocalStorage(){\n        this.producto = JSON.parse(localStorage.getItem('producto'));\n\n        this._productoService.actualizarproducto(this.token, this.identityR._id, this.producto).subscribe(\n            response => {\n                if(!response.producto || !response.producto._id){\n                    this.status = 'error2';\n                } else {\n                    localStorage.removeItem('producto');\n                    this.producto = response.producto;\n                    this.status = 'success';\n                }\n            },\n            error => {\n                this.status = 'error2';\n                // console.log(<any>error)\n            }\n        );\n    }\n\n\n    selectFile(fileInput: any) {\n        this.fileToUpload = fileInput.target.files[0];\n\n        if (this.fileToUpload && this.fileToUpload.size) {\n            var reader = new FileReader();\n            reader.onload = (fileInput: any) => {\n                this.localUrl = fileInput.target.result;\n                this.compressFile(this.localUrl)\n            }\n            reader.readAsDataURL(this.fileToUpload);\n        }\n    }\n\n    compressFile(image) {\n        this.vecesProceso = this.vecesProceso + 1;\n        var orientation = -1;\n\n        this.sizeOfOriginalImage = this.imageCompress.byteCount(image)/(1024*1024);\n        // console.log('Size in bytes is now:',  this.sizeOfOriginalImage);\n        \n        var compresion = 80;\n\n        if(this.sizeOfOriginalImage > 50){\n            var compresion = 10;\n\n        } else if(this.sizeOfOriginalImage > 10){\n            var compresion = 20;\n\n        } else if(this.sizeOfOriginalImage > 1){\n            var compresion = 30;\n\n        } else if(this.sizeOfOriginalImage > 0.4){\n            var compresion = 40;\n        }  \n\n        this.imageCompress.compressFile(image, orientation, compresion, 50).then(\n            result => {\n                this.imgResultAfterCompress = result;\n                this.localCompressedURl = result;\n\n                this.sizeOFCompressedImage = this.imageCompress.byteCount(result)/(1024*1024)\n                // console.log('Size in bytes after compression:',  this.sizeOFCompressedImage);\n\n                if(this.sizeOFCompressedImage < 0.4 || this.vecesProceso >= 3){\n                    this.vecesProceso = 0;\n                    return this.imgResultAfterCompress;\n                } else {\n                    this.compressFile(this.imgResultAfterCompress)\n                }\n            });\n    }\n        \n    convertFile(imgResultAfterCompress){\n        // call method that creates a blob from dataUri\n        const imageBlob = this.dataURItoBlob(this.imgResultAfterCompress.split(',')[1]);\n        \n        //imageFile created below is the new compressed file which can be send to API in form data\n        const imageFile = new File([imageBlob], 'image.jpeg', { type: 'image/jpeg' });\n        return this.imageFile = imageFile;\n    }\n\n    dataURItoBlob(dataURI) {\n        const byteString = window.atob(dataURI);\n        const arrayBuffer = new ArrayBuffer(byteString.length);\n        const int8Array = new Uint8Array(arrayBuffer);\n        \n        for (let i = 0; i < byteString.length; i++) {\n            int8Array[i] = byteString.charCodeAt(i);\n        }\n\n        const blob = new Blob([int8Array], { type: 'image/jpeg' });\n        return blob;\n    }\n\n    // eliminarImagenProducto(){\n    //     this._productoService.eliminarImagenProducto(this.token, this.producto._id).subscribe(\n    //         response => {\n    //             if(response){\n    //                 this.producto = response.producto;\n    //                 console.log(response);\n    //             }\n    //         },\n    //         error => {\n    //             var errorMessage = <any>error;\n    //             console.log(errorMessage);\n        \n    //             if(errorMessage != null){\n    //                 this.status = 'error';\n    //             }\n    //         }\n    //     )\n    // }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\"fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"icono-Ralph navbar-brand\">\n                <img src=\"../../../../assets/icono.png\"/>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 50px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"panel-body p-3 m-1\">\n        \n            <form autocomplete=\"off\" #productoRForm=\"ngForm\" (ngSubmit)=\"onSubmit(productoRForm)\" class=\"\" *ngIf=\"producto\">\n        \n                <div class=\"img-edit d-block\">\n                    <p class=\"text-center\">\n                        <img *ngIf=\"producto.imagen && producto.imagen != null && localCompressedURl == null\" src=\"{{url + 'obtener-imagen-producto/' + producto.imagen}}\">\n                        <img *ngIf=\"localCompressedURl && localCompressedURl != null\" [src]=\"localCompressedURl\"/>\n                    </p>                    \n                    <div *ngIf=\"!producto.imagen && localCompressedURl == null\" class=\"square mx-auto px-auto\">\n                        <i class=\"icon-img fas fa-camera\"></i>\n                    </div>\n                </div>\n\n                <p class=\"text-center\">\n                    <input id=\"file-upload\" *ngIf=\"producto.imagen && producto.imagen != null\" type=\"file\" accept=\".jpg,.png,.jpeg\" placeholder=\"Subir nueva imagen\" (change)=\"selectFile($event)\" />\n                    <label for=\"file-upload\" class=\"custom-file-upload\" *ngIf=\"producto.imagen && producto.imagen != null\" >Actualizar imágen</label>\n                    <!-- <br *ngIf=\"producto.imagen && producto.imagen != null\">\n                    <button class=\"btn btn-danger\" *ngIf=\"producto.imagen && producto.imagen != null\" (click)=\"eliminarImagenProducto()\">Eliminar imágen</button> -->\n\n                    <input id=\"file-upload\" type=\"file\" *ngIf=\"!producto.imagen\" accept=\".jpg,.png,.jpeg\" placeholder=\"Seleccionar imagen\" (change)=\"selectFile($event)\" />\n                    <label for=\"file-upload\" class=\"custom-file-upload px-3\" *ngIf=\"!producto.imagen\" >Subir imágen</label>\n                    <br>\n                    <label>Procura no subir imágenes muy pesadas</label>\n                </p>\n\n                <hr />\n            \n               <div class=\"form-group\">\n                    <label class=\"sr-only\">Nombre del producto</label>\n                    <input autocomplete=\"off\" type=\"text\" maxlength=\"18\" placeholder=\"Nombre del producto\" name=\"nombre\" #nombre=\"ngModel\" [(ngModel)]=\"producto.nombre\" class=\"form-control\" required />\n                    <span *ngIf=\"!nombre.valid && nombre.touched\">\n                        El nombre es obligatorio\n                    </span>\n               </div>\n           \n               <div class=\"form-group\">\n                    <label class=\"sr-only\">Descripcion</label>\n                    <textarea type=\"text\" placeholder=\"Descripcion\" name=\"descripcion\" #descripcion=\"ngModel\" [(ngModel)]=\"producto.descripcion\" class=\"form-control\" required></textarea>\n                    <span *ngIf=\"!descripcion.valid && descripcion.touched\">\n                        La descripción es obligatoria\n                    </span>\n               </div>\n           \n               <div class=\"form-group row\">\n                   <label class=\"col-5 mr-3 pt-1\">Precio</label>\n                   <label class=\"col-1 pt-1\">$</label>\n                   <input autocomplete=\"off\" type=\"number\" name=\"precio\" #precio=\"ngModel\" [(ngModel)]=\"producto.precio\" class=\"form-control col-3\" required />\n                   <label class=\"col-1 pt-2\">pesos</label>\n               </div>\n\n                <p class=\"text-center\">\n                    <i class=\"mr-2 fas fa-question-circle clickable\" data-toggle=\"modal\" data-target=\"#exampleModalScrollable\"></i>\n                    Comisión Ralph: \n                        <span  *ngIf=\"producto.precio <= 100\" class=\"ml-2\">$ {{producto.precio / 10}}</span>\n                        <span *ngIf=\"producto.precio >= 101 && producto.precio <= 115\" class=\"ml-2\">10</span>\n                        <span *ngIf=\"producto.precio >= 116 && producto.precio <= 130\" class=\"ml-2\">11</span>\n                        <span *ngIf=\"producto.precio >= 131 && producto.precio <= 150\" class=\"ml-2\">12</span>\n                        <span *ngIf=\"producto.precio >= 151 && producto.precio <= 175\" class=\"ml-2\">13</span>\n                        <span *ngIf=\"producto.precio >= 176 && producto.precio <= 200\" class=\"ml-2\">14</span>\n                        <span *ngIf=\"producto.precio >= 201 && producto.precio <= 225\" class=\"ml-2\">15</span>\n                        <span *ngIf=\"producto.precio >= 226 && producto.precio <= 250\" class=\"ml-2\">16</span>\n                        <span *ngIf=\"producto.precio >= 251 && producto.precio <= 275\" class=\"ml-2\">17</span>\n                        <span *ngIf=\"producto.precio >= 276 && producto.precio <= 300\" class=\"ml-2\">18</span>\n                        <span *ngIf=\"producto.precio >= 301 && producto.precio <= 333\" class=\"ml-2\">19</span>\n                        <span *ngIf=\"producto.precio >= 334 && producto.precio <= 366\" class=\"ml-2\">20</span>\n                        <span *ngIf=\"producto.precio >= 367 && producto.precio <= 400\" class=\"ml-2\">21</span>\n                        <span *ngIf=\"producto.precio >= 401 && producto.precio <= 433\" class=\"ml-2\">22</span>\n                        <span *ngIf=\"producto.precio >= 434 && producto.precio <= 466\" class=\"ml-2\">23</span>\n                        <span *ngIf=\"producto.precio >= 467 && producto.precio <= 500\" class=\"ml-2\">24</span>\n                        <span *ngIf=\"producto.precio >= 501 && producto.precio <= 533\" class=\"ml-2\">25</span>\n                        <span *ngIf=\"producto.precio >= 534 && producto.precio <= 566\" class=\"ml-2\">26</span>\n                        <span *ngIf=\"producto.precio >= 567 && producto.precio <= 600\" class=\"ml-2\">27</span>\n                        <span *ngIf=\"producto.precio >= 601 && producto.precio <= 633\" class=\"ml-2\">28</span>\n                        <span *ngIf=\"producto.precio >= 634 && producto.precio <= 666\" class=\"ml-2\">29</span>\n                        <span *ngIf=\"producto.precio >= 667\" class=\"ml-2\">30</span>\n                </p>\n\n                <br>\n           \n                <div class=\"form-group row\">\n                    <label class=\"col-6 mr-3 pt-1\">Tiempo de entrega</label>\n                    <input autocomplete=\"off\" type=\"number\" name=\"tiempoEntrega\" #tiempoEntrega=\"ngModel\" [(ngModel)]=\"producto.tiempoEntrega\" class=\"form-control col-3\" required />\n                    <label class=\"col-1 pt-1\">min.</label>\n                </div>\n           \n                <div class=\"form-group\">\n                    <label>Categoria principal</label>\n                    <select name=\"categoria\" #categoria=\"ngModel\" [(ngModel)]=\"producto.categoria\" class=\"custom-select\">\n                        <option value=\"0\">Selecciona una categoría</option>\n                        <option *ngFor=\"let categoria of categorias\" value=\"{{categoria._id}}\">{{categoria.nombre}}</option>\n                    </select>\n                </div>\n            \n                <div class=\"form-group\">\n                    <label>Sección en tu negocio</label>\n                    <select name=\"seccion\" #seccion=\"ngModel\" [(ngModel)]=\"producto.seccion\" class=\"custom-select\">\n                        <option value=\"0\">Selecciona una sección</option>\n                        <option *ngFor=\"let seccion of secciones\" value=\"{{seccion._id}}\">{{seccion.nombre}}</option>\n                    </select>\n                </div>\n           \n                <h4 class=\"text-center pt-4\">Ingredientes extras</h4>\n\n                <div *ngIf=\"producto.ingredientes[0]\">\n                    <div *ngFor=\"let ingredient of producto.ingredientes\">\n                        <hr>\n                        <div class=\"text-center mx-2 my-2 text\">{{ingredient.titulo}}</div>\n                        <div class=\"text-center mx-2\">Min: {{ingredient.minimo}} <span class=\"mx-2\"> </span> Max: {{ingredient.maximo}}</div>\n                        <div *ngFor=\"let ing of ingredient.ingredientes\" class=\"row my-2\">\n                            <p class=\"col-9 ml-2\">{{ing[0]}}</p>\n        \n                            <div class=\"col-3\">\n                                {{'$' + ing[1]}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <hr>\n                <div class=\"form-group row mt-4\">\n                    <input autocomplete=\"off\" placeholder=\"Título\" type=\"text\" name=\"titulo\" #titulo=\"ngModel\" [(ngModel)]=\"ingredientes.titulo\" class=\"form-control col-7 mr-2 ml-2\" />\n                    <input autocomplete=\"off\" placeholder=\"Min\" type=\"number\" name=\"minimo\" #minimo=\"ngModel\" [(ngModel)]=\"ingredientes.minimo\" class=\"form-control col-2 mr-2\" />\n                    <input autocomplete=\"off\" placeholder=\"Max\" type=\"number\" name=\"maximo\" #maximo=\"ngModel\" [(ngModel)]=\"ingredientes.maximo\" class=\"form-control col-2\" />\n                </div>\n\n                <div *ngIf=\"ingredientes != null\">\n                    <div *ngFor=\"let ingrediente of ingredientesExtras\" class=\"row my-2\">\n                        <p class=\"col-9 ml-2\">{{ingrediente[0]}}</p>\n    \n                        <div class=\"col-3\">\n                            {{'$' + ingrediente[1]}}\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"form-group row\">\n                    <input autocomplete=\"off\" placeholder=\"Ingrediente\" type=\"text\" name=\"fechaVencimiento\" #fechaVencimiento=\"ngModel\" [(ngModel)]=\"cupon.fechaVencimiento\" class=\"form-control col-8 ml-2 mr-3\" />\n                    <input autocomplete=\"off\" placeholder=\"Precio\" type=\"number\" name=\"compraMinima\" #compraMinima=\"ngModel\" [(ngModel)]=\"cupon.compraMinima\" class=\"form-control col-3\" />\n                </div>\n\n                <div class=\"text-center\">\n                    <i class=\"text fas fa-plus\" (click)=\"anadir()\"></i>\n                </div>\n\n                <div class=\"text-center mt-5\">\n                    <p class=\"btn btn-primary\" (click)=\"anadirIngrediente()\">Añadir ingredientes</p>\n                </div>\n\n                <div class=\"alert alert-danger\" *ngIf=\"status == 'error2'\">\n                    No se han podido actualizar tus datos\n                </div>\n            \n                <div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\n                    Se han actualizado tus datos correctamente\n                </div>\n            \n                <div class=\"alert alert-danger\" *ngIf=\"status == 'error1'\">\n                    Llena todos los campios necesarios\n                </div>\n            \n                <div class=\"alert alert-danger\" *ngIf=\"status == 'error3'\">\n                    El precio del producto debe ser mayor a $0\n                </div>\n\n            \n                <p class=\"text-center mt-5 pt-3\">\n                    <input type=\"submit\" value=\"Guardar y publicar\" class=\"btn btn-success mt-3 px-5\" [disabled]=\"!productoRForm.form.valid\">\n                </p>\n            </form>\n\n            <div class=\"mt-5 pt-2\" *ngIf=\"cupon.fechaVencimiento == '1234' && ingredientes.titulo == '1234'\">\n                <p class=\"text-center\"><button class=\"btn btn-secondary\" (click)=\"guardarLocalStorage()\">Añadir a Local Storage</button></p>\n                <p class=\"text-center mt-4\"><button class=\"btn btn-warning\" (click)=\"actualizarLocalStorage()\">Guardar lo de Local Storage</button></p>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"modal\" id=\"exampleModalScrollable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalScrollableLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-dialog-scrollable\" role=\"document\">\n            <div class=\"modal-content my-5\">\n                <div class=\"modal-body pt-4\">\n                    <h5 class=\"modal-title\" id=\"exampleModalCenteredLabel\"><p class=\"text-center text\"><strong>Comisiones</strong></p></h5>\n                    <p class=\"row\"><strong class=\"col-6\">Precio</strong><strong class=\"col-6\">Comisión</strong></p>\n                    <p class=\"row\"><span class=\"col-6\">1 - 100</span><span class=\"col-6\">10 %</span></p>\n                    <p class=\"row\"><span class=\"col-6\">101 - 115</span><span class=\"col-6\">$ 10</span></p>\n                    <p class=\"row\"><span class=\"col-6\">116 - 130</span><span class=\"col-6\">$ 11</span></p>\n                    <p class=\"row\"><span class=\"col-6\">131 - 150</span><span class=\"col-6\">$ 12</span></p>\n                    <p class=\"row\"><span class=\"col-6\">151 - 175</span><span class=\"col-6\">$ 13</span></p>\n                    <p class=\"row\"><span class=\"col-6\">176 - 200</span><span class=\"col-6\">$ 14</span></p>\n                    <p class=\"row\"><span class=\"col-6\">201 - 225</span><span class=\"col-6\">$ 15</span></p>\n                    <p class=\"row\"><span class=\"col-6\">226 - 250</span><span class=\"col-6\">$ 16</span></p>\n                    <p class=\"row\"><span class=\"col-6\">251 - 275</span><span class=\"col-6\">$ 17</span></p>\n                    <p class=\"row\"><span class=\"col-6\">276 - 300</span><span class=\"col-6\">$ 18</span></p>\n                    <p class=\"row\"><span class=\"col-6\">301 - 333</span><span class=\"col-6\">$ 19</span></p>\n                    <p class=\"row\"><span class=\"col-6\">334 - 366</span><span class=\"col-6\">$ 20</span></p>\n                    <p class=\"row\"><span class=\"col-6\">367 - 400</span><span class=\"col-6\">$ 21</span></p>\n                    <p class=\"row\"><span class=\"col-6\">401 - 433</span><span class=\"col-6\">$ 22</span></p>\n                    <p class=\"row\"><span class=\"col-6\">434 - 466</span><span class=\"col-6\">$ 23</span></p>\n                    <p class=\"row\"><span class=\"col-6\">467 - 500</span><span class=\"col-6\">$ 24</span></p>\n                    <p class=\"row\"><span class=\"col-6\">501 - 533</span><span class=\"col-6\">$ 25</span></p>\n                    <p class=\"row\"><span class=\"col-6\">534 - 566</span><span class=\"col-6\">$ 26</span></p>\n                    <p class=\"row\"><span class=\"col-6\">567 - 600</span><span class=\"col-6\">$ 27</span></p>\n                    <p class=\"row\"><span class=\"col-6\">601 - 633</span><span class=\"col-6\">$ 28</span></p>\n                    <p class=\"row\"><span class=\"col-6\">634 - 666</span><span class=\"col-6\">$ 29</span></p>\n                    <p class=\"row\"><span class=\"col-6\">667 - 700</span><span class=\"col-6\">$ 30</span></p>\n                    <p class=\"row\"><span class=\"col-6\">700 +</span><span class=\"col-6\">$ 30</span></p>\n                </div>\n\n                <div class=\"modal-footer\">                \n                    <button type=\"button\" class=\"btn btn-secondary px-4 mt-2\" data-dismiss=\"modal\">Cerrar</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n   <p style=\"height: 5px;\"></p>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {Seccion} from '../../models/seccion';\nimport {RestauranteService} from '../../../services/restaurante.service';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {GLOBAL} from '../../../services/global';\nimport {Location} from '@angular/common';\n\n@Component({\n    selector: 'seccion',\n    templateUrl: './seccion.component.html',\n    providers: [RestauranteService, UsuarioService]\n}) \n\nexport class SeccionComponent implements OnInit{\t\t\t\t\n    public identityR;\n    public token;\n    public title: string;\n    public title2: string;\n    public url: string;\n    public seccion: Seccion;\n    public status: string;\n    public id: any;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _restauranteService: RestauranteService,\n        private _location: Location\n    ){\n        this.title ='Secciones o clasificación de tus productos';\n        this.identityR = this._usuarioService.getIdentityR();\n        this.token = this._usuarioService.getToken();\n        this.url = GLOBAL.url;\n        this.status = null;\n        \n    }\n\n    ngOnInit(){\n        this.loadPage();\n    }\n\n    backClicked() {\n        // this._router.navigate(['/restaurante/perfil']);\n        this._location.back();\n    }\n\n    loadPage(){\n        this._route.params.subscribe(params => {\n            this.id = 0;\n            this.title2 ='Crear seccion';\n\n            if(params['id'] != 0){ \n                this.id = params['id'];\n                this.title2 ='Actualizar sección';\n            }\n\n            if(this.id != 0){\n                this.obtenerSeccion(this.id);                \n            } else {\n                this.seccion = new Seccion(\"\", \"\",\"\",null);\n            }\n        })\n    }\n\n    obtenerSeccion(id){\n        this._restauranteService.obtenerSeccion(id).subscribe(\n            response => {                \n                if(response.seccion && response.seccion._id){\n                    this.seccion = response.seccion;\n                } else {\n                    this.status = 'error2';\n                }\n            },\n            error => {\n                this.status = 'error2';\n                // console.log(<any>error)\n            }\n        )\n    }\n\n    onSubmit(form){\n        if(this.id == 0){\n            this.action1(form);\n        } else {\n            this.action2();\n        }\n    }\n\n    action1(form){\n        this._restauranteService.crearSeccion(this.token, this.identityR._id, this.seccion).subscribe(\n            response => {\n                if(response.seccion && response.seccion._id){\n                    form.reset();\n                    // this._router.navigate(['/restaurante/perfil']);\n                    this._location.back();\n                } else {\n                    this.status = 'error1';\n                }\n            },\n            error => {\n                this.status = 'error1';\n                // console.log(<any>error)\n            }\n        );\n    }\n\n    action2(){\n        this._restauranteService.actualizarSeccion(this.token, this.identityR._id, this.seccion._id, this.seccion).subscribe(\n            response => {\n                if(response.seccion && response.seccion._id){\n                    this.status = 'success';\n                    this._location.back();\n                } else {\n                    this.status = 'error2';\n                }\n            },\n            error => {\n                this.status = 'error2';\n                // console.log(<any>error)\n            }\n        );\n    }\n}\n\n\n\n","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\" fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"icono-Ralph navbar-brand\">\n                <img src=\"../../../../assets/icono.png\"/>\n            </div>\n        </div>\n    </nav>\n    <p style=\"height: 50px;\"></p>\n    \n\n    <div class=\"container\">\n        <div class=\"panel-body p-3 m-1\">\n\n    <form autocomplete=\"off\" #seccionForm=\"ngForm\" (ngSubmit)=\"onSubmit(seccionForm)\" class=\"\" *ngIf=\"seccion\">\n\n        <h3 class=\"h3-strong\">{{title}}</h3>\n\n        <br>\n\n        <p>\n            <label>Nombre</label>\n            <input autocomplete=\"off\" type=\"text\" name=\"nombre\" #nombre=\"ngModel\" [(ngModel)]=\"seccion.nombre\" class=\"form-control\" required />\n            <span *ngIf=\"!nombre.valid && nombre.touched\">\n                El nombre es obligatorio\n            </span>\n        </p>\n        \n        <p>\n            <label>Posición</label>\n            <input autocomplete=\"off\" type=\"number\" name=\"posicion\" #posicion=\"ngModel\" [(ngModel)]=\"seccion.posicion\" class=\"form-control\" required />\n            <span *ngIf=\"!posicion.valid && posicion.touched\">\n                La posición es obligatoria\n            </span>\n        </p>\n\n        <div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\n            Se han actualizado tus datos correctamente\n        </div>\n    \n        <div class=\"alert alert-danger\" *ngIf=\"status == 'error2'\">\n            No se han podido actualizar tus datos\n        </div>\n    \n        <div class=\"alert alert-danger\" *ngIf=\"status == 'error1'\">\n            Llena todos los campios necesarios\n        </div>\n\n        <p class=\"text-center mt-4\">\n            <input type=\"submit\" value=\"{{title2}}\" class=\"btn btn-success mt-2 px-4\" [disabled]=\"!seccionForm.form.valid\">\n        </p>\n    </form>\n\n        </div>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {Router, ActivatedRoute, Params} from '@angular/router';\nimport {UsuarioService} from '../../../services/usuario.service';\nimport {PedidoService} from '../../../services/pedido.service';\nimport {Pedido} from '../../../models/pedido';\nimport {Location} from '@angular/common';\nimport * as $ from 'jquery';\n\n\n@Component({\n    selector: 'ventas',\n    templateUrl: './ventas.component.html',\n    providers: [UsuarioService, PedidoService]\n}) \n\nexport class ventasComponent implements OnInit{\n    public token;\n    public identityR;\n    public status;\n    public total;\n    public pedidos: Pedido[];\n    public page: number;\n    public pages: number;\n    public loading: boolean;\n    public completedload: boolean;\n    public restaurante: any;\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService,\n        private _pedidoService: PedidoService,\n        private _location: Location\n    ){\n        this.token = this._usuarioService.getToken();\n        this.identityR = this._usuarioService.getIdentityR();\n        this.restaurante = this.identityR;\n        this.pedidos = [];\n        this.page = 1;\n        this.loading = false;\n        this.completedload = false;\n        this.status = null;\n    }\n\n    ngOnInit(){\n        this.obtenerPedidos(this.page);\n        this.checkModal();\n    }\n\n    checkModal(){\n        if($('.modal.in, .modal.show').length > 0){\n            window.location.reload();\n        }\n    }\n\n    backClicked() {\n        // this._router.navigate(['/restaurante/inicio']);\n        this._location.back();\n    }\n\n    onScroll(){\n        this.page += 1;\n        \n        if(this.page == this.pages+1){\n            this.loading = false;\n        } else {\n            this.loading = true;\n            this.obtenerPedidos(this.page, true);\n        }\n    }\n\n\n    obtenerPedidos(page, adding = false){\n        this._pedidoService.obtenerPedidos(this.token, this.identityR._id, page, 1).subscribe(\n            response => {\n                if(!response){\n                    return this.status = 'error';\n                }\n                this.completedload = true;\n                this.pages = response.pages\n\n                if(!adding){\n                    this.pedidos = response.pedidos;\n                    this.total = response.total;\n                    this.loading = false;\n                } else {\n                    var arrayA = this.pedidos;\n                    var arrayB = response.pedidos;\n                    this.pedidos = arrayA.concat(arrayB);\n                    this.loading = false;\n                }\n            \n            },\n            error => {\n                var errorMessage = <any>error;\n                // console.log(errorMessage);\n        \n                if(errorMessage != null){\n                    this.status = 'error';\n                }\n            }\n        )\n    }\n}","<div id=\"fondo\">\n    <nav class=\"navbar navbar-default fixed-top\">            \n        <div class=\"row col-12 \" style=\"height: 40px\">\n            <div class=\"icon\" (click)=\"backClicked()\"> \n                <i class=\"fa fa-arrow-left\"></i>  \n            </div>\n\n            <div class=\"res-nom col-10 ml-2\">\n                <p class=\"text-center mt-1\">Mis ventas</p>\n            </div>\n\n            <div class=\"navbars flex-grow-1\">\n                <p class=\"clickable text-right mr-1\" [routerLink]=\"['/restaurante/credito-debo']\">\n                    <i class=\"icon fas fa-credit-card\"></i>\n                </p>\n            </div>\n        </div>\n    </nav>\n\n    <p style=\"height: 60px;\"></p>\n\n    <div class=\"container\">\n        <div class=\"alert alert-danger mx-3\" *ngIf=\"status == 'error'\">\n            <p class=\"text-center\">\n                Ha ocurrido un error.\n            </p>\n        </div>\n\n        <div class=\"row\" style=\"height: 40px\" *ngIf=\"pedidos[0]\"> \n            <p class=\"pl-4 subtitle col-6\">\n                {{'Total: ' + total}}\n            </p>\n        </div>\n\n        <div *ngIf=\"pedidos.length == 0 && completedload\" class=\"sinpedidos\">\n            <p style=\"height: 90px;\"></p>\n            <p class=\"text-center\"><i class=\"sinpedidos-icon far fa-clipboard\"></i></p>\n            <p class=\"text-center\">Aún no has tenido tu primera venta</p>\n        </div>\n\n        <div class=\"mt-4\" infiniteScroll [infiniteScrollDistance]=\"2\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\">\n            <div *ngFor=\"let pedido of pedidos\" class=\"mb-4 mt-2\"> \n                <div class=\"card\" style=\"height: 120px;\" [routerLink]=\"['/restaurante/pedido', pedido._id, 1]\">\n                    <div class=\"card-body pedido-card\">\n                        <!-- <div class=\"row\">\n                            <p class=\"pedido-card-tiempo flex-grow-1 text-center mx-5\">\n                                {{(pedido.fecha | amFromUnix) | amLocale:'es' | amTimeAgo}}\n                            </p>\n                        </div> -->\n                        <div class=\"row\">\n                            <p  class=\"pedido-card-icon pl-4 col-2\">{{pedido.contenido.length}}</p>\n                            <p *ngIf=\"pedido.contenido.length == 1\" class=\"pedido-card-text ml-1\">Producto</p>\n                            <p *ngIf=\"pedido.contenido.length > 1\" class=\"pedido-card-text ml-1\">Productos</p>\n                            <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"!pedido.cupon && restaurante.servicioDomicilio == false\">{{'$' + pedido.total}}</p>\n                            <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"!pedido.cupon && restaurante.servicioDomicilio == true\">{{'$' + (pedido.total + pedido.envio)}}</p>\n                            <p class=\"pedido-card-total flex-grow-1 text-right\" *ngIf=\"pedido.cupon\">{{'$' + (pedido.total + pedido.envio - pedido.cupon)}}</p>\n                        </div>\n  \n                        <div class=\"row pedido-line mb-1\">\n                            <i class=\"pedido-card-icon fas fa-user col-2 mt-1 ml-1\"></i>                \n                            <p class=\"pedido-card-text\">{{pedido.usuario.nombre + ' ' + pedido.usuario.apellido}}</p>\n                        </div>\n\n                        <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'En camino'\">\n                            <!-- <i class=\"pedido-card-icon fas fa-user col-2 mt-1 ml-1\"></i> -->\n                            <i class=\"icon-status-camino fas fa-biking col-2 mt-1\"></i>\n                            <!-- <i class=\"icon-status-camino fas fa-motorcycle\"></i> -->\n                            <p class=\"pedido-card-text ml-1\">{{pedido.status}}</p>\n                        </div>\n                        <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'Completado'\">\n                            <!-- <i class=\"pedido-card-icon fas fa-user col-2 mt-1 ml-1\"></i> -->\n                            <i class=\"icon-status-completado fas fa-check-circle col-2 mt-1 ml-1\"></i>\n                            <p class=\"pedido-card-text\">{{pedido.status}}</p>\n                        </div>\n                        <div class=\"row pedido-line\" *ngIf=\"pedido.status == 'Cancelado'\">\n                            <!-- <i class=\"pedido-card-icon fas fa-user col-2 mt-1 ml-1\"></i> -->\n                            <i class=\"icon-status-cancelado fas fa-times-circle col-2 mt-1 ml-1\"></i>\n                            <p class=\"pedido-card-text\">{{pedido.status}}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n        <div *ngIf=\"loading\">\n            <p class=\"text-center pt-2\">\n                <img src=\"../../../../assets/loading.gif\" width=\"20px\">\n            </p>\n        </div>\n</div>","export class Ingredientes{\n    constructor(\n        public titulo: string,\n        public minimo: number,\n        public maximo: number,\n        public ingredientes: Array<object>\n    ){}\n}","export class Producto{\n    constructor(\n        public _id: string,\n        public restaurante: string,\n        public nombre: string,\n        public descripcion: string,\n        public imagen: string,\n        public precio: number,\n        public tiempoEntrega: string,\n        public categoria: string,\n        public seccion: string,\n        public status: string,\n        public ingredientes: Array<object>\n    ){}\n}","export class Restaurante{\n    constructor(\n        public _id: string,\n        public propietario: string,\n        public nombre: string,\n        public ubicacion: string,\n        public municipio: string,\n        public imagen: string,\n        public telefono: string,\n        public horario: Array<string>,\n        // public horario: string,\n        public status: string,\n        public credito: number,\n        public debe: number,\n        public ralphDebe: number,\n        public servicioDomicilio: boolean,\n        public visitas: String,\n        public pedidoMinimo: Number,\n        public envio: Array<number>,\n        public FBads: Boolean\n    ){}\n}","export class Seccion{\n    constructor(\n        public _id: string,\n        public restaurante: string,\n        public nombre: string,\n        public posicion: number\n    ){}\n}","import {Injectable} from '@angular/core';\nimport {Router, CanActivate} from '@angular/router';\nimport {UsuarioService} from '../usuario.service';\n\n@Injectable()\n\nexport class AdminGuard implements CanActivate{\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService\n    ){}\n\n    canActivate(){\n        let identity = this._usuarioService.getIdentity();\n\n        if(identity && (identity.rol == 'ADMIN')){\n            return true;\n        } else {\n            this._router.navigate(['/']);\n            return false;\n        }\n    }\n}","import {Injectable} from '@angular/core';\nimport {Router, CanActivate} from '@angular/router';\nimport {UsuarioService} from '../usuario.service';\n\n@Injectable()\n\nexport class RepartidorGuard implements CanActivate{\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService\n    ){}\n\n    canActivate(){\n        let identity = this._usuarioService.getIdentity();\n\n        if(identity && (identity.rol == 'REPARTIDOR')){\n            return true;\n        } else {\n            this._router.navigate(['/']);\n            return false;\n        }\n    }\n}","import {Injectable} from '@angular/core';\nimport {Router, CanActivate} from '@angular/router';\nimport {UsuarioService} from '../usuario.service';\n\n@Injectable()\n\nexport class RestaurantGuard implements CanActivate{\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService\n    ){}\n\n    canActivate(){\n        let identity = this._usuarioService.getIdentity();\n\n        if(identity && (identity.rol == 'RESTAURANTE' || identity.rol == 'EMPLEADO')){\n            return true;\n        } else {\n            this._router.navigate(['/']);\n            return false;\n        }\n    }\n}","import {Injectable} from '@angular/core';\nimport {Router, CanActivate} from '@angular/router';\nimport {UsuarioService} from '../usuario.service';\n\n@Injectable()\n\nexport class UserGuard implements CanActivate{\n\n    constructor(\n        private _router: Router,\n        private _usuarioService: UsuarioService\n    ){}\n\n    canActivate(){\n        let identity = this._usuarioService.getIdentity();\n\n        if(identity && (identity.rol == 'USUARIO' || identity.rol == 'RESTAURANTE' || identity.rol == 'EMPLEADO' || identity.rol == 'ADMIN' || identity.rol == 'REPARTIDOR')){\n            return true;\n        } else {\n            this._router.navigate(['/']);\n            return false;\n        }\n    }\n}","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs/Observable';\nimport {GLOBAL} from './global';\n\n\n@Injectable()\nexport class CuponService{\n    public url: string;\n\n    constructor(private _http: HttpClient){\n        this.url = GLOBAL.url;\n    }\n    \n\n    nuevoCupon(codigo, token): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                                .set('Authorization', token);\n        return this._http.get(this.url+'cupon/' + codigo, {headers: headers});\n    }\n\n    obtenerCupones(token, n): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                                .set('Authorization', token);\n        return this._http.get(this.url+'obtener-cupones' + '/' + n, {headers: headers});\n    }\n\n    actualizarCupon(token, cupon): Observable<any>{\n        let params = JSON.stringify(cupon);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                                .set('Authorization', token);\n        return this._http.post(this.url+'actualizar-cupon', params, {headers: headers});\n    }\n\n    todosLosCupones(token): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                                .set('Authorization', token);\n        return this._http.get(this.url+'todos-los-cupones', {headers: headers});\n    }\n}","export var GLOBAL = {\n    url: 'https://ralph.tk/api/'\n    // url: 'https://ralph.com.mx/api/'\n    // url: 'http://localhost:3000/api/'\n}","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs/Observable';\nimport {GLOBAL} from './global';\n\n\n@Injectable()\nexport class MunicipiosService{\n    public url: string;\n\n    constructor(private _http: HttpClient){\n        this.url = GLOBAL.url;\n    }\n\n\n    obtenerMunicipios(): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'municipios', {headers: headers});\n    }\n\n    obtenerCategorias(): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'categorias-municipios', {headers: headers});\n    }\n}","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs/Observable';\nimport {GLOBAL} from './global';\nimport {Pedido} from '../models/pedido';\nimport {Notificacion} from '../models/notificacion';\n\n@Injectable()\nexport class PedidoService{\n    public url:string;\n\n    constructor(public _http: HttpClient){\n        this.url = GLOBAL.url;\n    }\n\n    crearPedido(token, pedido: Pedido): Observable<any>{\n        let params = JSON.stringify(pedido);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.post(this.url+'crear-pedido', params, {headers: headers});\n    }\n\n    actualizarPedido(token, pedidoId, usuarioId, status): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'Application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'actualizar-pedido/' + pedidoId + '/' + usuarioId + '/' + status, {headers: headers});\n    }\n\n    obtenerPedido(token, pedidoId, who): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'Application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'pedido/' + pedidoId + '/' + who, {headers: headers});\n    }\n\n    obtenerPedidos(token, restauranteId, page = 1, stats):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'pedidos/'+ restauranteId +'/'+ page +'/'+ stats, {headers: headers});\n    }\n\n    obtenerPedidosUsuario(token, usuarioId, page = 1, stats):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'pedidos-usuario/'+ usuarioId +'/'+ page +'/'+ stats, {headers: headers});\n    }\n\n    contarPedidos(token, id, who):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'contar-pedidos/'+ id +'/'+ who, {headers: headers});\n    }\n\n    eliminarPedido(token, id): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.delete(this.url+'eliminar-pedido/'+ id, {headers: headers});\n    }\n\n    push(token, notification: Notificacion){\n        let params = JSON.stringify(notification);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.post(this.url+'push', params, {headers: headers});\n    }\n\n    obtenerPedidosRepartidor(token):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'pedidos-repartidor', {headers: headers});\n    }\n}","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs/Observable';\nimport {GLOBAL} from './global';\nimport {Producto} from '../restaurantes/models/producto';\n\n@Injectable()\nexport class ProductoService{\n    public url:string;\n\n    constructor(public _http: HttpClient){\n        this.url = GLOBAL.url;\n    }\n\n    crearProducto(token, producto: Producto): Observable<any>{\n        let params = JSON.stringify(producto);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n\n        return this._http.post(this.url+'crear-producto', params, {headers: headers});\n    }\n\n    actualizarproducto(token, restauranteId, producto: Producto): Observable<any>{\n        let params = JSON.stringify(producto);\n        let headers = new HttpHeaders().set('Content-Type', 'Application/json')\n                                        .set('Authorization', token);\n        return this._http.put(this.url+'actualizar-producto/'+ restauranteId + '/' + producto._id, params, {headers: headers});\n    }\n\n    obtenerProducto(productoId): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'Application/json');\n        return this._http.get(this.url+'producto/'+productoId, {headers: headers});\n    }\n    \n    obtenerProductos(peticion, page = 1):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        \n        // api.get('/productos/:res?/:cat?/:sec?/:nom?/:page?', ProductoControler.obtenerProductos);\n\n        return this._http.get(this.url+'productos/'+ peticion +'/'+page, {headers: headers});\n    }\n\n    obtenerProductosRestaurante(seccionId):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'productosR/'+ seccionId, {headers: headers});\n    }\n    \n    obtenerProductosRandom(peticion):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'productos-random/'+ peticion, {headers: headers});\n    }\n\n    activarProducto(token, id, status): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n\n        return this._http.get(this.url+'activar-producto/'+ id + '/' + status, {headers: headers});\n    }\n\n    eliminarProducto(token, id): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n\n        return this._http.delete(this.url+'producto/'+ id, {headers: headers});\n    }\n\n    eliminarImagenProducto(token, id): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n\n        return this._http.get(this.url+'imagen-producto/'+ id, {headers: headers});\n    }\n}","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs/Observable';\nimport {GLOBAL} from './global';\nimport {Restaurante} from '../restaurantes/models/restaurante';\nimport {Seccion} from '../restaurantes/models/seccion';\nimport {Deposito} from '../admin/models/deposito';\n\n@Injectable()\nexport class RestauranteService{\n    public url:string;\n\n    constructor(public _http: HttpClient){\n        this.url = GLOBAL.url;\n    }\n\n\n    obtenerRestaurante(restauranteId): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'Application/json');\n        return this._http.get(this.url+'restaurante/' + restauranteId, {headers: headers});\n    }\n\n    obtenerRestaurantesAdmin(token, status): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'Application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'restaurantes-admin/' + status, {headers: headers});\n    }\n\n    actualizarRestaurante(token, restaurante: Restaurante): Observable<any>{\n        let params = JSON.stringify(restaurante);\n        let headers = new HttpHeaders().set('Content-Type', 'Application/json')\n                                        .set('Authorization', token);\n        return this._http.put(this.url+'actualizar-restaurante/'+restaurante._id, params, {headers: headers});\n    }\n\n    registrarRestaurante(token, restaurante: Restaurante): Observable<any>{\n        let params = JSON.stringify(restaurante);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n\n        return this._http.post(this.url+'registrar-restaurante', params, {headers: headers});\n    }\n\n    obtenerRestaurantes(municipioId, who):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n\n        return this._http.get(this.url+'restaurantes/'+ municipioId + '/' + who, {headers: headers});\n    }\n\n    obtenerSeccion(seccionId):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n\n        return this._http.get(this.url+'obtener-seccion-restaurante/' + seccionId, {headers: headers});\n    }\n    \n    obtenerSecciones(restauranteId, page = 1, who):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n\n        return this._http.get(this.url+'obtener-secciones-restaurantes/'+ restauranteId + '/' + who + '/' + page, {headers: headers});\n    }\n\n    actualizarSeccion(token, restauranteId, seccionId, seccion: Seccion): Observable<any>{\n        let params = JSON.stringify(seccion);\n        let headers = new HttpHeaders().set('Content-Type', 'Application/json')\n                                        .set('Authorization', token);\n\n        return this._http.put(this.url+'actualizar-seccion-restaurante/'+restauranteId + '/' + seccionId, params, {headers: headers});\n    }\n\n    crearSeccion(token, restauranteId, seccion: Seccion): Observable<any>{\n        let params = JSON.stringify(seccion);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n\n        return this._http.post(this.url+'crear-seccion-restaurante/' + restauranteId, params, {headers: headers});\n    }\n\n    eliminarSeccion(token, seccionId): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n\n        return this._http.delete(this.url+'eliminar-seccion/' + seccionId, {headers: headers});\n    }\n\n    actualizarCredito(token, restauranteId, numero, cantidad): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'credito/' + restauranteId + '/' + numero + '/' + cantidad, {headers: headers});\n    }\n\n    darDeAltaRestaurante(token, restauranteId, status): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'alta-restaurante/' + restauranteId + '/' + status, {headers: headers});\n    }\n\n    activarRestaurantes(token, horas = 0): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'abrirrestaurantes/estaesmicontrasena/' + horas, {headers: headers});\n    }\n\n    obtenerHorario(token, restauranteId): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'obtener-horario/' + restauranteId, {headers: headers});\n    }\n\n    opcionesRestaurante(token, restauranteId, opcion): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'opciones-restaurante/' + restauranteId + '/' + opcion, {headers: headers});\n    }\n\n    servicioDom(token, restauranteId, opcion): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'servicioDom/' + restauranteId + '/' + opcion, {headers: headers});\n    }\n\n    crearDeposito(token, deposito: Deposito): Observable<any>{\n        let params = JSON.stringify(deposito);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.post(this.url+'crear-deposito', params, {headers: headers});\n    }\n\n    obtenerDeposito(token, depositoId): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'obtener-deposito/' + depositoId, {headers: headers});\n    }\n\n    obtenerDepositos(token, restauranteId, page = 1): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'obtener-depositos/' + restauranteId + '/' + page, {headers: headers});\n    }\n\n    crearCobro(token, cobro): Observable<any>{\n        let params = JSON.stringify(cobro);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.post(this.url+'crear-cobro', params, {headers: headers});\n    }\n\n    obtenerCobro(token, cobroId): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'obtener-cobro/' + cobroId, {headers: headers});\n    }\n\n    obtenerCobros(token, restauranteId, page = 1): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', token);\n        return this._http.get(this.url+'obtener-cobros/' + restauranteId + '/' + page, {headers: headers});\n    }\n}","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs/Observable';\nimport {GLOBAL} from './global';\n\n\n@Injectable()\nexport class StatsService{\n    public url: string;\n\n    constructor(private _http: HttpClient){\n        this.url = GLOBAL.url;\n    }\n\n\n    nuevaVisitaApp(municipioId, usuarioId, rol): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'stats/' + municipioId + '/' + usuarioId + '/' + rol, {headers: headers});\n    }\n\n    nuevaVisita(rol): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'nueva-visita/' + rol, {headers: headers});\n    }\n\n    nuevaVisitaRestaurante(restauranteId): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'stat/' + restauranteId, {headers: headers});\n    }\n\n    obtenerVisitas(): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'visitas/', {headers: headers});\n    }\n\n    nuevavisitaFB(campania, tipoAnuncio, numeroAnuncio, municipio, usuario): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'visitafb/' + campania + '/' + tipoAnuncio + '/' + numeroAnuncio + '/' + municipio + '/' + usuario, {headers: headers});\n    }\n\n    nuevaVisitaPublicidad(parametro): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'visitapub/' + parametro, {headers: headers});\n    }\n\n    promoCupon(status): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'promo-cupon/' + status, {headers: headers});\n    }\n\n    nuevoClickCategoria(id): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'click-categoria/' + id, {headers: headers});\n    }\n\n    nuevoPedido(status): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'nuevo-pedido/' + status, {headers: headers});\n    }\n\n    cuponExpirado(status): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'cupon-expirado/' + status, {headers: headers});\n    }\n\n    allStats(): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'allstats', {headers: headers});\n    }\n\n    getStats(collection, page): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this._http.get(this.url+'get-stats/' + collection + '/' + page, {headers: headers});\n    }\n}","import {Injectable} from '@angular/core'\nimport {GLOBAL} from './global';\n\n@Injectable()\nexport class UploadService {\n    public url: string;\n\n    constructor() {\n        this.url = GLOBAL.url;\n    }\n\n    makeFileRequest(url: string, file: File, token: string, name: string, method: string){\n        // console.log(file);\n\n        return new Promise(function(resolve, reject){\n            var formData: any = new FormData();\n            var xhr = new XMLHttpRequest();\n\n            formData.append(name, file);                \n\n            xhr.onreadystatechange = function(){\n                if(xhr.readyState == 4){\n                    if(xhr.status == 200){\n                        resolve(JSON.parse(xhr.response));\n                    } else {\n                        reject(xhr.response);\n                    }\n                }\n            }\n\n            xhr.open(method, url, true);\n            xhr.setRequestHeader('Authorization', token);\n            xhr.send(formData);\n        });\n    }\n}","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs/Observable';\nimport {GLOBAL} from './global';\nimport {Usuario} from '../models/usuario';\n\n@Injectable()\nexport class UsuarioService{\n    public url:string;\n    public identity;\n    public identityR;\n    public token;\n\n    constructor(public _http: HttpClient){\n        this.url = GLOBAL.url;\n    }\n\n    register(usuario: Usuario): Observable<any>{\n        let params = JSON.stringify(usuario);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n\n        return this._http.post(this.url+'registro', params, {headers: headers});\n    }\n\n    signup(usuario, gettoken = null): Observable<any>{\n        if(gettoken != null){\n            usuario.gettoken = gettoken;\n        }\n\n        let params = JSON.stringify(usuario);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json');\n\n        return this._http.post(this.url+'login', params, {headers: headers});\n    }\n\n    getIdentity(){\n        let identity = JSON.parse(localStorage.getItem('identity'));\n\n        if(!identity){\n            this.identity = null;\n        }\n\n        if(identity != \"undefined\"){\n            this.identity = identity;\n        } else {\n            this.identity = null;\n        }\n\n        return this.identity;\n    }\n\n    getIdentityR(){\n        let identityR = JSON.parse(localStorage.getItem('identityR'));\n\n        if(!identityR){\n            this.identityR = null;\n        }\n\n        if(identityR != \"undefined\"){\n            this.identityR = identityR;\n        } else {\n            this.identityR = null;\n        }\n\n        return this.identityR;\n    }\n\n    getToken(){\n        let token = localStorage.getItem('token');\n\n        if(token != \"undefined\"){\n            this.token = token;\n        } else {\n            this.token = null;\n        }\n\n        return this.token;\n    }\n\n    actualizarUsuario(usuario: Usuario): Observable<any>{\n        let params = JSON.stringify(usuario);\n        let headers = new HttpHeaders().set('Content-Type', 'Application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.put(this.url+'actualizar-usuario', params, {headers: headers});\n    }\n\n    actualizarPermisosUsuario(usuarioId, permiso): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'Application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'actualizar-permisos-usuario/' + usuarioId + '/' + permiso, {headers: headers});\n    }\n\n    obtenerUsuario(id):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n\n        return this._http.get(this.url+'obtener-usuario/'+id, {headers: headers});\n    }\n\n    obtenerUsuario2(id):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n\n        return this._http.get(this.url+'obtener-usuario2/'+id, {headers: headers});\n    }\n\n    obtenerUsuarios(id):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n\n        return this._http.get(this.url+'obtener-usuarios/'+id, {headers: headers});\n    }\n\n    codigoVerificacion(telefono):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n        return this._http.get(this.url+'codigo/' + telefono, {headers: headers});\n    }\n\n    verificarTelefono(telefono, codigo):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n        return this._http.get(this.url+'verificacion/' + telefono + '/' + codigo, {headers: headers});\n    }\n\n    todosLosUsuarios():Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'todos-los-usuarios', {headers: headers});\n    }\n\n    todosLosUsuarios2(page):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'todos-los-usuarios2/' + page, {headers: headers});\n    }\n\n    usuariosSinActivar(page):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'usuarios-sin-activar/' + page, {headers: headers});\n    }\n\n    activarUsuario(id, status):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'usuario-activar/' + id + '/' + status, {headers: headers});\n    }\n\n    contarUsuarios(status, parametro):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'usuario-contar/' + status + '/' + parametro, {headers: headers});\n    }\n\n    todosEmpleados():Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'todos-los-empleados', {headers: headers});\n    }\n\n    eliminarUsuario(id):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.delete(this.url+'eliminar-usuario/' + id + '/notelasabes', {headers: headers});\n    }\n\n    llamarUsuario(usuarioId):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'llamada/' + usuarioId, {headers: headers});\n    }\n\n    pushNotification(usuarioId):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'push-notification/' + usuarioId, {headers: headers});\n    }\n\n    prepararContra(usuarioId):Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'preparar-contra/imyourfather/' + usuarioId, {headers: headers});\n    }\n\n    actualizarContra(usuario: Usuario): Observable<any>{\n        let params = JSON.stringify(usuario);\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.post(this.url+'actualizar-usuario-contra', params, {headers: headers});\n    }\n\n    buscarUsuario(parametro): Observable<any>{\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\n                                        .set('Authorization', this.getToken());\n        return this._http.get(this.url+'buscar-usuario/' + parametro, {headers: headers});\n    }\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}